(self.webpackChunkpet=self.webpackChunkpet||[]).push([[179],{2572:Pe=>{function de(S){return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+S+"'");throw y.code="MODULE_NOT_FOUND",y})}de.keys=()=>[],de.resolve=de,de.id=2572,Pe.exports=de},6754:(Pe,de,S)=>{"use strict";var y=S(2057),R=S(4788);class H extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ge extends H{static makeCurrent(){(0,y.HT)(new ge)}onAndCancel(De,he,Ke){return De.addEventListener(he,Ke,!1),()=>{De.removeEventListener(he,Ke,!1)}}dispatchEvent(De,he){De.dispatchEvent(he)}remove(De){De.parentNode&&De.parentNode.removeChild(De)}createElement(De,he){return(he=he||this.getDefaultDocument()).createElement(De)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(De){return De.nodeType===Node.ELEMENT_NODE}isShadowRoot(De){return De instanceof DocumentFragment}getGlobalEventTarget(De,he){return"window"===he?window:"document"===he?De:"body"===he?De.body:null}getBaseHref(De){const he=(ee=ee||document.querySelector("base"),ee?ee.getAttribute("href"):null);return null==he?null:function(Te){ne=ne||document.createElement("a"),ne.setAttribute("href",Te);const De=ne.pathname;return"/"===De.charAt(0)?De:`/${De}`}(he)}resetBaseElement(){ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(De){return(0,y.Mx)(document.cookie,De)}}let ne,ee=null;const q=new R.OlP("TRANSITION_ID"),K=[{provide:R.ip1,useFactory:function(Te,De,he){return()=>{he.get(R.CZH).donePromise.then(()=>{const Ke=(0,y.q)(),pt=De.querySelectorAll(`style[ng-transition="${Te}"]`);for(let gn=0;gn<pt.length;gn++)Ke.remove(pt[gn])})}},deps:[q,y.K0,R.zs3],multi:!0}];class z{static init(){(0,R.VLi)(new z)}addToWindow(De){R.dqk.getAngularTestability=(Ke,pt=!0)=>{const gn=De.findTestabilityInTree(Ke,pt);if(null==gn)throw new Error("Could not find testability for element.");return gn},R.dqk.getAllAngularTestabilities=()=>De.getAllTestabilities(),R.dqk.getAllAngularRootElements=()=>De.getAllRootElements(),R.dqk.frameworkStabilizers||(R.dqk.frameworkStabilizers=[]),R.dqk.frameworkStabilizers.push(Ke=>{const pt=R.dqk.getAllAngularTestabilities();let gn=pt.length,mn=!1;const Cr=function(lr){mn=mn||lr,gn--,0==gn&&Ke(mn)};pt.forEach(function(lr){lr.whenStable(Cr)})})}findTestabilityInTree(De,he,Ke){if(null==he)return null;const pt=De.getTestability(he);return null!=pt?pt:Ke?(0,y.q)().isShadowRoot(he)?this.findTestabilityInTree(De,he.host,!0):this.findTestabilityInTree(De,he.parentElement,!0):null}}let oe=(()=>{class Te{build(){return new XMLHttpRequest}}return Te.\u0275fac=function(he){return new(he||Te)},Te.\u0275prov=R.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const be=new R.OlP("EventManagerPlugins");let fe=(()=>{class Te{constructor(he,Ke){this._zone=Ke,this._eventNameToPlugin=new Map,he.forEach(pt=>pt.manager=this),this._plugins=he.slice().reverse()}addEventListener(he,Ke,pt){return this._findPluginFor(Ke).addEventListener(he,Ke,pt)}addGlobalEventListener(he,Ke,pt){return this._findPluginFor(Ke).addGlobalEventListener(he,Ke,pt)}getZone(){return this._zone}_findPluginFor(he){const Ke=this._eventNameToPlugin.get(he);if(Ke)return Ke;const pt=this._plugins;for(let gn=0;gn<pt.length;gn++){const mn=pt[gn];if(mn.supports(he))return this._eventNameToPlugin.set(he,mn),mn}throw new Error(`No event manager plugin found for event ${he}`)}}return Te.\u0275fac=function(he){return new(he||Te)(R.LFG(be),R.LFG(R.R0b))},Te.\u0275prov=R.Yz7({token:Te,factory:Te.\u0275fac}),Te})();class Oe{constructor(De){this._doc=De}addGlobalEventListener(De,he,Ke){const pt=(0,y.q)().getGlobalEventTarget(this._doc,De);if(!pt)throw new Error(`Unsupported event target ${pt} for event ${he}`);return this.addEventListener(pt,he,Ke)}}let se=(()=>{class Te{constructor(){this._stylesSet=new Set}addStyles(he){const Ke=new Set;he.forEach(pt=>{this._stylesSet.has(pt)||(this._stylesSet.add(pt),Ke.add(pt))}),this.onStylesAdded(Ke)}onStylesAdded(he){}getAllStyles(){return Array.from(this._stylesSet)}}return Te.\u0275fac=function(he){return new(he||Te)},Te.\u0275prov=R.Yz7({token:Te,factory:Te.\u0275fac}),Te})(),et=(()=>{class Te extends se{constructor(he){super(),this._doc=he,this._hostNodes=new Map,this._hostNodes.set(he.head,[])}_addStylesToHost(he,Ke,pt){he.forEach(gn=>{const mn=this._doc.createElement("style");mn.textContent=gn,pt.push(Ke.appendChild(mn))})}addHost(he){const Ke=[];this._addStylesToHost(this._stylesSet,he,Ke),this._hostNodes.set(he,Ke)}removeHost(he){const Ke=this._hostNodes.get(he);Ke&&Ke.forEach(gt),this._hostNodes.delete(he)}onStylesAdded(he){this._hostNodes.forEach((Ke,pt)=>{this._addStylesToHost(he,pt,Ke)})}ngOnDestroy(){this._hostNodes.forEach(he=>he.forEach(gt))}}return Te.\u0275fac=function(he){return new(he||Te)(R.LFG(y.K0))},Te.\u0275prov=R.Yz7({token:Te,factory:Te.\u0275fac}),Te})();function gt(Te){(0,y.q)().remove(Te)}const Vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},mt=/%COMP%/g;function hn(Te,De,he){for(let Ke=0;Ke<De.length;Ke++){let pt=De[Ke];Array.isArray(pt)?hn(Te,pt,he):(pt=pt.replace(mt,Te),he.push(pt))}return he}function zt(Te){return De=>{if("__ngUnwrap__"===De)return Te;!1===Te(De)&&(De.preventDefault(),De.returnValue=!1)}}let je=(()=>{class Te{constructor(he,Ke,pt){this.eventManager=he,this.sharedStylesHost=Ke,this.appId=pt,this.rendererByCompId=new Map,this.defaultRenderer=new ve(he)}createRenderer(he,Ke){if(!he||!Ke)return this.defaultRenderer;switch(Ke.encapsulation){case R.ifc.Emulated:{let pt=this.rendererByCompId.get(Ke.id);return pt||(pt=new xt(this.eventManager,this.sharedStylesHost,Ke,this.appId),this.rendererByCompId.set(Ke.id,pt)),pt.applyToHost(he),pt}case 1:case R.ifc.ShadowDom:return new Wt(this.eventManager,this.sharedStylesHost,he,Ke);default:if(!this.rendererByCompId.has(Ke.id)){const pt=hn(Ke.id,Ke.styles,[]);this.sharedStylesHost.addStyles(pt),this.rendererByCompId.set(Ke.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Te.\u0275fac=function(he){return new(he||Te)(R.LFG(fe),R.LFG(et),R.LFG(R.AFp))},Te.\u0275prov=R.Yz7({token:Te,factory:Te.\u0275fac}),Te})();class ve{constructor(De){this.eventManager=De,this.data=Object.create(null)}destroy(){}createElement(De,he){return he?document.createElementNS(Vt[he]||he,De):document.createElement(De)}createComment(De){return document.createComment(De)}createText(De){return document.createTextNode(De)}appendChild(De,he){De.appendChild(he)}insertBefore(De,he,Ke){De&&De.insertBefore(he,Ke)}removeChild(De,he){De&&De.removeChild(he)}selectRootElement(De,he){let Ke="string"==typeof De?document.querySelector(De):De;if(!Ke)throw new Error(`The selector "${De}" did not match any elements`);return he||(Ke.textContent=""),Ke}parentNode(De){return De.parentNode}nextSibling(De){return De.nextSibling}setAttribute(De,he,Ke,pt){if(pt){he=pt+":"+he;const gn=Vt[pt];gn?De.setAttributeNS(gn,he,Ke):De.setAttribute(he,Ke)}else De.setAttribute(he,Ke)}removeAttribute(De,he,Ke){if(Ke){const pt=Vt[Ke];pt?De.removeAttributeNS(pt,he):De.removeAttribute(`${Ke}:${he}`)}else De.removeAttribute(he)}addClass(De,he){De.classList.add(he)}removeClass(De,he){De.classList.remove(he)}setStyle(De,he,Ke,pt){pt&(R.JOm.DashCase|R.JOm.Important)?De.style.setProperty(he,Ke,pt&R.JOm.Important?"important":""):De.style[he]=Ke}removeStyle(De,he,Ke){Ke&R.JOm.DashCase?De.style.removeProperty(he):De.style[he]=""}setProperty(De,he,Ke){De[he]=Ke}setValue(De,he){De.nodeValue=he}listen(De,he,Ke){return"string"==typeof De?this.eventManager.addGlobalEventListener(De,he,zt(Ke)):this.eventManager.addEventListener(De,he,zt(Ke))}}class xt extends ve{constructor(De,he,Ke,pt){super(De),this.component=Ke;const gn=hn(pt+"-"+Ke.id,Ke.styles,[]);he.addStyles(gn),this.contentAttr="_ngcontent-%COMP%".replace(mt,pt+"-"+Ke.id),this.hostAttr="_nghost-%COMP%".replace(mt,pt+"-"+Ke.id)}applyToHost(De){super.setAttribute(De,this.hostAttr,"")}createElement(De,he){const Ke=super.createElement(De,he);return super.setAttribute(Ke,this.contentAttr,""),Ke}}class Wt extends ve{constructor(De,he,Ke,pt){super(De),this.sharedStylesHost=he,this.hostEl=Ke,this.shadowRoot=Ke.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const gn=hn(pt.id,pt.styles,[]);for(let mn=0;mn<gn.length;mn++){const Cr=document.createElement("style");Cr.textContent=gn[mn],this.shadowRoot.appendChild(Cr)}}nodeOrShadowRoot(De){return De===this.hostEl?this.shadowRoot:De}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(De,he){return super.appendChild(this.nodeOrShadowRoot(De),he)}insertBefore(De,he,Ke){return super.insertBefore(this.nodeOrShadowRoot(De),he,Ke)}removeChild(De,he){return super.removeChild(this.nodeOrShadowRoot(De),he)}parentNode(De){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(De)))}}let ln=(()=>{class Te extends Oe{constructor(he){super(he)}supports(he){return!0}addEventListener(he,Ke,pt){return he.addEventListener(Ke,pt,!1),()=>this.removeEventListener(he,Ke,pt)}removeEventListener(he,Ke,pt){return he.removeEventListener(Ke,pt)}}return Te.\u0275fac=function(he){return new(he||Te)(R.LFG(y.K0))},Te.\u0275prov=R.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const Pn=["alt","control","meta","shift"],Ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$r={alt:Te=>Te.altKey,control:Te=>Te.ctrlKey,meta:Te=>Te.metaKey,shift:Te=>Te.shiftKey};let xe=(()=>{class Te extends Oe{constructor(he){super(he)}supports(he){return null!=Te.parseEventName(he)}addEventListener(he,Ke,pt){const gn=Te.parseEventName(Ke),mn=Te.eventCallback(gn.fullKey,pt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(he,gn.domEventName,mn))}static parseEventName(he){const Ke=he.toLowerCase().split("."),pt=Ke.shift();if(0===Ke.length||"keydown"!==pt&&"keyup"!==pt)return null;const gn=Te._normalizeKey(Ke.pop());let mn="";if(Pn.forEach(lr=>{const Xr=Ke.indexOf(lr);Xr>-1&&(Ke.splice(Xr,1),mn+=lr+".")}),mn+=gn,0!=Ke.length||0===gn.length)return null;const Cr={};return Cr.domEventName=pt,Cr.fullKey=mn,Cr}static getEventFullKey(he){let Ke="",pt=function(Te){let De=Te.key;if(null==De){if(De=Te.keyIdentifier,null==De)return"Unidentified";De.startsWith("U+")&&(De=String.fromCharCode(parseInt(De.substring(2),16)),3===Te.location&&Mr.hasOwnProperty(De)&&(De=Mr[De]))}return Ft[De]||De}(he);return pt=pt.toLowerCase()," "===pt?pt="space":"."===pt&&(pt="dot"),Pn.forEach(gn=>{gn!=pt&&$r[gn](he)&&(Ke+=gn+".")}),Ke+=pt,Ke}static eventCallback(he,Ke,pt){return gn=>{Te.getEventFullKey(gn)===he&&pt.runGuarded(()=>Ke(gn))}}static _normalizeKey(he){switch(he){case"esc":return"escape";default:return he}}}return Te.\u0275fac=function(he){return new(he||Te)(R.LFG(y.K0))},Te.\u0275prov=R.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const ir=(0,R.eFA)(R._c5,"browser",[{provide:R.Lbi,useValue:y.bD},{provide:R.g9A,useValue:function(){ge.makeCurrent(),z.init()},multi:!0},{provide:y.K0,useFactory:function(){return(0,R.RDi)(document),document},deps:[]}]),mr=[[],{provide:R.zSh,useValue:"root"},{provide:R.qLn,useFactory:function(){return new R.qLn},deps:[]},{provide:be,useClass:ln,multi:!0,deps:[y.K0,R.R0b,R.Lbi]},{provide:be,useClass:xe,multi:!0,deps:[y.K0]},[],{provide:je,useClass:je,deps:[fe,et,R.AFp]},{provide:R.FYo,useExisting:je},{provide:se,useExisting:et},{provide:et,useClass:et,deps:[y.K0]},{provide:R.dDg,useClass:R.dDg,deps:[R.R0b]},{provide:fe,useClass:fe,deps:[be,R.R0b]},{provide:y.JF,useClass:oe,deps:[]},[]];let yr=(()=>{class Te{constructor(he){if(he)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(he){return{ngModule:Te,providers:[{provide:R.AFp,useValue:he.appId},{provide:q,useExisting:R.AFp},K]}}}return Te.\u0275fac=function(he){return new(he||Te)(R.LFG(Te,12))},Te.\u0275mod=R.oAB({type:Te}),Te.\u0275inj=R.cJS({providers:mr,imports:[y.ez,R.hGG]}),Te})();"undefined"!=typeof window&&window;var wr=S(7716);let oi=(()=>{class Te{constructor(){}ngOnInit(){}}return Te.\u0275fac=function(he){return new(he||Te)},Te.\u0275cmp=R.Xpm({type:Te,selectors:[["pet-desctop"]],decls:6,vars:0,consts:[[1,"desktop"],["src","assets/oops.png","alt",""]],template:function(he,Ke){1&he&&(R.TgZ(0,"div",0),R._UZ(1,"img",1),R.TgZ(2,"h1"),R._uU(3,"\u0414\u0435\u0441\u043a\u0442\u043e\u043f\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f \u0435\u0449\u0435 \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435"),R.qZA(),R.TgZ(4,"p"),R._uU(5,"\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432\u043e\u0439\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0438\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 \u0438\u043d\u0441\u043f\u0435\u0442\u043e\u0440"),R.qZA(),R.qZA())},styles:[".desktop[_ngcontent-%COMP%]{min-height:100vh;text-align:center;padding-top:200px}.desktop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:100px}.desktop[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:900;margin-bottom:60px}"]}),Te})();function ur(Te,De){1&Te&&(R.TgZ(0,"div"),R._UZ(1,"router-outlet"),R.qZA())}function Ai(Te,De){1&Te&&(R.TgZ(0,"div"),R._UZ(1,"pet-desctop"),R.qZA())}let Pr=(()=>{class Te{constructor(he){this.router=he,this.title="easy-gym",this.router.navigate(["/profile"]),this.mobile=window.innerWidth<440}onResize(he){this.mobile=window.innerWidth<440}ngOnInit(){this.mobile=window.innerWidth<440}}return Te.\u0275fac=function(he){return new(he||Te)(R.Y36(wr.F0))},Te.\u0275cmp=R.Xpm({type:Te,selectors:[["pet-root"]],hostBindings:function(he,Ke){1&he&&R.NdJ("resize",function(gn){return Ke.onResize(gn)},!1,R.Jf7)},decls:2,vars:2,consts:[[4,"ngIf"]],template:function(he,Ke){1&he&&(R.YNc(0,ur,2,0,"div",0),R.YNc(1,Ai,2,0,"div",0)),2&he&&(R.Q6J("ngIf",!0===Ke.mobile),R.xp6(1),R.Q6J("ngIf",!1===Ke.mobile))},directives:[y.O5,wr.lC,oi],styles:[""]}),Te})();var Ri=S(8939),ai=S(2278),Ee=S(2673);const rt_firebase={apiKey:"AIzaSyCEzWtpJutwLfZSmZyUJTolEHukOwuACHU",authDomain:"easygym-7a9c2.firebaseapp.com",databaseURL:"https://easygym-7a9c2-default-rtdb.firebaseio.com",projectId:"easygym-7a9c2",storageBucket:"easygym-7a9c2.appspot.com",messagingSenderId:"1022533059766",appId:"1:1022533059766:web:3eb08053443ad764cd5217",measurementId:"G-6N2M1880JF"};var Xe=S(64),ct=S(9341),Ut=(S(3706),S(9596)),Ve=S(3738),ze=S(7336),ot=S(4762),Dt=S(8002),Pt=S(5304),nn=S(2275),Fn=S(3066);let In=(()=>{class Te{constructor(he,Ke,pt,gn,mn){this.location=he,this.store$=Ke,this.authFacade=pt,this.authService=gn,this.router=mn}canActivate(he,Ke){return this.authService.checkUserForGuard().pipe((0,Dt.U)(pt=>null!==pt?(this.authFacade.user$.subscribe(gn=>{!gn&&pt.email&&this.authFacade.setUser({email:pt.email,uid:pt.uid})}),!0):(this.router.navigate(["/auth/login"]),!1)),(0,Pt.K)(pt=>(0,ot.mG)(this,void 0,void 0,function*(){return window,console.log(pt),this.router.navigate(["/auth/login"]),!1})))}}return Te.\u0275fac=function(he){return new(he||Te)(R.LFG(y.Ye),R.LFG(Xe.yh),R.LFG(nn.jE),R.LFG(Fn.e),R.LFG(wr.F0))},Te.\u0275prov=R.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();const qn=[{path:"",loadChildren:()=>Promise.all([S.e(820),S.e(592),S.e(393)]).then(S.bind(S,9393)).then(Te=>Te.GlobalModule),canActivate:[In]},{path:"profile",loadChildren:()=>Promise.all([S.e(820),S.e(592),S.e(393)]).then(S.bind(S,9393)).then(Te=>Te.GlobalModule),canActivate:[In]},{path:"auth",loadChildren:()=>S.e(620).then(S.bind(S,2620)).then(Te=>Te.AuthUiModule)},{path:"process",loadChildren:()=>Promise.all([S.e(820),S.e(592),S.e(498)]).then(S.bind(S,4498)).then(Te=>Te.ProcessOfWorkoutUiModule),canActivate:[In]},{path:"workout",loadChildren:()=>Promise.all([S.e(820),S.e(592),S.e(520)]).then(S.bind(S,7520)).then(Te=>Te.WorkoutsUiModule),canActivate:[In]}];let Kr=(()=>{class Te{}return Te.\u0275fac=function(he){return new(he||Te)},Te.\u0275mod=R.oAB({type:Te,bootstrap:[Pr]}),Te.\u0275inj=R.cJS({providers:[In],imports:[[yr,Ri.hO.initializeApp(rt_firebase),ai.yb,Ee.ww,nn.yB,Ve.UX,ze.ZQ.forRoot(),Xe.Aw.forRoot({},{metaReducers:[],runtimeChecks:{strictActionImmutability:!0,strictStateImmutability:!0}}),ct.sQ.forRoot([]),[],Ut.Qi.forRoot(),wr.Bz.forRoot(qn)]]}),Te})();(0,R.G48)(),ir().bootstrapModule(Kr).catch(Te=>console.error(Te))},2275:(Pe,de,S)=>{"use strict";S.d(de,{jE:()=>Vt,yB:()=>Be});var y=S(64);const R=(0,y.PH)("[Auth Page] Init"),H=(0,y.PH)("[Auth/API] Load Auth Success",(0,y.Ky)()),ge=(0,y.PH)("[Auth/API] Load Auth Failure",(0,y.Ky)()),ee=(0,y.PH)("[Auth/API] Login",(0,y.Ky)()),$=(0,y.PH)("[Auth/API] Login Success",(0,y.Ky)()),ne=(0,y.PH)("[Auth/API] Login Failed",(0,y.Ky)()),Y=(0,y.PH)("[Auth/API] Sign Up",(0,y.Ky)()),q=(0,y.PH)("[Auth/API]Sign Up Success"),G=(0,y.PH)("[Auth/API] Sign Up Failed",(0,y.Ky)()),K=(0,y.PH)("[Auth/API] Sign Out"),z=(0,y.PH)("[Auth/API] Clear Logout"),oe=(0,y.PH)("[Auth/API] Sign Out Success"),He=(0,y.PH)("[Auth/API] Sign Out Failed",(0,y.Ky)()),Le=(0,y.PH)("[Auth/API] Login Success",(0,y.Ky)());const Ce=(0,S(3607).H)(),Fe=Ce.getInitialState({loaded:!1}),ae=(0,y.Lq)(Fe,(0,y.on)(R,je=>Object.assign(Object.assign({},je),{loaded:!1,error:null})),(0,y.on)(Le,(je,{user:ve})=>Object.assign(Object.assign({},je),{user:ve})),(0,y.on)(oe,je=>Object.assign(Object.assign({},je),{logoutWasSuccessful:!0})),(0,y.on)(z,je=>Object.assign(Object.assign({},je),{logout:void 0})),(0,y.on)($,(je,{user:ve})=>Object.assign(Object.assign({},je),{user:ve,loginSuccess:!0})),(0,y.on)(oe,je=>Object.assign(Object.assign({},je),{user:void 0})),(0,y.on)(H,(je,{auth:ve})=>Ce.setAll(ve,Object.assign(Object.assign({},je),{loaded:!0}))),(0,y.on)(ge,(je,{error:ve})=>Object.assign(Object.assign({},je),{error:ve})));function Ye(je,ve){return ae(je,ve)}const Qe=(0,y.ZF)("auth"),{selectAll:St,selectEntities:lt}=Ce.getSelectors(),ye=(0,y.P1)(Qe,je=>je.loaded),le=((0,y.P1)(Qe,je=>je.error),(0,y.P1)(Qe,je=>St(je))),qe=(0,y.P1)(Qe,je=>lt(je)),be=(0,y.P1)(Qe,je=>je.selectedId),fe=(0,y.P1)(Qe,je=>je.logoutWasSuccessful),Oe=(0,y.P1)(Qe,je=>je.user),se=(0,y.P1)(Qe,je=>je.loginSuccess),et=(0,y.P1)(qe,be,(je,ve)=>ve?je[ve]:void 0);var gt=S(4788);let Vt=(()=>{class je{constructor(Re){this.store=Re,this.loaded$=this.store.pipe((0,y.Ys)(ye)),this.logoutWasSuccessful$=this.store.pipe((0,y.Ys)(fe)),this.user$=this.store.pipe((0,y.Ys)(Oe)),this.allAuth$=this.store.pipe((0,y.Ys)(le)),this.selectedAuth$=this.store.pipe((0,y.Ys)(et)),this.loginWasSuccessful=this.store.pipe((0,y.Ys)(se))}init(){this.store.dispatch(R())}login(Re){this.store.dispatch(ee({authInfo:Re}))}signUp(Re){this.store.dispatch(Y({authInfo:Re}))}setUser(Re){this.store.dispatch(Le({user:Re}))}logout(){this.store.dispatch(K())}clearLogout(){this.store.dispatch(z())}}return je.\u0275fac=function(Re){return new(Re||je)(gt.LFG(y.yh))},je.\u0275prov=gt.Yz7({token:je,factory:je.\u0275fac}),je})();var mt=S(2057),Tt=S(9341),Mt=S(4762),tn=S(6646),sn=S(3066),Gt=S(9773),on=S(8002),hn=S(5304);let zt=(()=>{class je{constructor(Re,ft){this.actions$=Re,this.authService=ft,this.init$=(0,Tt.GW)(()=>this.actions$.pipe((0,Tt.l4)(R),(0,tn.he)({run:wt=>H({auth:[]}),onError:(wt,xt)=>(console.error("Error",xt),ge({error:xt}))}))),this.login$=(0,Tt.GW)(()=>this.actions$.pipe((0,Tt.l4)(ee),(0,Gt.zg)(wt=>this.authService.login(wt.authInfo.mail,wt.authInfo.password).pipe((0,on.U)(xt=>xt.user&&xt.user.email?$({user:{email:xt.user.email,uid:xt.user.uid}}):ne({err:new Error})),(0,hn.K)(xt=>(0,Mt.mG)(this,void 0,void 0,function*(){return ne({err:xt})})))))),this.signUp$=(0,Tt.GW)(()=>this.actions$.pipe((0,Tt.l4)(Y),(0,Gt.zg)(wt=>this.authService.emailSignup(wt.authInfo.mail,wt.authInfo.password).pipe((0,on.U)(xt=>q()),(0,hn.K)(xt=>(0,Mt.mG)(this,void 0,void 0,function*(){return G({err:xt})})))))),this.logout$=(0,Tt.GW)(()=>this.actions$.pipe((0,Tt.l4)(K),(0,Gt.zg)(wt=>this.authService.logout().pipe((0,on.U)(xt=>oe()),(0,hn.K)(xt=>(0,Mt.mG)(this,void 0,void 0,function*(){return He({err:xt})}))))))}}return je.\u0275fac=function(Re){return new(Re||je)(gt.LFG(Tt.eX),gt.LFG(sn.e))},je.\u0275prov=gt.Yz7({token:je,factory:je.\u0275fac}),je})(),Be=(()=>{class je{}return je.\u0275fac=function(Re){return new(Re||je)},je.\u0275mod=gt.oAB({type:je}),je.\u0275inj=gt.cJS({providers:[Vt],imports:[[mt.ez,y.Aw.forFeature("auth",Ye),Tt.sQ.forFeature([zt])]]}),je})()},3066:(Pe,de,S)=>{"use strict";S.d(de,{e:()=>Y});var y=S(7841),R=S(5372),H=S(5917),ge=S(4788),ee=S(2278),$=S(2673),ne=S(7716);let Y=(()=>{class q{constructor(K,z,oe,He){this.afs=K,this.afAuth=z,this.router=oe,this.ngZone=He,this.afAuth.authState.subscribe(Le=>{Le&&(this.userData=Le)})}login(K,z){return(0,R.D)(this.afAuth.signInWithEmailAndPassword(K,z))}checkUser(){return(0,H.of)(this.afAuth.authState)}checkUserForGuard(){return this.afAuth.authState}emailSignup(K,z){return(0,H.of)(this.afAuth.createUserWithEmailAndPassword(K,z))}googleLogin(){const K=new y.Z.auth.GoogleAuthProvider;return this.oAuthLogin(K).then(z=>{this.router.navigateByUrl("/profile")}).catch(z=>{})}logout(){return(0,H.of)(this.afAuth.signOut())}oAuthLogin(K){return this.afAuth.signInWithPopup(K)}}return q.\u0275fac=function(K){return new(K||q)(ge.LFG(ee.ST),ge.LFG($.zQ),ge.LFG(ne.F0),ge.LFG(ge.R0b))},q.\u0275prov=ge.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})()},2057:(Pe,de,S)=>{"use strict";S.d(de,{mr:()=>Fe,ez:()=>uo,K0:()=>ne,uU:()=>so,Do:()=>Ye,V_:()=>G,Ye:()=>Qe,S$:()=>Ue,mk:()=>Ri,sg:()=>rt,O5:()=>Rt,b0:()=>ae,lw:()=>Y,EM:()=>ds,JF:()=>Mo,PM:()=>ui,w_:()=>$,bD:()=>$i,q:()=>H,Mx:()=>Pr,HT:()=>ee});var y=S(4788);let R=null;function H(){return R}function ee(P){R||(R=P)}class ${}const ne=new y.OlP("DocumentToken");let Y=(()=>{class P{historyGo(L){throw new Error("Not implemented")}}return P.\u0275fac=function(L){return new(L||P)},P.\u0275prov=(0,y.Yz7)({factory:q,token:P,providedIn:"platform"}),P})();function q(){return(0,y.LFG)(K)}const G=new y.OlP("Location Initialized");let K=(()=>{class P extends Y{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(L){const te=H().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",L,!1),()=>te.removeEventListener("popstate",L)}onHashChange(L){const te=H().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",L,!1),()=>te.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,te,Ie){z()?this._history.pushState(L,te,Ie):this.location.hash=Ie}replaceState(L,te,Ie){z()?this._history.replaceState(L,te,Ie):this.location.hash=Ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return P.\u0275fac=function(L){return new(L||P)(y.LFG(ne))},P.\u0275prov=(0,y.Yz7)({factory:oe,token:P,providedIn:"platform"}),P})();function z(){return!!window.history.pushState}function oe(){return new K((0,y.LFG)(ne))}function He(P,Z){if(0==P.length)return Z;if(0==Z.length)return P;let L=0;return P.endsWith("/")&&L++,Z.startsWith("/")&&L++,2==L?P+Z.substring(1):1==L?P+Z:P+"/"+Z}function Le(P){const Z=P.match(/#|\?|$/),L=Z&&Z.index||P.length;return P.slice(0,L-("/"===P[L-1]?1:0))+P.slice(L)}function Ae(P){return P&&"?"!==P[0]?"?"+P:P}let Ue=(()=>{class P{historyGo(L){throw new Error("Not implemented")}}return P.\u0275fac=function(L){return new(L||P)},P.\u0275prov=(0,y.Yz7)({factory:Ce,token:P,providedIn:"root"}),P})();function Ce(P){const Z=(0,y.LFG)(ne).location;return new ae((0,y.LFG)(Y),Z&&Z.origin||"")}const Fe=new y.OlP("appBaseHref");let ae=(()=>{class P extends Ue{constructor(L,te){if(super(),this._platformLocation=L,this._removeListenerFns=[],null==te&&(te=this._platformLocation.getBaseHrefFromDOM()),null==te)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=te}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return He(this._baseHref,L)}path(L=!1){const te=this._platformLocation.pathname+Ae(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&L?`${te}${Ie}`:te}pushState(L,te,Ie,ht){const bt=this.prepareExternalUrl(Ie+Ae(ht));this._platformLocation.pushState(L,te,bt)}replaceState(L,te,Ie,ht){const bt=this.prepareExternalUrl(Ie+Ae(ht));this._platformLocation.replaceState(L,te,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var te,Ie;null===(Ie=(te=this._platformLocation).historyGo)||void 0===Ie||Ie.call(te,L)}}return P.\u0275fac=function(L){return new(L||P)(y.LFG(Y),y.LFG(Fe,8))},P.\u0275prov=y.Yz7({token:P,factory:P.\u0275fac}),P})(),Ye=(()=>{class P extends Ue{constructor(L,te){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(L){const te=He(this._baseHref,L);return te.length>0?"#"+te:te}pushState(L,te,Ie,ht){let bt=this.prepareExternalUrl(Ie+Ae(ht));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.pushState(L,te,bt)}replaceState(L,te,Ie,ht){let bt=this.prepareExternalUrl(Ie+Ae(ht));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.replaceState(L,te,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var te,Ie;null===(Ie=(te=this._platformLocation).historyGo)||void 0===Ie||Ie.call(te,L)}}return P.\u0275fac=function(L){return new(L||P)(y.LFG(Y),y.LFG(Fe,8))},P.\u0275prov=y.Yz7({token:P,factory:P.\u0275fac}),P})(),Qe=(()=>{class P{constructor(L,te){this._subject=new y.vpe,this._urlChangeListeners=[],this._platformStrategy=L;const Ie=this._platformStrategy.getBaseHref();this._platformLocation=te,this._baseHref=Le(ye(Ie)),this._platformStrategy.onPopState(ht=>{this._subject.emit({url:this.path(!0),pop:!0,state:ht.state,type:ht.type})})}path(L=!1){return this.normalize(this._platformStrategy.path(L))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(L,te=""){return this.path()==this.normalize(L+Ae(te))}normalize(L){return P.stripTrailingSlash(function(P,Z){return P&&Z.startsWith(P)?Z.substring(P.length):Z}(this._baseHref,ye(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._platformStrategy.prepareExternalUrl(L)}go(L,te="",Ie=null){this._platformStrategy.pushState(Ie,"",L,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Ae(te)),Ie)}replaceState(L,te="",Ie=null){this._platformStrategy.replaceState(Ie,"",L,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Ae(te)),Ie)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(L=0){var te,Ie;null===(Ie=(te=this._platformStrategy).historyGo)||void 0===Ie||Ie.call(te,L)}onUrlChange(L){this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)}))}_notifyUrlChangeListeners(L="",te){this._urlChangeListeners.forEach(Ie=>Ie(L,te))}subscribe(L,te,Ie){return this._subject.subscribe({next:L,error:te,complete:Ie})}}return P.\u0275fac=function(L){return new(L||P)(y.LFG(Ue),y.LFG(Y))},P.normalizeQueryParams=Ae,P.joinWithSlash=He,P.stripTrailingSlash=Le,P.\u0275prov=(0,y.Yz7)({factory:St,token:P,providedIn:"root"}),P})();function St(){return new Qe((0,y.LFG)(Ue),(0,y.LFG)(Y))}function ye(P){return P.replace(/\/index.html$/,"")}var qe=(()=>((qe=qe||{})[qe.Zero=0]="Zero",qe[qe.One=1]="One",qe[qe.Two=2]="Two",qe[qe.Few=3]="Few",qe[qe.Many=4]="Many",qe[qe.Other=5]="Other",qe))(),be=(()=>((be=be||{})[be.Format=0]="Format",be[be.Standalone=1]="Standalone",be))(),fe=(()=>((fe=fe||{})[fe.Narrow=0]="Narrow",fe[fe.Abbreviated=1]="Abbreviated",fe[fe.Wide=2]="Wide",fe[fe.Short=3]="Short",fe))(),Oe=(()=>((Oe=Oe||{})[Oe.Short=0]="Short",Oe[Oe.Medium=1]="Medium",Oe[Oe.Long=2]="Long",Oe[Oe.Full=3]="Full",Oe))(),se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Group=1]="Group",se[se.List=2]="List",se[se.PercentSign=3]="PercentSign",se[se.PlusSign=4]="PlusSign",se[se.MinusSign=5]="MinusSign",se[se.Exponential=6]="Exponential",se[se.SuperscriptingExponent=7]="SuperscriptingExponent",se[se.PerMille=8]="PerMille",se[se.Infinity=9]="Infinity",se[se.NaN=10]="NaN",se[se.TimeSeparator=11]="TimeSeparator",se[se.CurrencyDecimal=12]="CurrencyDecimal",se[se.CurrencyGroup=13]="CurrencyGroup",se))();function Gt(P,Z){return Rn((0,y.cg1)(P)[y.wAp.DateFormat],Z)}function on(P,Z){return Rn((0,y.cg1)(P)[y.wAp.TimeFormat],Z)}function hn(P,Z){return Rn((0,y.cg1)(P)[y.wAp.DateTimeFormat],Z)}function zt(P,Z){const L=(0,y.cg1)(P),te=L[y.wAp.NumberSymbols][Z];if(void 0===te){if(Z===se.CurrencyDecimal)return L[y.wAp.NumberSymbols][se.Decimal];if(Z===se.CurrencyGroup)return L[y.wAp.NumberSymbols][se.Group]}return te}const wt=y.kL8;function xt(P){if(!P[y.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[y.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Rn(P,Z){for(let L=Z;L>-1;L--)if(void 0!==P[L])return P[L];throw new Error("Locale data API: locale data undefined")}function Qn(P){const[Z,L]=P.split(":");return{hours:+Z,minutes:+L}}const Cn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xn={},rr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Pn=(()=>((Pn=Pn||{})[Pn.Short=0]="Short",Pn[Pn.ShortGMT=1]="ShortGMT",Pn[Pn.Long=2]="Long",Pn[Pn.Extended=3]="Extended",Pn))(),Lt=(()=>((Lt=Lt||{})[Lt.FullYear=0]="FullYear",Lt[Lt.Month=1]="Month",Lt[Lt.Date=2]="Date",Lt[Lt.Hours=3]="Hours",Lt[Lt.Minutes=4]="Minutes",Lt[Lt.Seconds=5]="Seconds",Lt[Lt.FractionalSeconds=6]="FractionalSeconds",Lt[Lt.Day=7]="Day",Lt))(),Ft=(()=>((Ft=Ft||{})[Ft.DayPeriods=0]="DayPeriods",Ft[Ft.Days=1]="Days",Ft[Ft.Months=2]="Months",Ft[Ft.Eras=3]="Eras",Ft))();function Mr(P,Z,L,te){let Ie=function(P){if(fr(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[Ie,ht=1,bt=1]=P.split("-").map(F=>+F);return hr(Ie,ht-1,bt)}const L=parseFloat(P);if(!isNaN(P-L))return new Date(L);let te;if(te=P.match(Cn))return function(P){const Z=new Date(0);let L=0,te=0;const Ie=P[8]?Z.setUTCFullYear:Z.setFullYear,ht=P[8]?Z.setUTCHours:Z.setHours;P[9]&&(L=Number(P[9]+P[10]),te=Number(P[9]+P[11])),Ie.call(Z,Number(P[1]),Number(P[2])-1,Number(P[3]));const bt=Number(P[4]||0)-L,F=Number(P[5]||0)-te,O=Number(P[6]||0),A=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return ht.call(Z,bt,F,O,A),Z}(te)}const Z=new Date(P);if(!fr(Z))throw new Error(`Unable to convert "${P}" into a date`);return Z}(P);Z=Dr(L,Z)||Z;let F,bt=[];for(;Z;){if(F=rr.exec(Z),!F){bt.push(Z);break}{bt=bt.concat(F.slice(1));const Q=bt.pop();if(!Q)break;Z=Q}}let O=Ie.getTimezoneOffset();te&&(O=ir(te,O),Ie=function(P,Z,L){const Ie=P.getTimezoneOffset();return function(P,Z){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+Z),P}(P,-1*(ir(Z,Ie)-Ie))}(Ie,te));let A="";return bt.forEach(Q=>{const Ze=function(P){if(rn[P])return rn[P];let Z;switch(P){case"G":case"GG":case"GGG":Z=Me(Ft.Eras,fe.Abbreviated);break;case"GGGG":Z=Me(Ft.Eras,fe.Wide);break;case"GGGGG":Z=Me(Ft.Eras,fe.Narrow);break;case"y":Z=xe(Lt.FullYear,1,0,!1,!0);break;case"yy":Z=xe(Lt.FullYear,2,0,!0,!0);break;case"yyy":Z=xe(Lt.FullYear,3,0,!1,!0);break;case"yyyy":Z=xe(Lt.FullYear,4,0,!1,!0);break;case"Y":Z=En(1);break;case"YY":Z=En(2,!0);break;case"YYY":Z=En(3);break;case"YYYY":Z=En(4);break;case"M":case"L":Z=xe(Lt.Month,1,1);break;case"MM":case"LL":Z=xe(Lt.Month,2,1);break;case"MMM":Z=Me(Ft.Months,fe.Abbreviated);break;case"MMMM":Z=Me(Ft.Months,fe.Wide);break;case"MMMMM":Z=Me(Ft.Months,fe.Narrow);break;case"LLL":Z=Me(Ft.Months,fe.Abbreviated,be.Standalone);break;case"LLLL":Z=Me(Ft.Months,fe.Wide,be.Standalone);break;case"LLLLL":Z=Me(Ft.Months,fe.Narrow,be.Standalone);break;case"w":Z=$t(1);break;case"ww":Z=$t(2);break;case"W":Z=$t(1,!0);break;case"d":Z=xe(Lt.Date,1);break;case"dd":Z=xe(Lt.Date,2);break;case"c":case"cc":Z=xe(Lt.Day,1);break;case"ccc":Z=Me(Ft.Days,fe.Abbreviated,be.Standalone);break;case"cccc":Z=Me(Ft.Days,fe.Wide,be.Standalone);break;case"ccccc":Z=Me(Ft.Days,fe.Narrow,be.Standalone);break;case"cccccc":Z=Me(Ft.Days,fe.Short,be.Standalone);break;case"E":case"EE":case"EEE":Z=Me(Ft.Days,fe.Abbreviated);break;case"EEEE":Z=Me(Ft.Days,fe.Wide);break;case"EEEEE":Z=Me(Ft.Days,fe.Narrow);break;case"EEEEEE":Z=Me(Ft.Days,fe.Short);break;case"a":case"aa":case"aaa":Z=Me(Ft.DayPeriods,fe.Abbreviated);break;case"aaaa":Z=Me(Ft.DayPeriods,fe.Wide);break;case"aaaaa":Z=Me(Ft.DayPeriods,fe.Narrow);break;case"b":case"bb":case"bbb":Z=Me(Ft.DayPeriods,fe.Abbreviated,be.Standalone,!0);break;case"bbbb":Z=Me(Ft.DayPeriods,fe.Wide,be.Standalone,!0);break;case"bbbbb":Z=Me(Ft.DayPeriods,fe.Narrow,be.Standalone,!0);break;case"B":case"BB":case"BBB":Z=Me(Ft.DayPeriods,fe.Abbreviated,be.Format,!0);break;case"BBBB":Z=Me(Ft.DayPeriods,fe.Wide,be.Format,!0);break;case"BBBBB":Z=Me(Ft.DayPeriods,fe.Narrow,be.Format,!0);break;case"h":Z=xe(Lt.Hours,1,-12);break;case"hh":Z=xe(Lt.Hours,2,-12);break;case"H":Z=xe(Lt.Hours,1);break;case"HH":Z=xe(Lt.Hours,2);break;case"m":Z=xe(Lt.Minutes,1);break;case"mm":Z=xe(Lt.Minutes,2);break;case"s":Z=xe(Lt.Seconds,1);break;case"ss":Z=xe(Lt.Seconds,2);break;case"S":Z=xe(Lt.FractionalSeconds,1);break;case"SS":Z=xe(Lt.FractionalSeconds,2);break;case"SSS":Z=xe(Lt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Z=tt(Pn.Short);break;case"ZZZZZ":Z=tt(Pn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Z=tt(Pn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Z=tt(Pn.Long);break;default:return null}return rn[P]=Z,Z}(Q);A+=Ze?Ze(Ie,L,O):"''"===Q?"'":Q.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),A}function hr(P,Z,L){const te=new Date(0);return te.setFullYear(P,Z,L),te.setHours(0,0,0),te}function Dr(P,Z){const L=function(P){return(0,y.cg1)(P)[y.wAp.LocaleId]}(P);if(xn[L]=xn[L]||{},xn[L][Z])return xn[L][Z];let te="";switch(Z){case"shortDate":te=Gt(P,Oe.Short);break;case"mediumDate":te=Gt(P,Oe.Medium);break;case"longDate":te=Gt(P,Oe.Long);break;case"fullDate":te=Gt(P,Oe.Full);break;case"shortTime":te=on(P,Oe.Short);break;case"mediumTime":te=on(P,Oe.Medium);break;case"longTime":te=on(P,Oe.Long);break;case"fullTime":te=on(P,Oe.Full);break;case"short":const Ie=Dr(P,"shortTime"),ht=Dr(P,"shortDate");te=Bn(hn(P,Oe.Short),[Ie,ht]);break;case"medium":const bt=Dr(P,"mediumTime"),F=Dr(P,"mediumDate");te=Bn(hn(P,Oe.Medium),[bt,F]);break;case"long":const O=Dr(P,"longTime"),A=Dr(P,"longDate");te=Bn(hn(P,Oe.Long),[O,A]);break;case"full":const Q=Dr(P,"fullTime"),Ze=Dr(P,"fullDate");te=Bn(hn(P,Oe.Full),[Q,Ze])}return te&&(xn[L][Z]=te),te}function Bn(P,Z){return Z&&(P=P.replace(/\{([^}]+)}/g,function(L,te){return null!=Z&&te in Z?Z[te]:L})),P}function cr(P,Z,L="-",te,Ie){let ht="";(P<0||Ie&&P<=0)&&(Ie?P=1-P:(P=-P,ht=L));let bt=String(P);for(;bt.length<Z;)bt="0"+bt;return te&&(bt=bt.substr(bt.length-Z)),ht+bt}function xe(P,Z,L=0,te=!1,Ie=!1){return function(ht,bt){let F=function(P,Z){switch(P){case Lt.FullYear:return Z.getFullYear();case Lt.Month:return Z.getMonth();case Lt.Date:return Z.getDate();case Lt.Hours:return Z.getHours();case Lt.Minutes:return Z.getMinutes();case Lt.Seconds:return Z.getSeconds();case Lt.FractionalSeconds:return Z.getMilliseconds();case Lt.Day:return Z.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,ht);if((L>0||F>-L)&&(F+=L),P===Lt.Hours)0===F&&-12===L&&(F=12);else if(P===Lt.FractionalSeconds)return function(P,Z){return cr(P,3).substr(0,Z)}(F,Z);const O=zt(bt,se.MinusSign);return cr(F,Z,O,te,Ie)}}function Me(P,Z,L=be.Format,te=!1){return function(Ie,ht){return function(P,Z,L,te,Ie,ht){switch(L){case Ft.Months:return function(P,Z,L){const te=(0,y.cg1)(P),ht=Rn([te[y.wAp.MonthsFormat],te[y.wAp.MonthsStandalone]],Z);return Rn(ht,L)}(Z,Ie,te)[P.getMonth()];case Ft.Days:return function(P,Z,L){const te=(0,y.cg1)(P),ht=Rn([te[y.wAp.DaysFormat],te[y.wAp.DaysStandalone]],Z);return Rn(ht,L)}(Z,Ie,te)[P.getDay()];case Ft.DayPeriods:const bt=P.getHours(),F=P.getMinutes();if(ht){const A=function(P){const Z=(0,y.cg1)(P);return xt(Z),(Z[y.wAp.ExtraData][2]||[]).map(te=>"string"==typeof te?Qn(te):[Qn(te[0]),Qn(te[1])])}(Z),Q=function(P,Z,L){const te=(0,y.cg1)(P);xt(te);const ht=Rn([te[y.wAp.ExtraData][0],te[y.wAp.ExtraData][1]],Z)||[];return Rn(ht,L)||[]}(Z,Ie,te),Ze=A.findIndex(Bt=>{if(Array.isArray(Bt)){const[Sn,nr]=Bt,bi=bt>=Sn.hours&&F>=Sn.minutes,Nr=bt<nr.hours||bt===nr.hours&&F<nr.minutes;if(Sn.hours<nr.hours){if(bi&&Nr)return!0}else if(bi||Nr)return!0}else if(Bt.hours===bt&&Bt.minutes===F)return!0;return!1});if(-1!==Ze)return Q[Ze]}return function(P,Z,L){const te=(0,y.cg1)(P),ht=Rn([te[y.wAp.DayPeriodsFormat],te[y.wAp.DayPeriodsStandalone]],Z);return Rn(ht,L)}(Z,Ie,te)[bt<12?0:1];case Ft.Eras:return function(P,Z){return Rn((0,y.cg1)(P)[y.wAp.Eras],Z)}(Z,te)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${L}`)}}(Ie,ht,P,Z,L,te)}}function tt(P){return function(Z,L,te){const Ie=-1*te,ht=zt(L,se.MinusSign),bt=Ie>0?Math.floor(Ie/60):Math.ceil(Ie/60);switch(P){case Pn.Short:return(Ie>=0?"+":"")+cr(bt,2,ht)+cr(Math.abs(Ie%60),2,ht);case Pn.ShortGMT:return"GMT"+(Ie>=0?"+":"")+cr(bt,1,ht);case Pn.Long:return"GMT"+(Ie>=0?"+":"")+cr(bt,2,ht)+":"+cr(Math.abs(Ie%60),2,ht);case Pn.Extended:return 0===te?"Z":(Ie>=0?"+":"")+cr(bt,2,ht)+":"+cr(Math.abs(Ie%60),2,ht);default:throw new Error(`Unknown zone width "${P}"`)}}}function ut(P){return hr(P.getFullYear(),P.getMonth(),P.getDate()+(4-P.getDay()))}function $t(P,Z=!1){return function(L,te){let Ie;if(Z){const ht=new Date(L.getFullYear(),L.getMonth(),1).getDay()-1,bt=L.getDate();Ie=1+Math.floor((bt+ht)/7)}else{const ht=ut(L),bt=function(P){const Z=hr(P,0,1).getDay();return hr(P,0,1+(Z<=4?4:11)-Z)}(ht.getFullYear()),F=ht.getTime()-bt.getTime();Ie=1+Math.round(F/6048e5)}return cr(Ie,P,zt(te,se.MinusSign))}}function En(P,Z=!1){return function(L,te){return cr(ut(L).getFullYear(),P,zt(te,se.MinusSign),Z)}}const rn={};function ir(P,Z){P=P.replace(/:/g,"");const L=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(L)?Z:L}function fr(P){return P instanceof Date&&!isNaN(P.valueOf())}class wr{}let ur=(()=>{class P extends wr{constructor(L){super(),this.locale=L}getPluralCategory(L,te){switch(wt(te||this.locale)(L)){case qe.Zero:return"zero";case qe.One:return"one";case qe.Two:return"two";case qe.Few:return"few";case qe.Many:return"many";default:return"other"}}}return P.\u0275fac=function(L){return new(L||P)(y.LFG(y.soG))},P.\u0275prov=y.Yz7({token:P,factory:P.\u0275fac}),P})();function Pr(P,Z){Z=encodeURIComponent(Z);for(const L of P.split(";")){const te=L.indexOf("="),[Ie,ht]=-1==te?[L,""]:[L.slice(0,te),L.slice(te+1)];if(Ie.trim()===Z)return decodeURIComponent(ht)}return null}let Ri=(()=>{class P{constructor(L,te,Ie,ht){this._iterableDiffers=L,this._keyValueDiffers=te,this._ngEl=Ie,this._renderer=ht,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(L){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof L?L.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(L){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof L?L.split(/\s+/):L,this._rawClass&&((0,y.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const L=this._iterableDiffer.diff(this._rawClass);L&&this._applyIterableChanges(L)}else if(this._keyValueDiffer){const L=this._keyValueDiffer.diff(this._rawClass);L&&this._applyKeyValueChanges(L)}}_applyKeyValueChanges(L){L.forEachAddedItem(te=>this._toggleClass(te.key,te.currentValue)),L.forEachChangedItem(te=>this._toggleClass(te.key,te.currentValue)),L.forEachRemovedItem(te=>{te.previousValue&&this._toggleClass(te.key,!1)})}_applyIterableChanges(L){L.forEachAddedItem(te=>{if("string"!=typeof te.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,y.AaK)(te.item)}`);this._toggleClass(te.item,!0)}),L.forEachRemovedItem(te=>this._toggleClass(te.item,!1))}_applyClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(te=>this._toggleClass(te,!0)):Object.keys(L).forEach(te=>this._toggleClass(te,!!L[te])))}_removeClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(te=>this._toggleClass(te,!1)):Object.keys(L).forEach(te=>this._toggleClass(te,!1)))}_toggleClass(L,te){(L=L.trim())&&L.split(/\s+/g).forEach(Ie=>{te?this._renderer.addClass(this._ngEl.nativeElement,Ie):this._renderer.removeClass(this._ngEl.nativeElement,Ie)})}}return P.\u0275fac=function(L){return new(L||P)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},P.\u0275dir=y.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),P})();class Ee{constructor(Z,L,te,Ie){this.$implicit=Z,this.ngForOf=L,this.index=te,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rt=(()=>{class P{constructor(L,te,Ie){this._viewContainer=L,this._template=te,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;if(!this._differ&&L)try{this._differ=this._differs.find(L).create(this.ngForTrackBy)}catch(te){throw new Error(`Cannot find a differ supporting object '${L}' of type '${function(P){return P.name||typeof P}(L)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const te=[];L.forEachOperation((Ie,ht,bt)=>{if(null==Ie.previousIndex){const F=this._viewContainer.createEmbeddedView(this._template,new Ee(null,this._ngForOf,-1,-1),null===bt?void 0:bt),O=new Xe(Ie,F);te.push(O)}else if(null==bt)this._viewContainer.remove(null===ht?void 0:ht);else if(null!==ht){const F=this._viewContainer.get(ht);this._viewContainer.move(F,bt);const O=new Xe(Ie,F);te.push(O)}});for(let Ie=0;Ie<te.length;Ie++)this._perViewChange(te[Ie].view,te[Ie].record);for(let Ie=0,ht=this._viewContainer.length;Ie<ht;Ie++){const bt=this._viewContainer.get(Ie);bt.context.index=Ie,bt.context.count=ht,bt.context.ngForOf=this._ngForOf}L.forEachIdentityChange(Ie=>{this._viewContainer.get(Ie.currentIndex).context.$implicit=Ie.item})}_perViewChange(L,te){L.context.$implicit=te.item}static ngTemplateContextGuard(L,te){return!0}}return P.\u0275fac=function(L){return new(L||P)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},P.\u0275dir=y.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),P})();class Xe{constructor(Z,L){this.record=Z,this.view=L}}let Rt=(()=>{class P{constructor(L,te){this._viewContainer=L,this._context=new Ut,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){Ve("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){Ve("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,te){return!0}}return P.\u0275fac=function(L){return new(L||P)(y.Y36(y.s_b),y.Y36(y.Rgc))},P.\u0275dir=y.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),P})();class Ut{constructor(){this.$implicit=null,this.ngIf=null}}function Ve(P,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,y.AaK)(Z)}'.`)}let so=(()=>{class P{constructor(L){this.locale=L}transform(L,te="mediumDate",Ie,ht){if(null==L||""===L||L!=L)return null;try{return Mr(L,te,ht||this.locale,Ie)}catch(bt){throw function(P,Z){return Error(`InvalidPipeArgument: '${Z}' for pipe '${(0,y.AaK)(P)}'`)}(P,bt.message)}}}return P.\u0275fac=function(L){return new(L||P)(y.Y36(y.soG,16))},P.\u0275pipe=y.Yjl({name:"date",type:P,pure:!0}),P})(),uo=(()=>{class P{}return P.\u0275fac=function(L){return new(L||P)},P.\u0275mod=y.oAB({type:P}),P.\u0275inj=y.cJS({providers:[{provide:wr,useClass:ur}]}),P})();const $i="browser";function ui(P){return"server"===P}let ds=(()=>{class P{}return P.\u0275prov=(0,y.Yz7)({token:P,providedIn:"root",factory:()=>new ci((0,y.LFG)(ne),window)}),P})();class ci{constructor(Z,L){this.document=Z,this.window=L,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const L=function(P,Z){const L=P.getElementById(Z)||P.getElementsByName(Z)[0];if(L)return L;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const te=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Ie=te.currentNode;for(;Ie;){const ht=Ie.shadowRoot;if(ht){const bt=ht.getElementById(Z)||ht.querySelector(`[name="${Z}"]`);if(bt)return bt}Ie=te.nextNode()}}return null}(this.document,Z);L&&(this.scrollToElement(L),this.attemptFocus(L))}setHistoryScrollRestoration(Z){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=Z)}}scrollToElement(Z){const L=Z.getBoundingClientRect(),te=L.left+this.window.pageXOffset,Ie=L.top+this.window.pageYOffset,ht=this.offset();this.window.scrollTo(te-ht[0],Ie-ht[1])}attemptFocus(Z){return Z.focus(),this.document.activeElement===Z}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Z=Hi(this.window.history)||Hi(Object.getPrototypeOf(this.window.history));return!(!Z||!Z.writable&&!Z.set)}catch(Z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Z){return!1}}}function Hi(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class Mo{}},4788:(Pe,de,S)=>{"use strict";S.d(de,{deG:()=>Ui,tb:()=>sw,AFp:()=>nw,ip1:()=>rE,CZH:()=>kf,hGG:()=>$A,z2F:()=>Yg,sBO:()=>SI,Sil:()=>Zg,_Vd:()=>Sf,EJc:()=>aw,SBq:()=>Cc,qLn:()=>g,vpe:()=>Ic,L6J:()=>FT,gxx:()=>pc,tBr:()=>su,XFs:()=>It,OlP:()=>Yr,zs3:()=>ii,IIB:()=>PT,ZZ4:()=>Gy,aQg:()=>Wy,soG:()=>n_,YKP:()=>K0,v3s:()=>bA,h0i:()=>Zd,PXZ:()=>gA,R0b:()=>Wa,FiY:()=>Ds,r_U:()=>NT,Lbi:()=>iw,g9A:()=>rw,Qsj:()=>fI,FYo:()=>Hy,JOm:()=>Ki,Tiy:()=>xv,q3G:()=>pi,PiD:()=>Yu,tp0:()=>ou,EAV:()=>DA,Rgc:()=>Lg,dDg:()=>dw,DyG:()=>qs,q4F:()=>Mv,GfV:()=>B0,s_b:()=>qy,ifc:()=>Lt,eFA:()=>mw,G48:()=>uA,Gpc:()=>K,X6Q:()=>lE,_c5:()=>FA,VLi:()=>aA,c2e:()=>ow,zSh:()=>tl,wAp:()=>Un,vHH:()=>Le,EiD:()=>nc,mCW:()=>kc,qzn:()=>sr,JVY:()=>uh,pB0:()=>ri,eBb:()=>ec,L6k:()=>zi,LAX:()=>as,cg1:()=>bv,Tjo:()=>PA,kL8:()=>u0,yhl:()=>Fa,dqk:()=>Bn,sIi:()=>Hl,CqO:()=>vg,QGY:()=>_g,F4k:()=>cv,RDi:()=>Zi,AaK:()=>Y,z3N:()=>Br,qOj:()=>df,TTD:()=>uo,_Bn:()=>F0,xp6:()=>Im,uIk:()=>tg,ekj:()=>Kd,Suo:()=>Pb,Xpm:()=>En,lG2:()=>fr,Yz7:()=>on,cJS:()=>zt,oAB:()=>yr,Yjl:()=>_n,Y36:()=>ql,_UZ:()=>Ef,qZA:()=>bc,TgZ:()=>yg,EpF:()=>Dy,n5z:()=>An,Ikx:()=>Ev,LFG:()=>fi,$8M:()=>$n,NdJ:()=>Eg,CRH:()=>Nb,kcU:()=>ta,O4$:()=>bu,oxw:()=>bf,ALo:()=>Sb,xi3:()=>Ob,Q6J:()=>gg,DdM:()=>bb,VKq:()=>wb,iGM:()=>Rb,MAs:()=>pf,evT:()=>gd,Jf7:()=>fa,CHM:()=>Qo,LSH:()=>Uc,kYT:()=>Jr,Akn:()=>ja,Udp:()=>xg,YNc:()=>cy,W1O:()=>Vb,_uU:()=>we,Oqu:()=>We,hij:()=>_t,AsE:()=>Ot,lnq:()=>Zt});var y=S(9765),R=S(5319),H=S(7574),ge=S(6682),ee=S(8819);function $(r){for(let i in r)if(r[i]===$)return i;throw Error("Could not find renamed property on target object.")}function ne(r,i){for(const s in i)i.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=i[s])}function Y(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Y).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function q(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const G=$({__forward_ref__:$});function K(r){return r.__forward_ref__=K,r.toString=function(){return Y(this())},r}function z(r){return oe(r)?r():r}function oe(r){return"function"==typeof r&&r.hasOwnProperty(G)&&r.__forward_ref__===K}class Le extends Error{constructor(i,s){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,s)),this.code=i}}function Ce(r){return"string"==typeof r?r:null==r?"":String(r)}function Fe(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ce(r)}function St(r,i){const s=i?` in ${i}`:"";throw new Le("201",`No provider for ${Fe(r)} found${s}`)}function Tt(r,i){null==r&&function(r,i,s,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${s} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function on(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function zt(r){return{providers:r.providers||[],imports:r.imports||[]}}function Be(r){return je(r,wt)||je(r,Wt)}function je(r,i){return r.hasOwnProperty(i)?r[i]:null}function ft(r){return r&&(r.hasOwnProperty(xt)||r.hasOwnProperty(ln))?r[xt]:null}const wt=$({\u0275prov:$}),xt=$({\u0275inj:$}),Wt=$({ngInjectableDef:$}),ln=$({ngInjectorDef:$});var It=(()=>((It=It||{})[It.Default=0]="Default",It[It.Host=1]="Host",It[It.Self=2]="Self",It[It.SkipSelf=4]="SkipSelf",It[It.Optional=8]="Optional",It))();let Rn;function kn(r){const i=Rn;return Rn=r,i}function Yt(r,i,s){const u=Be(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&It.Optional?null:void 0!==i?i:void St(Y(r),"Injector")}function Cn(r){return{toString:r}.toString()}var xn=(()=>((xn=xn||{})[xn.OnPush=0]="OnPush",xn[xn.Default=1]="Default",xn))(),Lt=(()=>((Lt=Lt||{})[Lt.Emulated=0]="Emulated",Lt[Lt.None=2]="None",Lt[Lt.ShadowDom=3]="ShadowDom",Lt))();const Ft="undefined"!=typeof globalThis&&globalThis,Mr="undefined"!=typeof window&&window,hr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Dr="undefined"!=typeof global&&global,Bn=Ft||Dr||Mr||hr,xe={},me=[],Me=$({\u0275cmp:$}),vt=$({\u0275dir:$}),tt=$({\u0275pipe:$}),en=$({\u0275mod:$}),Ne=$({\u0275loc:$}),nt=$({\u0275fac:$}),ut=$({__NG_ELEMENT_ID__:$});let $t=0;function En(r){return Cn(()=>{const s={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===xn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||me,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Lt.Emulated,id:"c",styles:r.styles||me,_:null,setInput:null,schemas:r.schemas||null,tView:null},l=r.directives,d=r.features,m=r.pipes;return u.id+=$t++,u.inputs=vr(r.inputs,s),u.outputs=vr(r.outputs),d&&d.forEach(v=>v(u)),u.directiveDefs=l?()=>("function"==typeof l?l():l).map(Jn):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(ir):null,u})}function Jn(r){return jn(r)||function(r){return r[vt]||null}(r)}function ir(r){return function(r){return r[tt]||null}(r)}const mr={};function yr(r){return Cn(()=>{const i={type:r.type,bootstrap:r.bootstrap||me,declarations:r.declarations||me,imports:r.imports||me,exports:r.exports||me,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(mr[r.id]=r.type),i})}function Jr(r,i){return Cn(()=>{const s=Rr(r,!0);s.declarations=i.declarations||me,s.imports=i.imports||me,s.exports=i.exports||me})}function vr(r,i){if(null==r)return xe;const s={};for(const u in r)if(r.hasOwnProperty(u)){let l=r[u],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),s[l]=u,i&&(i[l]=d)}return s}const fr=En;function _n(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function jn(r){return r[Me]||null}function Rr(r,i){const s=r[en]||null;if(!s&&!0===i)throw new Error(`Type ${Y(r)} does not have '\u0275mod' property.`);return s}function nn(r){return Array.isArray(r)&&"object"==typeof r[1]}function Fn(r){return Array.isArray(r)&&!0===r[1]}function In(r){return 0!=(8&r.flags)}function qn(r){return 2==(2&r.flags)}function Kr(r){return 1==(1&r.flags)}function Te(r){return null!==r.template}function De(r){return 0!=(512&r[2])}function Ni(r,i){return r.hasOwnProperty(nt)?r[nt]:null}class ao{constructor(i,s,u){this.previousValue=i,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function uo(){return $i}function $i(r){return r.type.prototype.ngOnChanges&&(r.setInput=Ei),za}function za(){const r=Os(this),i=null==r?void 0:r.current;if(i){const s=r.previous;if(s===xe)r.previous=i;else for(let u in i)s[u]=i[u];r.current=null,this.ngOnChanges(i)}}function Ei(r,i,s,u){const l=Os(r)||function(r,i){return r[Tr]=i}(r,{previous:xe,current:null}),d=l.current||(l.current={}),m=l.previous,v=this.declaredInputs[s],T=m[v];d[v]=new ao(T&&T.currentValue,i,m===xe),r[u]=i}uo.ngInherit=!0;const Tr="__ngSimpleChanges__";function Os(r){return r[Tr]||null}const ds="http://www.w3.org/2000/svg";let Hi;function Zi(r){Hi=r}function P(r){return!!r.listen}const L={createRenderer:(r,i)=>void 0!==Hi?Hi:"undefined"!=typeof document?document:void 0};function Ie(r){for(;Array.isArray(r);)r=r[0];return r}function F(r,i){return Ie(i[r])}function O(r,i){return Ie(i[r.index])}function Q(r,i){return r.data[i]}function Ze(r,i){return r[i]}function Bt(r,i){const s=i[r];return nn(s)?s:s[0]}function Sn(r){return 4==(4&r[2])}function nr(r){return 128==(128&r[2])}function Nr(r,i){return null==i?null:r[i]}function li(r){r[18]=0}function qr(r,i){r[5]+=i;let s=r,u=r[3];for(;null!==u&&(1===i&&1===s[5]||-1===i&&0===s[5]);)u[5]+=i,s=u,u=u[3]}const yn={lFrame:hs(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Yo(){return yn.bindingsEnabled}function Nt(){return yn.lFrame.lView}function Zn(){return yn.lFrame.tView}function Qo(r){return yn.lFrame.contextLView=r,r[8]}function Fr(){let r=ho();for(;null!==r&&64===r.type;)r=r.parent;return r}function ho(){return yn.lFrame.currentTNode}function Cs(r,i){const s=yn.lFrame;s.currentTNode=r,s.isParent=i}function Hs(){return yn.lFrame.isParent}function Gs(){return yn.isInCheckNoChangesMode}function xs(r){yn.isInCheckNoChangesMode=r}function ei(){const r=yn.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function is(){return yn.lFrame.bindingIndex}function Ms(){return yn.lFrame.bindingIndex++}function wi(r){const i=yn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,s}function vu(r,i){const s=yn.lFrame;s.bindingIndex=s.bindingRootIndex=r,Eu(i)}function Eu(r){yn.lFrame.currentDirectiveIndex=r}function Tc(){return yn.lFrame.currentQueryIndex}function Ca(r){yn.lFrame.currentQueryIndex=r}function Jo(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Xo(r,i,s){if(s&It.SkipSelf){let l=i,d=r;for(;!(l=l.parent,null!==l||s&It.Host||(l=Jo(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;i=l,r=d}const u=yn.lFrame=go();return u.currentTNode=i,u.lView=r,!0}function po(r){const i=go(),s=r[1];yn.lFrame=i,i.currentTNode=s.firstChild,i.lView=r,i.tView=s,i.contextLView=r,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function go(){const r=yn.lFrame,i=null===r?null:r.child;return null===i?hs(r):i}function hs(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Ia(){const r=yn.lFrame;return yn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Wu=Ia;function mo(){const r=Ia();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Gi(){return yn.lFrame.selectedIndex}function fs(r){yn.lFrame.selectedIndex=r}function Hr(){const r=yn.lFrame;return Q(r.tView,r.selectedIndex)}function bu(){yn.lFrame.currentNamespace=ds}function ta(){yn.lFrame.currentNamespace=null}function _o(r,i){for(let s=i.directiveStart,u=i.directiveEnd;s<u;s++){const d=r.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:T,ngAfterViewChecked:M,ngOnDestroy:B}=d;m&&(r.contentHooks||(r.contentHooks=[])).push(-s,m),v&&((r.contentHooks||(r.contentHooks=[])).push(s,v),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(s,v)),T&&(r.viewHooks||(r.viewHooks=[])).push(-s,T),M&&((r.viewHooks||(r.viewHooks=[])).push(s,M),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(s,M)),null!=B&&(r.destroyHooks||(r.destroyHooks=[])).push(s,B)}}function Gr(r,i,s){di(r,i,3,s)}function Fo(r,i,s,u){(3&r[2])===s&&di(r,i,s,u)}function Ka(r,i){let s=r[2];(3&s)===i&&(s&=2047,s+=1,r[2]=s)}function di(r,i,s,u){const d=null!=u?u:-1,m=i.length-1;let v=0;for(let T=void 0!==u?65535&r[18]:0;T<m;T++)if("number"==typeof i[T+1]){if(v=i[T],null!=u&&v>=u)break}else i[T]<0&&(r[18]+=65536),(v<d||-1==d)&&(qa(r,s,i,T),r[18]=(4294901760&r[18])+T+2),T++}function qa(r,i,s,u){const l=s[u]<0,d=s[u+1],v=r[l?-s[u]:s[u]];if(l){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{d.call(v)}finally{}}}else try{d.call(v)}finally{}}class Yi{constructor(i,s,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Oi(r,i,s){const u=P(r);let l=0;for(;l<s.length;){const d=s[l];if("number"==typeof d){if(0!==d)break;l++;const m=s[l++],v=s[l++],T=s[l++];u?r.setAttribute(i,v,T,m):i.setAttributeNS(m,v,T)}else{const m=d,v=s[++l];Ta(m)?u&&r.setProperty(i,m,v):u?r.setAttribute(i,m,v):i.setAttribute(m,v),l++}}return l}function Ya(r){return 3===r||4===r||6===r}function Ta(r){return 64===r.charCodeAt(0)}function zs(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let s=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?s=l:0===s||Rs(r,s,l,null,-1===s||2===s?i[++u]:null)}}return r}function Rs(r,i,s,u,l){let d=0,m=r.length;if(-1===i)m=-1;else for(;d<r.length;){const v=r[d++];if("number"==typeof v){if(v===i){m=-1;break}if(v>i){m=d-1;break}}}for(;d<r.length;){const v=r[d];if("number"==typeof v)break;if(v===s){if(null===u)return void(null!==l&&(r[d+1]=l));if(u===r[d+1])return void(r[d+2]=l)}d++,null!==u&&d++,null!==l&&d++}-1!==m&&(r.splice(m,0,i),d=m+1),r.splice(d++,0,s),null!==u&&r.splice(d++,0,u),null!==l&&r.splice(d++,0,l)}function Zr(r){return-1!==r}function Ks(r){return 32767&r}function Is(r,i){let s=function(r){return r>>16}(r),u=i;for(;s>0;)u=u[15],s--;return u}let Aa=!0;function ti(r){const i=Aa;return Aa=r,i}let Ja=0;function _r(r,i){const s=ia(r,i);if(-1!==s)return s;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,ni(u.data,r),ni(i,null),ni(u.blueprint,null));const l=fn(r,i),d=r.injectorIndex;if(Zr(l)){const m=Ks(l),v=Is(l,i),T=v[1].data;for(let M=0;M<8;M++)i[d+M]=v[m+M]|T[m+M]}return i[d+8]=l,d}function ni(r,i){r.push(0,0,0,0,0,0,0,0,i)}function ia(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function fn(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let s=0,u=null,l=i;for(;null!==l;){const d=l[1],m=d.type;if(u=2===m?d.declTNode:1===m?l[6]:null,null===u)return-1;if(s++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return-1}function Dn(r,i,s){!function(r,i,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(ut)&&(u=s[ut]),null==u&&(u=s[ut]=Ja++);const l=255&u;i.data[r+(l>>5)]|=1<<l}(r,i,s)}function Jt(r,i,s){if(s&It.Optional)return r;St(i,"NodeInjector")}function C(r,i,s,u){if(s&It.Optional&&void 0===u&&(u=null),0==(s&(It.Self|It.Host))){const l=r[9],d=kn(void 0);try{return l?l.get(i,u,s&It.Optional):Yt(i,u,s&It.Optional)}finally{kn(d)}}return Jt(u,i,s)}function b(r,i,s,u=It.Default,l){if(null!==r){const d=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(ut)?r[ut]:void 0;return"number"==typeof i?i>=0?255&i:N:i}(s);if("function"==typeof d){if(!Xo(i,r,u))return u&It.Host?Jt(l,s,u):C(i,s,u,l);try{const m=d(u);if(null!=m||u&It.Optional)return m;St(s)}finally{Wu()}}else if("number"==typeof d){let m=null,v=ia(r,i),T=-1,M=u&It.Host?i[16][6]:null;for((-1===v||u&It.SkipSelf)&&(T=-1===v?fn(r,i):i[v+8],-1!==T&&Kt(u,!1)?(m=i[1],v=Ks(T),i=Is(T,i)):v=-1);-1!==v;){const B=i[1];if(Ct(d,v,B.data)){const re=U(v,i,s,m,u,M);if(re!==w)return re}T=i[v+8],-1!==T&&Kt(u,i[1].data[v+8]===M)&&Ct(d,v,i)?(m=B,v=Ks(T),i=Is(T,i)):v=-1}}}return C(i,s,u,l)}const w={};function N(){return new zn(Fr(),Nt())}function U(r,i,s,u,l,d){const m=i[1],v=m.data[r+8],B=J(v,m,s,null==u?qn(v)&&Aa:u!=m&&0!=(3&v.type),l&It.Host&&d===v);return null!==B?_e(i,m,B,v):w}function J(r,i,s,u,l){const d=r.providerIndexes,m=i.data,v=1048575&d,T=r.directiveStart,B=d>>20,ce=l?v+B:r.directiveEnd;for(let Se=u?v:v+B;Se<ce;Se++){const $e=m[Se];if(Se<T&&s===$e||Se>=T&&$e.type===s)return Se}if(l){const Se=m[T];if(Se&&Te(Se)&&Se.type===s)return T}return null}function _e(r,i,s,u){let l=r[s];const d=i.data;if(function(r){return r instanceof Yi}(l)){const m=l;m.resolving&&function(r,i){throw new Le("200",`Circular dependency in DI detected for ${r}`)}(Fe(d[s]));const v=ti(m.canSeeViewProviders);m.resolving=!0;const T=m.injectImpl?kn(m.injectImpl):null;Xo(r,u,It.Default);try{l=r[s]=m.factory(void 0,d,r,u),i.firstCreatePass&&s>=u.directiveStart&&function(r,i,s){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:d}=i.type.prototype;if(u){const m=$i(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(r,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,m)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-r,l),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(r,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,d))}(s,d[s],i)}finally{null!==T&&kn(T),ti(v),m.resolving=!1,Wu()}}return l}function Ct(r,i,s){return!!(s[i+(r>>5)]&1<<r)}function Kt(r,i){return!(r&It.Self||r&It.Host&&i)}class zn{constructor(i,s){this._tNode=i,this._lView=s}get(i,s){return b(this._tNode,this._lView,i,void 0,s)}}function An(r){return Cn(()=>{const i=r.prototype.constructor,s=i[nt]||dn(i),u=Object.prototype;let l=Object.getPrototypeOf(r.prototype).constructor;for(;l&&l!==u;){const d=l[nt]||dn(l);if(d&&d!==s)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function dn(r){return oe(r)?()=>{const i=dn(z(r));return i&&i()}:Ni(r)}function $n(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const s=r.attrs;if(s){const u=s.length;let l=0;for(;l<u;){const d=s[l];if(Ya(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<u&&"string"==typeof s[l];)l++;else{if(d===i)return s[l+1];l+=2}}}return null}(Fr(),r)}const or="__parameters__",Tn="__prop__metadata__";function Ci(r){return function(...s){if(r){const u=r(...s);for(const l in u)this[l]=u[l]}}}function Vi(r,i,s){return Cn(()=>{const u=Ci(i);function l(...d){if(this instanceof l)return u.apply(this,d),this;const m=new l(...d);return v.annotation=m,v;function v(T,M,B){const re=T.hasOwnProperty(or)?T[or]:Object.defineProperty(T,or,{value:[]})[or];for(;re.length<=B;)re.push(null);return(re[B]=re[B]||[]).push(m),T}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=r,l.annotationCls=l,l})}function Eo(r,i,s,u){return Cn(()=>{const l=Ci(i);function d(...m){if(this instanceof d)return l.apply(this,m),this;const v=new d(...m);return function(M,B){const re=M.constructor,ce=re.hasOwnProperty(Tn)?re[Tn]:Object.defineProperty(re,Tn,{value:{}})[Tn];ce[B]=ce.hasOwnProperty(B)&&ce[B]||[],ce[B].unshift(v),u&&u(M,B,...m)}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class Yr{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=on({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ui=new Yr("AnalyzeForEntryComponents"),qs=Function;function gs(r,i){void 0===i&&(i=r);for(let s=0;s<r.length;s++){let u=r[s];Array.isArray(u)?(i===r&&(i=r.slice(0,s)),gs(u,i)):i!==r&&i.push(u)}return i}function Bi(r,i){r.forEach(s=>Array.isArray(s)?Bi(s,i):i(s))}function Lo(r,i,s){i>=r.length?r.push(s):r.splice(i,0,s)}function bo(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function ss(r,i,s){let u=Ys(r,i);return u>=0?r[1|u]=s:(u=~u,function(r,i,s,u){let l=r.length;if(l==i)r.push(s,u);else if(1===l)r.push(u,r[0]),r[0]=s;else{for(l--,r.push(r[l-1],r[l]);l>i;)r[l]=r[l-2],l--;r[i]=s,r[i+1]=u}}(r,u,i,s)),u}function Ku(r,i){const s=Ys(r,i);if(s>=0)return r[1|s]}function Ys(r,i){return function(r,i,s){let u=0,l=r.length>>s;for(;l!==u;){const d=u+(l-u>>1),m=r[d<<s];if(i===m)return d<<s;m>i?l=d:u=d+1}return~(l<<s)}(r,i,1)}const Wi={},ms="__NG_DI_FLAG__",Sr="ngTempTokenPath",aa=/\n/gm,wo="__source",os=$({provide:String,useValue:$});let iu;function Co(r){const i=iu;return iu=r,i}function qu(r,i=It.Default){if(void 0===iu)throw new Error("inject() must be called from an injection context");return null===iu?Yt(r,void 0,i):iu.get(r,i&It.Optional?null:void 0,i)}function fi(r,i=It.Default){return(Rn||qu)(z(r),i)}function ca(r){const i=[];for(let s=0;s<r.length;s++){const u=z(r[s]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let l,d=It.Default;for(let m=0;m<u.length;m++){const v=u[m],T=Qs(v);"number"==typeof T?-1===T?l=v.token:d|=T:l=v}i.push(fi(l,d))}else i.push(fi(u))}return i}function la(r,i){return r[ms]=i,r.prototype[ms]=i,r}function Qs(r){return r[ms]}function Mc(r,i,s,u){const l=r[Sr];throw i[wo]&&l.unshift(i[wo]),r.message=function(r,i,s,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let l=Y(i);if(Array.isArray(i))l=i.map(Y).join(" -> ");else if("object"==typeof i){let d=[];for(let m in i)if(i.hasOwnProperty(m)){let v=i[m];d.push(m+":"+("string"==typeof v?JSON.stringify(v):Y(v)))}l=`{${d.join(", ")}}`}return`${s}${u?"("+u+")":""}[${l}]: ${r.replace(aa,"\n  ")}`}("\n"+r.message,l,s,u),r.ngTokenPath=l,r[Sr]=null,r}const su=la(Vi("Inject",r=>({token:r})),-1),Ds=la(Vi("Optional"),8),Yu=la(Vi("Self"),2),ou=la(Vi("SkipSelf"),4);let Nc;function Pa(r){var i;return(null===(i=function(){if(void 0===Nc&&(Nc=null,Bn.trustedTypes))try{Nc=Bn.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Nc}())||void 0===i?void 0:i.createHTML(r))||r}class da{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class oh extends da{getTypeName(){return"HTML"}}class ah extends da{getTypeName(){return"Style"}}class Fc extends da{getTypeName(){return"Script"}}class sd extends da{getTypeName(){return"URL"}}class Kf extends da{getTypeName(){return"ResourceURL"}}function Br(r){return r instanceof da?r.changingThisBreaksApplicationSecurity:r}function sr(r,i){const s=Fa(r);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function Fa(r){return r instanceof da&&r.getTypeName()||null}function uh(r){return new oh(r)}function zi(r){return new ah(r)}function ec(r){return new Fc(r)}function as(r){return new sd(r)}function ri(r){return new Kf(r)}class qf{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Pa(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Fs{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const u=this.inertDocument.createElement("body");s.appendChild(u)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Pa(i),s;const u=this.inertDocument.createElement("body");return u.innerHTML=Pa(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const s=i.attributes;for(let l=s.length-1;0<l;l--){const m=s.item(l).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&i.removeAttribute(m)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const ad=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,lh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function kc(r){return(r=String(r)).match(ad)||r.match(lh)?r:"unsafe:"+r}function ha(r){const i={};for(const s of r.split(","))i[s]=!0;return i}function au(...r){const i={};for(const s of r)for(const u in s)s.hasOwnProperty(u)&&(i[u]=!0);return i}const Tu=ha("area,br,col,hr,img,wbr"),uu=ha("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Lc=ha("rp,rt"),ld=au(Tu,au(uu,ha("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),au(Lc,ha("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),au(Lc,uu)),bl=ha("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Au=ha("srcset"),dh=au(bl,Au,ha("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ha("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tc=ha("script,style,template");class hh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!ld.hasOwnProperty(s))return this.sanitizedSomething=!0,!tc.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=i.attributes;for(let l=0;l<u.length;l++){const d=u.item(l),m=d.name,v=m.toLowerCase();if(!dh.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let T=d.value;bl[v]&&(T=kc(T)),Au[v]&&(r=T,T=(r=String(r)).split(",").map(i=>kc(i.trim())).join(", ")),this.buf.push(" ",m,'="',wl(T),'"')}var r;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();ld.hasOwnProperty(s)&&!Tu.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(wl(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const Qf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xi=/([^\#-~ |!])/g;function wl(r){return r.replace(/&/g,"&amp;").replace(Qf,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Xi,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cu;function nc(r,i){let s=null;try{cu=cu||function(r){const i=new Fs(r);return function(){try{return!!(new window.DOMParser).parseFromString(Pa(""),"text/html")}catch(r){return!1}}()?new qf(i):i}(r);let u=i?String(i):"";s=cu.getInertBodyElement(u);let l=5,d=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=d,d=s.innerHTML,s=cu.getInertBodyElement(u)}while(u!==d);return Pa((new hh).sanitizeChildren(Js(s)||s))}finally{if(s){const u=Js(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Js(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var pi=(()=>((pi=pi||{})[pi.NONE=0]="NONE",pi[pi.HTML=1]="HTML",pi[pi.STYLE=2]="STYLE",pi[pi.SCRIPT=3]="SCRIPT",pi[pi.URL=4]="URL",pi[pi.RESOURCE_URL=5]="RESOURCE_URL",pi))();function Uc(r){const i=function(){const r=Nt();return r&&r[12]}();return i?i.sanitize(pi.URL,r)||"":sr(r,"URL")?Br(r):kc(Ce(r))}const Dl="__ngContext__";function ys(r,i){r[Dl]=i}function ka(r){const i=function(r){return r[Dl]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function Qr(r){return r.ngOriginalError}function f(r,...i){r.error(...i)}class g{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),u=this._findContext(i),l=(r=i)&&r.ngErrorLogger||f;var r;l(this._console,"ERROR",i),s&&l(this._console,"ORIGINAL ERROR",s),u&&l(this._console,"ERROR CONTEXT",u)}_findContext(i){return i?i.ngDebugContext||this._findContext(Qr(i)):null}_findOriginalError(i){let s=i&&Qr(i);for(;s&&Qr(s);)s=Qr(s);return s||null}}const Su=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Bn))();function fa(r){return r.ownerDocument.defaultView}function gd(r){return r.ownerDocument}function to(r){return r instanceof Function?r():r}var Ki=(()=>((Ki=Ki||{})[Ki.Important=1]="Important",Ki[Ki.DashCase=2]="DashCase",Ki))();function md(r,i){return undefined(r,i)}function Sl(r){const i=r[3];return Fn(i)?i[3]:i}function oc(r){return Xf(r[13])}function zc(r){return Xf(r[4])}function Xf(r){for(;null!==r&&!Fn(r);)r=r[4];return r}function Ol(r,i,s,u,l){if(null!=u){let d,m=!1;Fn(u)?d=u:nn(u)&&(m=!0,u=u[0]);const v=Ie(u);0===r&&null!==s?null==l?xu(i,s,v):uc(i,s,v,l||null,!0):1===r&&null!==s?uc(i,s,v,l||null,!0):2===r?function(r,i,s){const u=_d(r,i);u&&function(r,i,s,u){P(r)?r.removeChild(i,s,u):i.removeChild(s)}(r,u,i,s)}(i,v,m):3===r&&i.destroyNode(v),null!=d&&function(r,i,s,u,l){const d=s[7];d!==Ie(s)&&Ol(i,r,u,d,l);for(let v=10;v<s.length;v++){const T=s[v];Ed(T[1],T,r,i,u,d)}}(i,r,d,s,l)}}function yd(r,i,s){return P(r)?r.createElement(i,s):null===s?r.createElement(i):r.createElementNS(s,i)}function Dh(r,i){const s=r[9],u=s.indexOf(i),l=i[3];1024&i[2]&&(i[2]&=-1025,qr(l,-1)),s.splice(u,1)}function Th(r,i){if(r.length<=10)return;const s=10+i,u=r[s];if(u){const l=u[17];null!==l&&l!==r&&Dh(l,u),i>0&&(r[s-1][4]=u[4]);const d=bo(r,10+i);!function(r,i){Ed(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const m=d[19];null!==m&&m.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Ou(r,i){if(!(256&i[2])){const s=i[11];P(s)&&s.destroyNode&&Ed(r,i,s,3,null,null),function(r){let i=r[13];if(!i)return ac(r[1],r);for(;i;){let s=null;if(nn(i))s=i[13];else{const u=i[10];u&&(s=u)}if(!s){for(;i&&!i[4]&&i!==r;)nn(i)&&ac(i[1],i),i=i[3];null===i&&(i=r),nn(i)&&ac(i[1],i),s=i&&i[4]}i=s}}(i)}}function ac(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let s;if(null!=r&&null!=(s=r.destroyHooks))for(let u=0;u<s.length;u+=2){const l=i[s[u]];if(!(l instanceof Yi)){const d=s[u+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const v=l[d[m]],T=d[m+1];try{T.call(v)}finally{}}else try{d.call(l)}finally{}}}}(r,i),function(r,i){const s=r.cleanup,u=i[7];let l=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const m=s[d+1],v="function"==typeof m?m(i):Ie(i[m]),T=u[l=s[d+2]],M=s[d+3];"boolean"==typeof M?v.removeEventListener(s[d],T,M):M>=0?u[l=M]():u[l=-M].unsubscribe(),d+=2}else{const m=u[l=s[d+1]];s[d].call(m)}if(null!==u){for(let d=l+1;d<u.length;d++)u[d]();i[7]=null}}(r,i),1===i[1].type&&P(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&Fn(i[3])){s!==i[3]&&Dh(s,i);const u=i[19];null!==u&&u.detachView(r)}}}function dm(r,i,s){return function(r,i,s){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return s[0];if(2&u.flags){const l=r.data[u.directiveStart].encapsulation;if(l===Lt.None||l===Lt.Emulated)return null}return O(u,s)}(r,i.parent,s)}function uc(r,i,s,u,l){P(r)?r.insertBefore(i,s,u,l):i.insertBefore(s,u,l)}function xu(r,i,s){P(r)?r.appendChild(i,s):i.appendChild(s)}function cc(r,i,s,u,l){null!==u?uc(r,i,s,u,l):xu(r,i,s)}function _d(r,i){return P(r)?r.parentNode(i):i.parentNode}let pm=function(r,i,s){return 40&r.type?O(r,s):null};function vd(r,i,s,u){const l=dm(r,u,i),d=i[11],v=function(r,i,s){return pm(r,i,s)}(u.parent||i[6],u,i);if(null!=l)if(Array.isArray(s))for(let T=0;T<s.length;T++)cc(d,l,s[T],v,!1);else cc(d,l,s,v,!1)}function Ah(r,i){if(null!==i){const s=i.type;if(3&s)return O(i,r);if(4&s)return Sh(-1,r[i.index]);if(8&s){const u=i.child;if(null!==u)return Ah(r,u);{const l=r[i.index];return Fn(l)?Sh(-1,l):Ie(l)}}if(32&s)return md(i,r)()||Ie(r[i.index]);{const u=gm(r,i);return null!==u?Array.isArray(u)?u[0]:Ah(Sl(r[16]),u):Ah(r,i.next)}}return null}function gm(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Sh(r,i){const s=10+r+1;if(s<i.length){const u=i[s],l=u[1].firstChild;if(null!==l)return Ah(u,l)}return i[7]}function Ml(r,i,s,u,l,d,m){for(;null!=s;){const v=u[s.index],T=s.type;if(m&&0===i&&(v&&ys(Ie(v),u),s.flags|=4),64!=(64&s.flags))if(8&T)Ml(r,i,s.child,u,l,d,!1),Ol(i,r,l,v,d);else if(32&T){const M=md(s,u);let B;for(;B=M();)Ol(i,r,l,B,d);Ol(i,r,l,v,d)}else 16&T?Oh(r,i,u,s,l,d):Ol(i,r,l,v,d);s=m?s.projectionNext:s.next}}function Ed(r,i,s,u,l,d){Ml(s,u,r.firstChild,i,l,d,!1)}function Oh(r,i,s,u,l,d){const m=s[16],T=m[6].projection[u.projection];if(Array.isArray(T))for(let M=0;M<T.length;M++)Ol(i,r,l,T[M],d);else Ml(r,i,T,m[3],l,d,!0)}function wd(r,i,s){P(r)?r.setAttribute(i,"style",s):i.style.cssText=s}function Cd(r,i,s){P(r)?""===s?r.removeAttribute(i,"class"):r.setAttribute(i,"class",s):i.className=s}function ym(r,i,s){let u=r.length;for(;;){const l=r.indexOf(i,s);if(-1===l)return l;if(0===l||r.charCodeAt(l-1)<=32){const d=i.length;if(l+d===u||r.charCodeAt(l+d)<=32)return l}s=l+1}}const xh="ng-template";function _m(r,i,s){let u=0;for(;u<r.length;){let l=r[u++];if(s&&"class"===l){if(l=r[u],-1!==ym(l.toLowerCase(),i,0))return!0}else if(1===l){for(;u<r.length&&"string"==typeof(l=r[u++]);)if(l.toLowerCase()===i)return!0;return!1}}return!1}function vm(r){return 4===r.type&&r.value!==xh}function Em(r,i,s){return i===(4!==r.type||s?r.value:xh)}function bm(r,i,s){let u=4;const l=r.attrs||[],d=function(r){for(let i=0;i<r.length;i++)if(Ya(r[i]))return i;return r.length}(l);let m=!1;for(let v=0;v<i.length;v++){const T=i[v];if("number"!=typeof T){if(!m)if(4&u){if(u=2|1&u,""!==T&&!Em(r,T,s)||""===T&&1===i.length){if(Ho(u))return!1;m=!0}}else{const M=8&u?T:i[++v];if(8&u&&null!==r.attrs){if(!_m(r.attrs,M,s)){if(Ho(u))return!1;m=!0}continue}const re=y_(8&u?"class":T,l,vm(r),s);if(-1===re){if(Ho(u))return!1;m=!0;continue}if(""!==M){let ce;ce=re>d?"":l[re+1].toLowerCase();const Se=8&u?ce:null;if(Se&&-1!==ym(Se,M,0)||2&u&&M!==ce){if(Ho(u))return!1;m=!0}}}}else{if(!m&&!Ho(u)&&!Ho(T))return!1;if(m&&Ho(T))continue;m=!1,u=T|1&u}}return Ho(u)||m}function Ho(r){return 0==(1&r)}function y_(r,i,s,u){if(null===i)return-1;let l=0;if(u||!s){let d=!1;for(;l<i.length;){const m=i[l];if(m===r)return l;if(3===m||6===m)d=!0;else{if(1===m||2===m){let v=i[++l];for(;"string"==typeof v;)v=i[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=d?1:2}return-1}return function(r,i){let s=r.indexOf(4);if(s>-1)for(s++;s<r.length;){const u=r[s];if("number"==typeof u)return-1;if(u===i)return s;s++}return-1}(i,r)}function rp(r,i,s=!1){for(let u=0;u<i.length;u++)if(bm(r,i[u],s))return!0;return!1}function Yc(r,i){return r?":not("+i.trim()+")":i}function ip(r){let i=r[0],s=1,u=2,l="",d=!1;for(;s<r.length;){let m=r[s];if("string"==typeof m)if(2&u){const v=r[++s];l+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&u?l+="."+m:4&u&&(l+=" "+m);else""!==l&&!Ho(m)&&(i+=Yc(d,l),l=""),u=m,d=d||!Ho(u);s++}return""!==l&&(i+=Yc(d,l)),i}const Kn={};function Im(r){Rh(Zn(),Nt(),Gi()+r,Gs())}function Rh(r,i,s,u){if(!u)if(3==(3&i[2])){const d=r.preOrderCheckHooks;null!==d&&Gr(i,d,s)}else{const d=r.preOrderHooks;null!==d&&Fo(i,d,0,s)}fs(s)}function Ph(r,i){return r<<17|i<<2}function Go(r){return r>>17&32767}function op(r){return 2|r}function Va(r){return(131068&r)>>2}function es(r,i){return-131069&r|i<<2}function ap(r){return 1|r}function Pm(r,i){const s=r.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const l=s[u],d=s[u+1];if(-1!==d){const m=r.data[d];Ca(l),m.contentQueries(2,i[d],d)}}}function Qc(r,i,s,u,l,d,m,v,T,M){const B=i.blueprint.slice();return B[0]=l,B[2]=140|u,li(B),B[3]=B[15]=r,B[8]=s,B[10]=m||r&&r[10],B[11]=v||r&&r[11],B[12]=T||r&&r[12]||null,B[9]=M||r&&r[9]||null,B[6]=d,B[16]=2==i.type?r[16]:B,B}function kl(r,i,s,u,l){let d=r.data[i];if(null===d)d=function(r,i,s,u,l){const d=ho(),m=Hs(),T=r.data[i]=function(r,i,s,u,l,d){return{type:s,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,s,i,u,l);return null===r.firstChild&&(r.firstChild=T),null!==d&&(m?null==d.child&&null!==T.parent&&(d.child=T):null===d.next&&(d.next=T)),T}(r,i,s,u,l),yn.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=u,d.attrs=l;const m=function(){const r=yn.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return Cs(d,!0),d}function Pu(r,i,s,u){if(0===s)return-1;const l=i.length;for(let d=0;d<s;d++)i.push(u),r.blueprint.push(u),r.data.push(null);return l}function Jc(r,i,s){po(i);try{const u=r.viewQuery;null!==u&&Nd(1,u,s);const l=r.template;null!==l&&jh(r,i,l,1,s),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Pm(r,i),r.staticViewQueries&&Nd(2,r.viewQuery,s);const d=r.components;null!==d&&function(r,i){for(let s=0;s<i.length;s++)x_(r,i[s])}(i,d)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,mo()}}function Xc(r,i,s,u){const l=i[2];if(256==(256&l))return;po(i);const d=Gs();try{li(i),function(r){yn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==s&&jh(r,i,s,2,u);const m=3==(3&l);if(!d)if(m){const M=r.preOrderCheckHooks;null!==M&&Gr(i,M,null)}else{const M=r.preOrderHooks;null!==M&&Fo(i,M,0,null),Ka(i,0)}if(function(r){for(let i=oc(r);null!==i;i=zc(i)){if(!i[2])continue;const s=i[9];for(let u=0;u<s.length;u++){const l=s[u],d=l[3];0==(1024&l[2])&&qr(d,1),l[2]|=1024}}}(i),function(r){for(let i=oc(r);null!==i;i=zc(i))for(let s=10;s<i.length;s++){const u=i[s],l=u[1];nr(u)&&Xc(l,u,l.template,u[8])}}(i),null!==r.contentQueries&&Pm(r,i),!d)if(m){const M=r.contentCheckHooks;null!==M&&Gr(i,M)}else{const M=r.contentHooks;null!==M&&Fo(i,M,1),Ka(i,1)}!function(r,i){const s=r.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const l=s[u];if(l<0)fs(~l);else{const d=l,m=s[++u],v=s[++u];vu(m,d),v(2,i[d])}}}finally{fs(-1)}}(r,i);const v=r.components;null!==v&&function(r,i){for(let s=0;s<i.length;s++)xp(r,i[s])}(i,v);const T=r.viewQuery;if(null!==T&&Nd(2,T,u),!d)if(m){const M=r.viewCheckHooks;null!==M&&Gr(i,M)}else{const M=r.viewHooks;null!==M&&Fo(i,M,2),Ka(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),d||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,qr(i[3],-1))}finally{mo()}}function Ll(r,i,s,u){const l=i[10],d=!Gs(),m=Sn(i);try{d&&!m&&l.begin&&l.begin(),m&&Jc(r,i,u),Xc(r,i,s,u)}finally{d&&!m&&l.end&&l.end()}}function jh(r,i,s,u,l){const d=Gi(),m=2&u;try{fs(-1),m&&i.length>20&&Rh(r,i,20,Gs()),s(u,l)}finally{fs(d)}}function mp(r,i,s){!Yo()||(function(r,i,s,u){const l=s.directiveStart,d=s.directiveEnd;r.firstCreatePass||_r(s,i),ys(u,i);const m=s.initialInputs;for(let v=l;v<d;v++){const T=r.data[v],M=Te(T);M&&Bm(i,s,T);const B=_e(i,r,v,s);ys(B,i),null!==m&&jm(0,v-l,B,T,0,m),M&&(Bt(s.index,i)[8]=B)}}(r,i,s,O(s,i)),128==(128&s.flags)&&function(r,i,s){const u=s.directiveStart,l=s.directiveEnd,m=s.index,v=yn.lFrame.currentDirectiveIndex;try{fs(m);for(let T=u;T<l;T++){const M=r.data[T],B=i[T];Eu(T),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Vm(M,B)}}finally{fs(-1),Eu(v)}}(r,i,s))}function $h(r,i,s=O){const u=i.localNames;if(null!==u){let l=i.index+1;for(let d=0;d<u.length;d+=2){const m=u[d+1],v=-1===m?s(i,r):r[m];r[l++]=v}}}function yp(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Hh(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Hh(r,i,s,u,l,d,m,v,T,M){const B=20+u,re=B+l,ce=function(r,i){const s=[];for(let u=0;u<i;u++)s.push(u<r?null:Kn);return s}(B,re),Se="function"==typeof M?M():M;return ce[1]={type:r,blueprint:ce,template:s,queries:null,viewQuery:v,declTNode:i,data:ce.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:T,consts:Se,incompleteFirstPass:!1}}function Gh(r,i,s,u){const l=Wm(i);null===s?l.push(u):(l.push(s),r.firstCreatePass&&Qh(r).push(u,l.length-1))}function Wh(r,i,s){for(let u in r)if(r.hasOwnProperty(u)){const l=r[u];(s=null===s?{}:s).hasOwnProperty(u)?s[u].push(i,l):s[u]=[i,l]}return s}function Es(r,i,s,u,l,d,m,v){const T=O(i,s);let B,M=i.inputs;!v&&null!=M&&(B=M[u])?(el(r,s,B,u,l),qn(i)&&function(r,i){const s=Bt(i,r);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),l=null!=m?m(l,i.value||"",u):l,P(d)?d.setProperty(T,u,l):Ta(u)||(T.setProperty?T.setProperty(u,l):T[u]=l))}function Cp(r,i,s,u){let l=!1;if(Yo()){const d=function(r,i,s){const u=r.directiveRegistry;let l=null;if(u)for(let d=0;d<u.length;d++){const m=u[d];rp(s,m.selectors,!1)&&(l||(l=[]),Dn(_r(s,i),r,m.type),Te(m)?(Kh(r,s),l.unshift(m)):l.push(m))}return l}(r,i,s),m=null===u?null:{"":-1};if(null!==d){l=!0,Sp(s,r.data.length,d.length);for(let B=0;B<d.length;B++){const re=d[B];re.providersResolver&&re.providersResolver(re)}let v=!1,T=!1,M=Pu(r,i,d.length,null);for(let B=0;B<d.length;B++){const re=d[B];s.mergedAttrs=zs(s.mergedAttrs,re.hostAttrs),Um(r,s,i,M,re),A_(M,re,m),null!==re.contentQueries&&(s.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(s.flags|=128);const ce=re.type.prototype;!v&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(s.index),v=!0),!T&&(ce.ngOnChanges||ce.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(s.index),T=!0),M++}!function(r,i){const u=i.directiveEnd,l=r.data,d=i.attrs,m=[];let v=null,T=null;for(let M=i.directiveStart;M<u;M++){const B=l[M],re=B.inputs,ce=null===d||vm(i)?null:S_(re,d);m.push(ce),v=Wh(re,M,v),T=Wh(B.outputs,M,T)}null!==v&&(v.hasOwnProperty("class")&&(i.flags|=16),v.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=v,i.outputs=T}(r,s)}m&&function(r,i,s){if(i){const u=r.localNames=[];for(let l=0;l<i.length;l+=2){const d=s[i[l+1]];if(null==d)throw new Le("301",`Export of name '${i[l+1]}' not found!`);u.push(i[l],d)}}}(s,u,m)}return s.mergedAttrs=zs(s.mergedAttrs,s.attrs),l}function zh(r,i,s,u,l,d){const m=d.hostBindings;if(m){let v=r.hostBindingOpCodes;null===v&&(v=r.hostBindingOpCodes=[]);const T=~i.index;(function(r){let i=r.length;for(;i>0;){const s=r[--i];if("number"==typeof s&&s<0)return s}return 0})(v)!=T&&v.push(T),v.push(u,l,m)}}function Vm(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Kh(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function A_(r,i,s){if(s){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)s[i.exportAs[u]]=r;Te(i)&&(s[""]=r)}}function Sp(r,i,s){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+s,r.providerIndexes=i}function Um(r,i,s,u,l){r.data[u]=l;const d=l.factory||(l.factory=Ni(l.type)),m=new Yi(d,Te(l),null);r.blueprint[u]=m,s[u]=m,zh(r,i,0,u,Pu(r,s,l.hostVars,Kn),l)}function Bm(r,i,s){const u=O(i,r),l=yp(s),d=r[10],m=Zh(r,Qc(r,l,null,s.onPush?64:16,u,i,d,d.createRenderer(u,s),null,null));r[i.index]=m}function Ua(r,i,s,u,l,d){const m=O(r,i);!function(r,i,s,u,l,d,m){if(null==d)P(r)?r.removeAttribute(i,l,s):i.removeAttribute(l);else{const v=null==m?Ce(d):m(d,u||"",l);P(r)?r.setAttribute(i,l,v,s):s?i.setAttributeNS(s,l,v):i.setAttribute(l,v)}}(i[11],m,d,r.value,s,u,l)}function jm(r,i,s,u,l,d){const m=d[i];if(null!==m){const v=u.setInput;for(let T=0;T<m.length;){const M=m[T++],B=m[T++],re=m[T++];null!==v?u.setInput(s,re,M,B):s[B]=re}}}function S_(r,i){let s=null,u=0;for(;u<i.length;){const l=i[u];if(0!==l)if(5!==l){if("number"==typeof l)break;r.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,r[l],i[u+1])),u+=2}else u+=2;else u+=4}return s}function $m(r,i,s,u){return new Array(r,!0,!1,i,null,0,u,s,null,null)}function xp(r,i){const s=Bt(i,r);if(nr(s)){const u=s[1];80&s[2]?Xc(u,s,u.template,s[8]):s[5]>0&&Md(s)}}function Md(r){for(let u=oc(r);null!==u;u=zc(u))for(let l=10;l<u.length;l++){const d=u[l];if(1024&d[2]){const m=d[1];Xc(m,d,m.template,d[8])}else d[5]>0&&Md(d)}const s=r[1].components;if(null!==s)for(let u=0;u<s.length;u++){const l=Bt(s[u],r);nr(l)&&l[5]>0&&Md(l)}}function x_(r,i){const s=Bt(i,r),u=s[1];(function(r,i){for(let s=i.length;s<r.blueprint.length;s++)i.push(r.blueprint[s])})(u,s),Jc(u,s,s[8])}function Zh(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Rd(r){for(;r;){r[2]|=64;const i=Sl(r);if(De(r)&&!i)return r;r=i}return null}function Yh(r,i,s){const u=i[10];u.begin&&u.begin();try{Xc(r,i,r.template,s)}catch(l){throw Xh(i,l),l}finally{u.end&&u.end()}}function Gm(r){!function(r){for(let i=0;i<r.components.length;i++){const s=r.components[i],u=ka(s),l=u[1];Ll(l,u,l.template,s)}}(r[8])}function Nd(r,i,s){Ca(0),i(r,s)}const Pp=(()=>Promise.resolve(null))();function Wm(r){return r[7]||(r[7]=[])}function Qh(r){return r.cleanup||(r.cleanup=[])}function Xh(r,i){const s=r[9],u=s?s.get(g,null):null;u&&u.handleError(i)}function el(r,i,s,u,l){for(let d=0;d<s.length;){const m=s[d++],v=s[d++],T=i[m],M=r.data[m];null!==M.setInput?M.setInput(T,l,u,v):T[v]=l}}function fu(r,i,s){const u=F(i,r);!function(r,i,s){P(r)?r.setValue(i,s):i.textContent=s}(r[11],u,s)}function Vl(r,i,s){let u=s?r.styles:null,l=s?r.classes:null,d=0;if(null!==i)for(let m=0;m<i.length;m++){const v=i[m];"number"==typeof v?d=v:1==d?l=q(l,v):2==d&&(u=q(u,v+": "+i[++m]+";"))}s?r.styles=u:r.stylesWithoutHost=u,s?r.classes=l:r.classesWithoutHost=l}const pc=new Yr("INJECTOR",-1);class zm{get(i,s=Wi){if(s===Wi){const u=new Error(`NullInjectorError: No provider for ${Y(i)}!`);throw u.name="NullInjectorError",u}return s}}const tl=new Yr("Set Injector scope."),Fd={},P_={};let kd;function Km(){return void 0===kd&&(kd=new zm),kd}function qm(r,i=null,s=null,u){return new kp(r,s,i||Km(),u)}class kp{constructor(i,s,u,l=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];s&&Bi(s,v=>this.processProvider(v,i,s)),Bi([i],v=>this.processInjectorType(v,[],d)),this.records.set(pc,nl(void 0,this));const m=this.records.get(tl);this.scope=null!=m?m.value:null,this.source=l||("object"==typeof i?null:Y(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=Wi,u=It.Default){this.assertNotDestroyed();const l=Co(this),d=kn(void 0);try{if(!(u&It.SkipSelf)){let v=this.records.get(i);if(void 0===v){const T=("function"==typeof(r=i)||"object"==typeof r&&r instanceof Yr)&&Be(i);v=T&&this.injectableDefInScope(T)?nl(Lp(i),Fd):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(u&It.Self?Km():this.parent).get(i,s=u&It.Optional&&s===Wi?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[Sr]=m[Sr]||[]).unshift(Y(i)),l)throw m;return Mc(m,i,"R3InjectorError",this.source)}throw m}finally{kn(d),Co(l)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,l)=>i.push(Y(l))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,s,u){if(!(i=z(i)))return!1;let l=ft(i);const d=null==l&&i.ngModule||void 0,m=void 0===d?i:d,v=-1!==u.indexOf(m);if(void 0!==d&&(l=ft(d)),null==l)return!1;if(null!=l.imports&&!v){let B;u.push(m);try{Bi(l.imports,re=>{this.processInjectorType(re,s,u)&&(void 0===B&&(B=[]),B.push(re))})}finally{}if(void 0!==B)for(let re=0;re<B.length;re++){const{ngModule:ce,providers:Se}=B[re];Bi(Se,$e=>this.processProvider($e,ce,Se||me))}}this.injectorDefTypes.add(m);const T=Ni(m)||(()=>new m);this.records.set(m,nl(T,Fd));const M=l.providers;if(null!=M&&!v){const B=i;Bi(M,re=>this.processProvider(re,B,M))}return void 0!==d&&void 0!==i.providers}processProvider(i,s,u){let l=Ul(i=z(i))?i:z(i&&i.provide);const d=Ym(r=i)?nl(void 0,r.useValue):nl(ef(r),Fd);var r;if(Ul(i)||!0!==i.multi)this.records.get(l);else{let m=this.records.get(l);m||(m=nl(void 0,Fd,!0),m.factory=()=>ca(m.multi),this.records.set(l,m)),l=i,m.multi.push(i)}this.records.set(l,d)}hydrate(i,s){return s.value===Fd&&(s.value=P_,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(r=s.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const s=z(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Lp(r){const i=Be(r),s=null!==i?i.factory:Ni(r);if(null!==s)return s;if(r instanceof Yr)throw new Error(`Token ${Y(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const u=function(r,i){const s=[];for(let u=0;u<r;u++)s.push(i);return s}(i,"?");throw new Error(`Can't resolve all parameters for ${Y(r)}: (${u.join(", ")}).`)}const s=function(r){const i=r&&(r[wt]||r[Wt]);if(i){const s=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(r);return null!==s?()=>s.factory(r):()=>new r}(r);throw new Error("unreachable")}function ef(r,i,s){let u;if(Ul(r)){const l=z(r);return Ni(l)||Lp(l)}if(Ym(r))u=()=>z(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...ca(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>fi(z(r.useExisting));else{const l=z(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Ni(l)||Lp(l);u=()=>new l(...ca(r.deps))}return u}function nl(r,i,s=!1){return{factory:r,value:i,multi:s?[]:void 0}}function Ym(r){return null!==r&&"object"==typeof r&&os in r}function Ul(r){return"function"==typeof r}const Jm=function(r,i,s){return function(r,i=null,s=null,u){const l=qm(r,i,s,u);return l._resolveInjectorDefTypes(),l}({name:s},i,r,s)};let ii=(()=>{class r{static create(s,u){return Array.isArray(s)?Jm(s,u,""):Jm(s.providers,s.parent,s.name||"")}}return r.THROW_IF_NOT_FOUND=Wi,r.NULL=new zm,r.\u0275prov=on({token:r,providedIn:"any",factory:()=>fi(pc)}),r.__NG_ELEMENT_ID__=-1,r})();function gi(r,i){_o(ka(r)[1],Fr())}function df(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),s=!0;const u=[r];for(;i;){let l;if(Te(r))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");l=i.\u0275dir}if(l){if(s){u.push(l);const m=r;m.inputs=$l(r.inputs),m.declaredInputs=$l(r.declaredInputs),m.outputs=$l(r.outputs);const v=l.hostBindings;v&&z_(r,v);const T=l.viewQuery,M=l.contentQueries;if(T&&sy(r,T),M&&oy(r,M),ne(r.inputs,l.inputs),ne(r.declaredInputs,l.declaredInputs),ne(r.outputs,l.outputs),Te(l)&&l.data.animation){const B=r.data;B.animation=(B.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let m=0;m<d.length;m++){const v=d[m];v&&v.ngInherit&&v(r),v===df&&(s=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,s=null;for(let u=r.length-1;u>=0;u--){const l=r[u];l.hostVars=i+=l.hostVars,l.hostAttrs=zs(l.hostAttrs,s=zs(s,l.hostAttrs))}}(u)}function $l(r){return r===xe?{}:r===me?[]:r}function sy(r,i){const s=r.viewQuery;r.viewQuery=s?(u,l)=>{i(u,l),s(u,l)}:i}function oy(r,i){const s=r.contentQueries;r.contentQueries=s?(u,l,d)=>{i(u,l,d),s(u,l,d)}:i}function z_(r,i){const s=r.hostBindings;r.hostBindings=s?(u,l)=>{i(u,l),s(u,l)}:i}let mi=null;function Vd(){if(!mi){const r=Bn.Symbol;if(r&&r.iterator)mi=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const u=i[s];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(mi=u)}}}return mi}class Wr{constructor(i){this.wrapped=i}static wrap(i){return new Wr(i)}static unwrap(i){return Wr.isWrapped(i)?i.wrapped:i}static isWrapped(i){return i instanceof Wr}}function Hl(r){return!!hf(r)&&(Array.isArray(r)||!(r instanceof Map)&&Vd()in r)}function hf(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function pu(r,i,s){return r[i]=s}function ks(r,i,s){return!Object.is(r[i],s)&&(r[i]=s,!0)}function il(r,i,s,u){const l=ks(r,i,s);return ks(r,i+1,u)||l}function tg(r,i,s,u){const l=Nt();return ks(l,Ms(),i)&&(Zn(),Ua(Hr(),l,r,i,s,u)),tg}function ro(r,i,s,u,l,d,m,v){const M=function(r,i,s,u,l){const d=il(r,i,s,u);return ks(r,i+2,l)||d}(r,is(),s,l,m);return wi(3),M?i+Ce(s)+u+Ce(l)+d+Ce(m)+v:Kn}function cy(r,i,s,u,l,d,m,v){const T=Nt(),M=Zn(),B=r+20,re=M.firstCreatePass?function(r,i,s,u,l,d,m,v,T){const M=i.consts,B=kl(i,r,4,m||null,Nr(M,v));Cp(i,s,B,Nr(M,T)),_o(i,B);const re=B.tViews=Hh(2,B,u,l,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,M);return null!==i.queries&&(i.queries.template(i,B),re.queries=i.queries.embeddedTView(B)),B}(B,M,T,i,s,u,l,d,m):M.data[B];Cs(re,!1);const ce=T[11].createComment("");vd(M,T,ce,re),ys(ce,T),Zh(T,T[B]=$m(ce,T,ce,re)),Kr(re)&&mp(M,T,re),null!=m&&$h(T,re,v)}function pf(r){return Ze(yn.lFrame.contextLView,20+r)}function ql(r,i=It.Default){const s=Nt();return null===s?fi(r,i):b(Fr(),s,z(r),i)}function gg(r,i,s){const u=Nt();return ks(u,Ms(),i)&&Es(Zn(),Hr(),u,r,i,u[11],s,!1),gg}function mg(r,i,s,u,l){const m=l?"class":"style";el(r,s,i.inputs[m],m,u)}function yg(r,i,s,u){const l=Nt(),d=Zn(),m=20+r,v=l[11],T=l[m]=yd(v,i,yn.lFrame.currentNamespace),M=d.firstCreatePass?function(r,i,s,u,l,d,m){const v=i.consts,M=kl(i,r,2,l,Nr(v,d));return Cp(i,s,M,Nr(v,m)),null!==M.attrs&&Vl(M,M.attrs,!1),null!==M.mergedAttrs&&Vl(M,M.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,M),M}(m,d,l,0,i,s,u):d.data[m];Cs(M,!0);const B=M.mergedAttrs;null!==B&&Oi(v,T,B);const re=M.classes;null!==re&&Cd(v,T,re);const ce=M.styles;null!==ce&&wd(v,T,ce),64!=(64&M.flags)&&vd(d,l,T,M),0===yn.lFrame.elementDepthCount&&ys(T,l),yn.lFrame.elementDepthCount++,Kr(M)&&(mp(d,l,M),function(r,i,s){if(In(i)){const l=i.directiveEnd;for(let d=i.directiveStart;d<l;d++){const m=r.data[d];m.contentQueries&&m.contentQueries(1,s[d],d)}}}(d,M,l)),null!==u&&$h(l,M)}function bc(){let r=Fr();Hs()?yn.lFrame.isParent=!1:(r=r.parent,Cs(r,!1));const i=r;yn.lFrame.elementDepthCount--;const s=Zn();s.firstCreatePass&&(_o(s,r),In(r)&&s.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&mg(s,i,Nt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&mg(s,i,Nt(),i.stylesWithoutHost,!1)}function Ef(r,i,s,u){yg(r,i,s,u),bc()}function Dy(){return Nt()}function _g(r){return!!r&&"function"==typeof r.then}function cv(r){return!!r&&"function"==typeof r.subscribe}const vg=cv;function Eg(r,i,s,u){const l=Nt(),d=Zn(),m=Fr();return function(r,i,s,u,l,d,m,v){const T=Kr(u),B=r.firstCreatePass&&Qh(r),re=i[8],ce=Wm(i);let Se=!0;if(3&u.type||v){const st=O(u,i),jt=v?v(st):st,At=ce.length,Mn=v?Hn=>v(Ie(Hn[u.index])):u.index;if(P(s)){let Hn=null;if(!v&&T&&(Hn=function(r,i,s,u){const l=r.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const m=l[d];if(m===s&&l[d+1]===u){const v=i[7],T=l[d+2];return v.length>T?v[T]:null}"string"==typeof m&&(d+=2)}return null}(r,i,l,u.index)),null!==Hn)(Hn.__ngLastListenerFn__||Hn).__ngNextListenerFn__=d,Hn.__ngLastListenerFn__=d,Se=!1;else{d=dl(u,i,re,d,!1);const gr=s.listen(jt,l,d);ce.push(d,gr),B&&B.push(l,Mn,At,At+1)}}else d=dl(u,i,re,d,!0),jt.addEventListener(l,d,m),ce.push(d),B&&B.push(l,Mn,At,m)}else d=dl(u,i,re,d,!1);const $e=u.outputs;let dt;if(Se&&null!==$e&&(dt=$e[l])){const st=dt.length;if(st)for(let jt=0;jt<st;jt+=2){const Ss=i[dt[jt]][dt[jt+1]].subscribe(d),_u=ce.length;ce.push(d,Ss),B&&B.push(l,u.index,_u,-(_u+1))}}}(d,l,l[11],m,r,i,!!s,u),Eg}function Cg(r,i,s,u){try{return!1!==s(u)}catch(l){return Xh(r,l),!1}}function dl(r,i,s,u,l){return function d(m){if(m===Function)return u;const v=2&r.flags?Bt(r.index,i):i;0==(32&i[2])&&Rd(v);let T=Cg(i,0,u,m),M=d.__ngNextListenerFn__;for(;M;)T=Cg(i,0,M,m)&&T,M=M.__ngNextListenerFn__;return l&&!1===T&&(m.preventDefault(),m.returnValue=!1),T}}function bf(r=1){return function(r){return(yn.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,yn.lFrame.contextLView))[8]}(r)}function Cf(r,i,s,u,l){const d=r[s+1],m=null===i;let v=u?Go(d):Va(d),T=!1;for(;0!==v&&(!1===T||m);){const B=r[v+1];Yl(r[v],i)&&(T=!0,r[v+1]=u?ap(B):op(B)),v=u?Go(B):Va(B)}T&&(r[s+1]=u?op(d):ap(d))}function Yl(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Ys(r,i)>=0}const yi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function If(r){return r.substring(yi.key,yi.keyEnd)}function hl(r){return r.substring(yi.value,yi.valueEnd)}function ku(r,i){const s=yi.textEnd;let u=yi.key=Ql(r,i,s);return s===u?-1:(u=yi.keyEnd=function(r,i,s){let u;for(;i<s&&(45===(u=r.charCodeAt(i))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)i++;return i}(r,u,s),u=My(r,u,s),u=yi.value=Ql(r,u,s),u=yi.valueEnd=function(r,i,s){let u=-1,l=-1,d=-1,m=i,v=m;for(;m<s;){const T=r.charCodeAt(m++);if(59===T)return v;34===T||39===T?v=m=zd(r,T,m,s):i===m-4&&85===d&&82===l&&76===u&&40===T?v=m=zd(r,41,m,s):T>32&&(v=m),d=l,l=u,u=-33&T}return v}(r,u,s),My(r,u,s))}function Ql(r,i,s){for(;i<s&&r.charCodeAt(i)<=32;)i++;return i}function My(r,i,s,u){return(i=Ql(r,i,s))<s&&i++,i}function zd(r,i,s,u){let l=-1,d=s;for(;d<u;){const m=r.charCodeAt(d++);if(m==i&&92!==l)return d;l=92==m&&92===l?0:m}throw new Error}function xg(r,i,s){return Ha(r,i,s,!1),xg}function Kd(r,i){return Ha(r,i,null,!0),Kd}function ja(r){!function(r,i,s,u){const l=Zn(),d=wi(2);l.firstUpdatePass&&Ny(l,null,d,u);const m=Nt();if(s!==Kn&&ks(m,d,s)){const v=l.data[Gi()];if(ue(v,u)&&!Mg(l,d)){let T=u?v.classesWithoutHost:v.stylesWithoutHost;null!==T&&(s=q(T,s||"")),mg(l,v,m,s,u)}else!function(r,i,s,u,l,d,m,v){l===Kn&&(l=me);let T=0,M=0,B=0<l.length?l[0]:null,re=0<d.length?d[0]:null;for(;null!==B||null!==re;){const ce=T<l.length?l[T+1]:void 0,Se=M<d.length?d[M+1]:void 0;let dt,$e=null;B===re?(T+=2,M+=2,ce!==Se&&($e=re,dt=Se)):null===re||null!==B&&B<re?(T+=2,$e=B):(M+=2,$e=re,dt=Se),null!==$e&&_(r,i,s,u,$e,dt,m,v),B=T<l.length?l[T]:null,re=M<d.length?d[M]:null}}(l,v,m,m[11],m[d+1],m[d+1]=function(r,i,s){if(null==s||""===s)return me;const u=[],l=Br(s);if(Array.isArray(l))for(let d=0;d<l.length;d++)r(u,l[d],!0);else if("object"==typeof l)for(const d in l)l.hasOwnProperty(d)&&r(u,d,l[d]);else"string"==typeof l&&i(u,l);return u}(r,i,s),u,d)}}(c,Ry,r,!1)}function Ry(r,i){for(let s=function(r){return function(r){yi.key=0,yi.keyEnd=0,yi.value=0,yi.valueEnd=0,yi.textEnd=r.length}(r),ku(r,Ql(r,0,yi.textEnd))}(i);s>=0;s=ku(i,s))c(r,If(i),hl(i))}function Ha(r,i,s,u){const l=Nt(),d=Zn(),m=wi(2);d.firstUpdatePass&&Ny(d,r,m,u),i!==Kn&&ks(l,m,i)&&_(d,d.data[Gi()],l,l[11],r,l[m+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=Y(Br(r)))),r}(i,s),u,m)}function Mg(r,i){return i>=r.expandoStartIndex}function Ny(r,i,s,u){const l=r.data;if(null===l[s+1]){const d=l[Gi()],m=Mg(r,s);ue(d,u)&&null===i&&!m&&(i=!1),i=function(r,i,s,u){const l=function(r){const i=yn.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let d=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(s=n(s=a(null,r,i,s,u),i.attrs,u),d=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==l)if(s=a(l,r,i,s,u),null===d){let T=function(r,i,s){const u=s?i.classBindings:i.styleBindings;if(0!==Va(u))return r[Go(u)]}(r,i,u);void 0!==T&&Array.isArray(T)&&(T=a(null,r,i,T[1],u),T=n(T,i.attrs,u),function(r,i,s,u){r[Go(s?i.classBindings:i.styleBindings)]=u}(r,i,u,T))}else d=function(r,i,s){let u;const l=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<l;d++)u=n(u,r[d].hostAttrs,s);return n(u,i.attrs,s)}(r,i,u)}return void 0!==d&&(u?i.residualClasses=d:i.residualStyles=d),s}(l,d,i,u),function(r,i,s,u,l,d){let m=d?i.classBindings:i.styleBindings,v=Go(m),T=Va(m);r[u]=s;let B,M=!1;if(Array.isArray(s)){const re=s;B=re[1],(null===B||Ys(re,B)>0)&&(M=!0)}else B=s;if(l)if(0!==T){const ce=Go(r[v+1]);r[u+1]=Ph(ce,v),0!==ce&&(r[ce+1]=es(r[ce+1],u)),r[v+1]=function(r,i){return 131071&r|i<<17}(r[v+1],u)}else r[u+1]=Ph(v,0),0!==v&&(r[v+1]=es(r[v+1],u)),v=u;else r[u+1]=Ph(T,0),0===v?v=u:r[T+1]=es(r[T+1],u),T=u;M&&(r[u+1]=op(r[u+1])),Cf(r,B,u,!0),Cf(r,B,u,!1),function(r,i,s,u,l){const d=l?r.residualClasses:r.residualStyles;null!=d&&"string"==typeof i&&Ys(d,i)>=0&&(s[u+1]=ap(s[u+1]))}(i,B,r,u,d),m=Ph(v,T),d?i.classBindings=m:i.styleBindings=m}(l,d,i,s,m,u)}}function a(r,i,s,u,l){let d=null;const m=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<m&&(d=i[v],u=n(u,d.hostAttrs,l),d!==r);)v++;return null!==r&&(s.directiveStylingLast=v),u}function n(r,i,s){const u=s?1:2;let l=-1;if(null!==i)for(let d=0;d<i.length;d++){const m=i[d];"number"==typeof m?l=m:l===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ss(r,m,!!s||i[++d]))}return void 0===r?null:r}function c(r,i,s){ss(r,i,Br(s))}function _(r,i,s,u,l,d,m,v){if(!(3&i.type))return;const T=r.data,M=T[v+1];k(function(r){return 1==(1&r)}(M)?D(T,i,s,l,Va(M),m):void 0)||(k(d)||function(r){return 2==(2&r)}(M)&&(d=D(T,null,s,l,v,m)),function(r,i,s,u,l){const d=P(r);if(i)l?d?r.addClass(s,u):s.classList.add(u):d?r.removeClass(s,u):s.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:Ki.DashCase;if(null==l)d?r.removeStyle(s,u,m):s.style.removeProperty(u);else{const v="string"==typeof l&&l.endsWith("!important");v&&(l=l.slice(0,-10),m|=Ki.Important),d?r.setStyle(s,u,l,m):s.style.setProperty(u,l,v?"important":"")}}}(u,m,F(Gi(),s),l,d))}function D(r,i,s,u,l,d){const m=null===i;let v;for(;l>0;){const T=r[l],M=Array.isArray(T),B=M?T[1]:T,re=null===B;let ce=s[l+1];ce===Kn&&(ce=re?me:void 0);let Se=re?Ku(ce,u):B===u?ce:void 0;if(M&&!k(Se)&&(Se=Ku(T,u)),k(Se)&&(v=Se,m))return v;const $e=r[l+1];l=m?Go($e):Va($e)}if(null!==i){let T=d?i.residualClasses:i.residualStyles;null!=T&&(v=Ku(T,u))}return v}function k(r){return void 0!==r}function ue(r,i){return 0!=(r.flags&(i?16:32))}function we(r,i=""){const s=Nt(),u=Zn(),l=r+20,d=u.firstCreatePass?kl(u,l,1,i,null):u.data[l],m=s[l]=function(r,i){return P(r)?r.createText(i):r.createTextNode(i)}(s[11],i);vd(u,s,m,d),Cs(d,!1)}function We(r){return _t("",r,""),We}function _t(r,i,s){const u=Nt(),l=function(r,i,s,u){return ks(r,Ms(),s)?i+Ce(s)+u:Kn}(u,r,i,s);return l!==Kn&&fu(u,Gi(),l),_t}function Ot(r,i,s,u,l){const d=Nt(),m=function(r,i,s,u,l,d){const v=il(r,is(),s,l);return wi(2),v?i+Ce(s)+u+Ce(l)+d:Kn}(d,r,i,s,u,l);return m!==Kn&&fu(d,Gi(),m),Ot}function Zt(r,i,s,u,l,d,m){const v=Nt(),T=ro(v,r,i,s,u,l,d,m);return T!==Kn&&fu(v,Gi(),T),Zt}function Ev(r,i,s){const u=Nt();return ks(u,Ms(),i)&&Es(Zn(),Hr(),u,r,i,u[11],s,!0),Ev}const qd=void 0;var cC=["en",[["a","p"],["AM","PM"],qd],[["AM","PM"],qd,qd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qd,"{1} 'at' {0}",qd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),s=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let Tf={};function bv(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let s=c0(i);if(s)return s;const u=i.split("-")[0];if(s=c0(u),s)return s;if("en"===u)return cC;throw new Error(`Missing locale data for the locale "${r}".`)}function u0(r){return bv(r)[Un.PluralCase]}function c0(r){return r in Tf||(Tf[r]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[r]),Tf[r]}var Un=(()=>((Un=Un||{})[Un.LocaleId=0]="LocaleId",Un[Un.DayPeriodsFormat=1]="DayPeriodsFormat",Un[Un.DayPeriodsStandalone=2]="DayPeriodsStandalone",Un[Un.DaysFormat=3]="DaysFormat",Un[Un.DaysStandalone=4]="DaysStandalone",Un[Un.MonthsFormat=5]="MonthsFormat",Un[Un.MonthsStandalone=6]="MonthsStandalone",Un[Un.Eras=7]="Eras",Un[Un.FirstDayOfWeek=8]="FirstDayOfWeek",Un[Un.WeekendRange=9]="WeekendRange",Un[Un.DateFormat=10]="DateFormat",Un[Un.TimeFormat=11]="TimeFormat",Un[Un.DateTimeFormat=12]="DateTimeFormat",Un[Un.NumberSymbols=13]="NumberSymbols",Un[Un.NumberFormats=14]="NumberFormats",Un[Un.CurrencyCode=15]="CurrencyCode",Un[Un.CurrencySymbol=16]="CurrencySymbol",Un[Un.CurrencyName=17]="CurrencyName",Un[Un.Currencies=18]="Currencies",Un[Un.Directionality=19]="Directionality",Un[Un.PluralCase=20]="PluralCase",Un[Un.ExtraData=21]="ExtraData",Un))();const Ly="en-US";let l0=Ly;function wv(r){Tt(r,"Expected localeId to be defined"),"string"==typeof r&&(l0=r.toLowerCase().replace(/_/g,"-"))}function Dv(r,i,s,u,l){if(r=z(r),Array.isArray(r))for(let d=0;d<r.length;d++)Dv(r[d],i,s,u,l);else{const d=Zn(),m=Nt();let v=Ul(r)?r:z(r.provide),T=ef(r);const M=Fr(),B=1048575&M.providerIndexes,re=M.directiveStart,ce=M.providerIndexes>>20;if(Ul(r)||!r.multi){const Se=new Yi(T,l,ql),$e=Av(v,i,l?B:B+ce,re);-1===$e?(Dn(_r(M,m),d,v),Tv(d,r,i.length),i.push(v),M.directiveStart++,M.directiveEnd++,l&&(M.providerIndexes+=1048576),s.push(Se),m.push(Se)):(s[$e]=Se,m[$e]=Se)}else{const Se=Av(v,i,B+ce,re),$e=Av(v,i,B,B+ce),dt=Se>=0&&s[Se],st=$e>=0&&s[$e];if(l&&!st||!l&&!dt){Dn(_r(M,m),d,v);const jt=function(r,i,s,u,l){const d=new Yi(r,s,ql);return d.multi=[],d.index=i,d.componentProviders=0,N0(d,l,u&&!s),d}(l?oI:sI,s.length,l,u,T);!l&&st&&(s[$e].providerFactory=jt),Tv(d,r,i.length,0),i.push(v),M.directiveStart++,M.directiveEnd++,l&&(M.providerIndexes+=1048576),s.push(jt),m.push(jt)}else Tv(d,r,Se>-1?Se:$e,N0(s[l?$e:Se],T,!l&&u));!l&&u&&st&&s[$e].componentProviders++}}}function Tv(r,i,s,u){const l=Ul(i);if(l||function(r){return!!r.useClass}(i)){const m=(i.useClass||i).prototype.ngOnDestroy;if(m){const v=r.destroyHooks||(r.destroyHooks=[]);if(!l&&i.multi){const T=v.indexOf(s);-1===T?v.push(s,[u,m]):v[T+1].push(u,m)}else v.push(s,m)}}}function N0(r,i,s){return s&&r.componentProviders++,r.multi.push(i)-1}function Av(r,i,s,u){for(let l=s;l<u;l++)if(i[l]===r)return l;return-1}function sI(r,i,s,u){return Sv(this.multi,[])}function oI(r,i,s,u){const l=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=_e(s,s[1],this.providerFactory.index,u);d=v.slice(0,m),Sv(l,d);for(let T=m;T<v.length;T++)d.push(v[T])}else d=[],Sv(l,d);return d}function Sv(r,i){for(let s=0;s<r.length;s++)i.push((0,r[s])());return i}function F0(r,i=[]){return s=>{s.providersResolver=(u,l)=>function(r,i,s){const u=Zn();if(u.firstCreatePass){const l=Te(r);Dv(s,u.data,u.blueprint,l,!0),Dv(i,u.data,u.blueprint,l,!1)}}(u,l?l(r):r,i)}}class k0{}const V0="ngComponent";class cI{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${Y(r)}. Did you add it to @NgModule.entryComponents?`);return i[V0]=r,i}(i)}}let Sf=(()=>{class r{}return r.NULL=new cI,r})();function $y(...r){}function Of(r,i){return new Cc(O(r,i))}const hI=function(){return Of(Fr(),Nt())};let Cc=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=hI,r})();function U0(r){return r instanceof Cc?r.nativeElement:r}class Hy{}let fI=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>gI(),r})();const gI=function(){const r=Nt(),s=Bt(Fr().index,r);return function(r){return r[11]}(nn(s)?s:r)};let xv=(()=>{class r{}return r.\u0275prov=on({token:r,providedIn:"root",factory:()=>null}),r})();class B0{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Mv=new B0("12.2.7");class j0{constructor(){}supports(i){return Hl(i)}create(i){return new vI(i)}}const _I=(r,i)=>i;class vI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||_I}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,u=this._removalsHead,l=0,d=null;for(;s||u;){const m=!u||s&&s.currentIndex<H0(u,l,d)?s:u,v=H0(m,l,d),T=m.currentIndex;if(m===u)l--,u=u._nextRemoved;else if(s=s._next,null==m.previousIndex)l++;else{d||(d=[]);const M=v-l,B=T-l;if(M!=B){for(let ce=0;ce<M;ce++){const Se=ce<d.length?d[ce]:d[ce]=0,$e=Se+ce;B<=$e&&$e<M&&(d[ce]=Se+1)}d[m.previousIndex]=B-M}}v!==T&&i(m,v,T)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Hl(i))throw new Error(`Error trying to diff '${Y(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,d,m,s=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)d=i[v],m=this._trackByFn(v,d),null!==s&&Object.is(s.trackById,m)?(u&&(s=this._verifyReinsertion(s,d,m,v)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,m,v),u=!0),s=s._next}else l=0,function(r,i){if(Array.isArray(r))for(let s=0;s<r.length;s++)i(r[s]);else{const s=r[Vd()]();let u;for(;!(u=s.next()).done;)i(u.value)}}(i,v=>{m=this._trackByFn(l,v),null!==s&&Object.is(s.trackById,m)?(u&&(s=this._verifyReinsertion(s,v,m,l)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,m,l),u=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,u,l){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,d,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,d,l)):i=this._addAfter(new EI(s,u),d,l),i}_verifyReinsertion(i,s,u,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?i=this._reinsertAfter(d,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,d=i._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(i,s,u),this._addToMoves(i,u),i}_moveAfter(i,s,u){return this._unlink(i),this._insertAfter(i,s,u),this._addToMoves(i,u),i}_addAfter(i,s,u){return this._insertAfter(i,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,u){const l=null===s?this._itHead:s._next;return i._next=l,i._prev=s,null===l?this._itTail=i:l._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new $0),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,u=i._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class EI{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const s=i._prevDup,u=i._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class $0{constructor(){this.map=new Map}put(i){const s=i.trackById;let u=this.map.get(s);u||(u=new bI,this.map.set(s,u)),u.add(i)}get(i,s){const l=this.map.get(i);return l?l.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function H0(r,i,s){const u=r.previousIndex;if(null===u)return u;let l=0;return s&&u<s.length&&(l=s[u]),u+i+l}class G0{constructor(){}supports(i){return i instanceof Map||hf(i)}create(){return new wI}}class wI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||hf(i)))throw new Error(`Error trying to diff '${Y(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(l,u);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const u=i._prev;return s._next=i,s._prev=u,i._prev=s,u&&(u._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,s);const d=l._prev,m=l._next;return d&&(d._next=m),m&&(m._prev=d),l._next=null,l._prev=null,l}const u=new CI(i);return this._records.set(i,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(u=>s(i[u],u))}}class CI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function W0(){return new Gy([new j0])}let Gy=(()=>{class r{constructor(s){this.factories=s}static create(s,u){if(null!=u){const l=u.factories.slice();s=s.concat(l)}return new r(s)}static extend(s){return{provide:r,useFactory:u=>r.create(s,u||W0()),deps:[[r,new ou,new Ds]]}}find(s){const u=this.factories.find(l=>l.supports(s));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(r){return r.name||typeof r}(s)}'`)}}return r.\u0275prov=on({token:r,providedIn:"root",factory:W0}),r})();function z0(){return new Wy([new G0])}let Wy=(()=>{class r{constructor(s){this.factories=s}static create(s,u){if(u){const l=u.factories.slice();s=s.concat(l)}return new r(s)}static extend(s){return{provide:r,useFactory:u=>r.create(s,u||z0()),deps:[[r,new ou,new Ds]]}}find(s){const u=this.factories.find(l=>l.supports(s));if(u)return u;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return r.\u0275prov=on({token:r,providedIn:"root",factory:z0}),r})();function zy(r,i,s,u,l=!1){for(;null!==s;){const d=i[s.index];if(null!==d&&u.push(Ie(d)),Fn(d))for(let v=10;v<d.length;v++){const T=d[v],M=T[1].firstChild;null!==M&&zy(T[1],T,M,u)}const m=s.type;if(8&m)zy(r,i,s.child,u);else if(32&m){const v=md(s,i);let T;for(;T=v();)u.push(T)}else if(16&m){const v=gm(i,s);if(Array.isArray(v))u.push(...v);else{const T=Sl(i[16]);zy(T[1],T,v,u,!0)}}s=l?s.projectionNext:s.next}return u}class kg{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return zy(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Fn(i)){const s=i[8],u=s?s.indexOf(this):-1;u>-1&&(Th(i,u),bo(s,u))}this._attachedToViewContainer=!1}Ou(this._lView[1],this._lView)}onDestroy(i){Gh(this._lView[1],this._lView,null,i)}markForCheck(){Rd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,s){xs(!0);try{Yh(r,i,s)}finally{xs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,Ed(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class DI extends kg{constructor(i){super(i),this._view=i}detectChanges(){Gm(this._view)}checkNoChanges(){!function(r){xs(!0);try{Gm(r)}finally{xs(!1)}}(this._view)}get context(){return null}}const AI=function(r){return function(r,i,s){if(qn(r)&&!s){const u=Bt(r.index,i);return new kg(u,u)}return 47&r.type?new kg(i[16],i):null}(Fr(),Nt(),16==(16&r))};let SI=(()=>{class r{}return r.__NG_ELEMENT_ID__=AI,r})();const MI=[new G0],PI=new Gy([new j0]),NI=new Wy(MI),kI=function(){return Ky(Fr(),Nt())};let Lg=(()=>{class r{}return r.__NG_ELEMENT_ID__=kI,r})();const LI=Lg,VI=class extends LI{constructor(i,s,u){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=u}createEmbeddedView(i){const s=this._declarationTContainer.tViews,u=Qc(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(s)),Jc(s,u,i),new kg(u)}};function Ky(r,i){return 4&r.type?new VI(i,r,Of(r,i)):null}class Zd{}class K0{}const jI=function(){return Y0(Fr(),Nt())};let qy=(()=>{class r{}return r.__NG_ELEMENT_ID__=jI,r})();const HI=qy,q0=class extends HI{constructor(i,s,u){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=u}get element(){return Of(this._hostTNode,this._hostLView)}get injector(){return new zn(this._hostTNode,this._hostLView)}get parentInjector(){const i=fn(this._hostTNode,this._hostLView);if(Zr(i)){const s=Is(i,this._hostLView),u=Ks(i);return new zn(s[1].data[u+8],s)}return new zn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Z0(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,u){const l=i.createEmbeddedView(s||{});return this.insert(l,u),l}createComponent(i,s,u,l,d){const m=u||this.parentInjector;if(!d&&null==i.ngModule&&m){const T=m.get(Zd,null);T&&(d=T)}const v=i.create(m,l,void 0,d);return this.insert(v.hostView,s),v}insert(i,s){const u=i._lView,l=u[1];if(Fn(u[3])){const B=this.indexOf(i);if(-1!==B)this.detach(B);else{const re=u[3],ce=new q0(re,re[6],re[3]);ce.detach(ce.indexOf(i))}}const d=this._adjustIndex(s),m=this._lContainer;!function(r,i,s,u){const l=10+u,d=s.length;u>0&&(s[l-1][4]=i),u<d-10?(i[4]=s[l],Lo(s,10+u,i)):(s.push(i),i[4]=null),i[3]=s;const m=i[17];null!==m&&s!==m&&function(r,i){const s=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===s?r[9]=[i]:s.push(i)}(m,i);const v=i[19];null!==v&&v.insertView(r),i[2]|=128}(l,u,m,d);const v=Sh(d,m),T=u[11],M=_d(T,m[7]);return null!==M&&function(r,i,s,u,l,d){u[0]=l,u[6]=i,Ed(r,u,s,1,l,d)}(l,m[6],T,u,M,v),i.attachToViewContainerRef(),Lo(Rv(m),d,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Z0(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),u=Th(this._lContainer,s);u&&(bo(Rv(this._lContainer),s),Ou(u[1],u))}detach(i){const s=this._adjustIndex(i,-1),u=Th(this._lContainer,s);return u&&null!=bo(Rv(this._lContainer),s)?new kg(u):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function Z0(r){return r[8]}function Rv(r){return r[8]||(r[8]=[])}function Y0(r,i){let s;const u=i[r.index];if(Fn(u))s=u;else{let l;if(8&r.type)l=Ie(u);else{const d=i[11];l=d.createComment("");const m=O(r,i);uc(d,_d(d,m),l,function(r,i){return P(r)?r.nextSibling(i):i.nextSibling}(d,m),!1)}i[r.index]=s=$m(u,i,l,r),Zh(i,s)}return new q0(s,r,i)}const Pf={};class mb extends Sf{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=jn(i);return new _b(s,this.ngModule)}}function yb(r){const i=[];for(let s in r)r.hasOwnProperty(s)&&i.push({propName:r[s],templateName:s});return i}const UD=new Yr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Su});class _b extends k0{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=i.selectors.map(ip).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return yb(this.componentDef.inputs)}get outputs(){return yb(this.componentDef.outputs)}create(i,s,u,l){const d=(l=l||this.ngModule)?function(r,i){return{get:(s,u,l)=>{const d=r.get(s,Pf,l);return d!==Pf||u===Pf?d:i.get(s,u,l)}}}(i,l.injector):i,m=d.get(Hy,L),v=d.get(xv,null),T=m.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",B=u?function(r,i,s){if(P(r))return r.selectRootElement(i,s===Lt.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(T,u,this.componentDef.encapsulation):yd(m.createRenderer(null,this.componentDef),M,function(r){const i=r.toLowerCase();return"svg"===i?ds:"math"===i?"http://www.w3.org/1998/MathML/":null}(M)),re=this.componentDef.onPush?576:528,ce=function(r,i){return{components:[],scheduler:r||Su,clean:Pp,playerHandler:i||null,flags:0}}(),Se=Hh(0,null,null,1,0,null,null,null,null,null),$e=Qc(null,Se,ce,re,null,null,m,T,v,d);let dt,st;po($e);try{const jt=function(r,i,s,u,l,d){const m=s[1];s[20]=r;const T=kl(m,20,2,"#host",null),M=T.mergedAttrs=i.hostAttrs;null!==M&&(Vl(T,M,!0),null!==r&&(Oi(l,r,M),null!==T.classes&&Cd(l,r,T.classes),null!==T.styles&&wd(l,r,T.styles)));const B=u.createRenderer(r,i),re=Qc(s,yp(i),null,i.onPush?64:16,s[20],T,u,B,d||null,null);return m.firstCreatePass&&(Dn(_r(T,s),m,i.type),Kh(m,T),Sp(T,s.length,1)),Zh(s,re),s[20]=re}(B,this.componentDef,$e,m,T);if(B)if(u)Oi(T,B,["ng-version",Mv.full]);else{const{attrs:At,classes:Mn}=function(r){const i=[],s=[];let u=1,l=2;for(;u<r.length;){let d=r[u];if("string"==typeof d)2===l?""!==d&&i.push(d,r[++u]):8===l&&s.push(d);else{if(!Ho(l))break;l=d}u++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);At&&Oi(T,B,At),Mn&&Mn.length>0&&Cd(T,B,Mn.join(" "))}if(st=Q(Se,20),void 0!==s){const At=st.projection=[];for(let Mn=0;Mn<this.ngContentSelectors.length;Mn++){const Hn=s[Mn];At.push(null!=Hn?Array.from(Hn):null)}}dt=function(r,i,s,u,l){const d=s[1],m=function(r,i,s){const u=Fr();r.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Um(r,u,i,Pu(r,i,1,null),s));const l=_e(i,r,u.directiveStart,u);ys(l,i);const d=O(u,i);return d&&ys(d,i),l}(d,s,i);if(u.components.push(m),r[8]=m,l&&l.forEach(T=>T(m,i)),i.contentQueries){const T=Fr();i.contentQueries(1,m,T.directiveStart)}const v=Fr();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(fs(v.index),zh(s[1],v,0,v.directiveStart,v.directiveEnd,i),Vm(i,m)),m}(jt,this.componentDef,$e,ce,[gi]),Jc(Se,$e,null)}finally{mo()}return new $D(this.componentType,dt,Of(st,$e),$e,st)}}class $D extends class{}{constructor(i,s,u,l,d){super(),this.location=u,this._rootLView=l,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new DI(l),this.componentType=i}get injector(){return new zn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Nf=new Map;class WD extends Zd{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new mb(this);const u=Rr(i),l=i[Ne]||null;l&&wv(l),this._bootstrapComponents=to(u.bootstrap),this._r3Injector=qm(i,s,[{provide:Zd,useValue:this},{provide:Sf,useValue:this.componentFactoryResolver}],Y(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=ii.THROW_IF_NOT_FOUND,u=It.Default){return i===ii||i===Zd||i===pc?this:this._r3Injector.get(i,s,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Wv extends K0{constructor(i){super(),this.moduleType=i,null!==Rr(i)&&function(r){const i=new Set;!function s(u){const l=Rr(u,!0),d=l.id;null!==d&&(function(r,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${r} - ${Y(i)} vs ${Y(i.name)}`)}(d,Nf.get(d),u),Nf.set(d,u));const m=to(l.imports);for(const v of m)i.has(v)||(i.add(v),s(v))}(r)}(i)}create(i){return new WD(this.moduleType,i)}}function bb(r,i,s){const u=ei()+r,l=Nt();return l[u]===Kn?pu(l,u,s?i.call(s):i()):function(r,i){return r[i]}(l,u)}function wb(r,i,s,u){return function(r,i,s,u,l,d){const m=i+s;return ks(r,m,l)?pu(r,m+1,d?u.call(d,l):u(l)):Wg(r,m+1)}(Nt(),ei(),r,i,s,u)}function Wg(r,i){const s=r[i];return s===Kn?void 0:s}function Sb(r,i){const s=Zn();let u;const l=r+20;s.firstCreatePass?(u=function(r,i){if(i)for(let s=i.length-1;s>=0;s--){const u=i[s];if(r===u.name)return u}throw new Le("302",`The pipe '${r}' could not be found!`)}(i,s.pipeRegistry),s.data[l]=u,u.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,u.onDestroy)):u=s.data[l];const d=u.factory||(u.factory=Ni(u.type)),m=kn(ql);try{const v=ti(!1),T=d();return ti(v),function(r,i,s,u){s>=r.data.length&&(r.data[s]=null,r.blueprint[s]=null),i[s]=u}(s,Nt(),l,T),T}finally{kn(m)}}function Ob(r,i,s,u){const l=r+20,d=Nt(),m=Ze(d,l);return function(r,i){Wr.isWrapped(i)&&(i=Wr.unwrap(i),r[is()]=Kn);return i}(d,function(r,i){return r[1].data[i].pure}(d,l)?function(r,i,s,u,l,d,m){const v=i+s;return il(r,v,l,d)?pu(r,v+2,m?u.call(m,l,d):u(l,d)):Wg(r,v+2)}(d,ei(),i,m.transform,s,u,m):m.transform(s,u))}function zv(r){return i=>{setTimeout(r,void 0,i)}}const Ic=class extends y.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,u){var l,d,m;let v=i,T=s||(()=>null),M=u;if(i&&"object"==typeof i){const re=i;v=null===(l=re.next)||void 0===l?void 0:l.bind(re),T=null===(d=re.error)||void 0===d?void 0:d.bind(re),M=null===(m=re.complete)||void 0===m?void 0:m.bind(re)}this.__isAsync&&(T=zv(T),v&&(v=zv(v)),M&&(M=zv(M)));const B=super.subscribe({next:v,error:T,complete:M});return i instanceof R.w&&i.add(B),B}};function oT(){return this._results[Vd()]()}class Xy{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Vd(),u=Xy.prototype;u[s]||(u[s]=oT)}get changes(){return this._changes||(this._changes=new Ic)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const u=this;u.dirty=!1;const l=gs(i);(this._changesDetected=!function(r,i,s){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let l=r[u],d=i[u];if(s&&(l=s(l),d=s(d)),d!==l)return!1}return!0}(u._results,l,s))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Kv{constructor(i){this.queryList=i,this.matches=null}clone(){return new Kv(this.queryList)}setDirty(){this.queryList.setDirty()}}class qv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const u=null!==i.contentQueries?i.contentQueries[0]:s.length,l=[];for(let d=0;d<u;d++){const m=s.getByIndex(d);l.push(this.queries[m.indexInDeclarationView].clone())}return new qv(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Lb(i,s).matches&&this.queries[s].setDirty()}}class xb{constructor(i,s,u=null){this.predicate=i,this.flags=s,this.read=u}}class Zv{constructor(i=[]){this.queries=i}elementStart(i,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let u=0;u<this.length;u++){const l=null!==s?s.length:0,d=this.getByIndex(u).embeddedTView(i,l);d&&(d.indexInDeclarationView=u,null!==s?s.push(d):s=[d])}return null!==s?new Zv(s):null}template(i,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Yv{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Yv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const d=u[l];this.matchTNodeWithReadOption(i,s,cT(s,d)),this.matchTNodeWithReadOption(i,s,J(s,i,d,!1,!1))}else u===Lg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,J(s,i,u,!1,!1))}matchTNodeWithReadOption(i,s,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===Cc||l===qy||l===Lg&&4&s.type)this.addMatch(s.index,-2);else{const d=J(s,i,l,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,u)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function cT(r,i){const s=r.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===i)return s[u+1];return null}function dT(r,i,s,u){return-1===s?function(r,i){return 11&r.type?Of(r,i):4&r.type?Ky(r,i):null}(i,r):-2===s?function(r,i,s){return s===Cc?Of(i,r):s===Lg?Ky(i,r):s===qy?Y0(i,r):void 0}(r,i,u):_e(r,r[1],s,i)}function Mb(r,i,s,u){const l=i[19].queries[u];if(null===l.matches){const d=r.data,m=s.matches,v=[];for(let T=0;T<m.length;T+=2){const M=m[T];v.push(M<0?null:dT(i,d[M],m[T+1],s.metadata.read))}l.matches=v}return l.matches}function Qv(r,i,s,u){const l=r.queries.getByIndex(s),d=l.matches;if(null!==d){const m=Mb(r,i,l,s);for(let v=0;v<d.length;v+=2){const T=d[v];if(T>0)u.push(m[v/2]);else{const M=d[v+1],B=i[-T];for(let re=10;re<B.length;re++){const ce=B[re];ce[17]===ce[3]&&Qv(ce[1],ce,M,u)}if(null!==B[9]){const re=B[9];for(let ce=0;ce<re.length;ce++){const Se=re[ce];Qv(Se[1],Se,M,u)}}}}}return u}function Rb(r){const i=Nt(),s=Zn(),u=Tc();Ca(u+1);const l=Lb(s,u);if(r.dirty&&Sn(i)===(2==(2&l.metadata.flags))){if(null===l.matches)r.reset([]);else{const d=l.crossesNgTemplate?Qv(s,i,u,[]):Mb(s,i,l,u);r.reset(d,U0),r.notifyOnChanges()}return!0}return!1}function Pb(r,i,s,u){const l=Zn();if(l.firstCreatePass){const d=Fr();(function(r,i,s){null===r.queries&&(r.queries=new Zv),r.queries.track(new Yv(i,s))})(l,new xb(i,s,u),d.index),function(r,i){const s=r.contentQueries||(r.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(r.queries.length-1,i)}(l,r),2==(2&s)&&(l.staticContentQueries=!0)}!function(r,i,s){const u=new Xy(4==(4&s));Gh(r,i,u,u.destroy),null===i[19]&&(i[19]=new qv),i[19].queries.push(new Kv(u))}(l,Nt(),s)}function Nb(){return r=Nt(),i=Tc(),r[19].queries[i].queryList;var r,i}function Lb(r,i){return r.queries.getByIndex(i)}function Vb(r,i){return Ky(r,i)}const PT=Eo("Input",r=>({bindingPropertyName:r})),NT=Eo("Output",r=>({bindingPropertyName:r})),FT=Eo("HostListener",(r,i)=>({eventName:r,args:i})),rE=new Yr("Application Initializer");let kf=(()=>{class r{constructor(s){this.appInits=s,this.resolve=$y,this.reject=$y,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(_g(d))s.push(d);else if(vg(d)){const m=new Promise((v,T)=>{d.subscribe({complete:v,error:T})});s.push(m)}}Promise.all(s).then(()=>{u()}).catch(l=>{this.reject(l)}),0===s.length&&u(),this.initialized=!0}}return r.\u0275fac=function(s){return new(s||r)(fi(rE,8))},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})();const nw=new Yr("AppId"),WT={provide:nw,useFactory:function(){return`${iE()}${iE()}${iE()}`},deps:[]};function iE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rw=new Yr("Platform Initializer"),iw=new Yr("Platform ID"),sw=new Yr("appBootstrapListener");let ow=(()=>{class r{log(s){console.log(s)}warn(s){console.warn(s)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})();const n_=new Yr("LocaleId"),aw=new Yr("DefaultCurrencyCode");class KT{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}const sE=function(r){return new Wv(r)},qT=sE,ZT=function(r){return Promise.resolve(sE(r))},uw=function(r){const i=sE(r),u=to(Rr(r).declarations).reduce((l,d)=>{const m=jn(d);return m&&l.push(new _b(m)),l},[]);return new KT(i,u)},YT=uw,QT=function(r){return Promise.resolve(uw(r))};let Zg=(()=>{class r{constructor(){this.compileModuleSync=qT,this.compileModuleAsync=ZT,this.compileModuleAndAllComponentsSync=YT,this.compileModuleAndAllComponentsAsync=QT}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})();const eA=(()=>Promise.resolve(0))();function oE(r){"undefined"==typeof Zone?eA.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Wa{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ic(!1),this.onMicrotaskEmpty=new Ic(!1),this.onStable=new Ic(!1),this.onError=new Ic(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&s,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let r=Bn.requestAnimationFrame,i=Bn.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const s=r[Zone.__symbol__("OriginalDelegate")];s&&(r=s);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Bn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,uE(r),r.isCheckStableRunning=!0,aE(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),uE(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,l,d,m,v)=>{try{return cw(r),s.invokeTask(l,d,m,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&i(),lw(r)}},onInvoke:(s,u,l,d,m,v,T)=>{try{return cw(r),s.invoke(l,d,m,v,T)}finally{r.shouldCoalesceRunChangeDetection&&i(),lw(r)}},onHasTask:(s,u,l,d)=>{s.hasTask(l,d),u===l&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,uE(r),aE(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,u,l,d)=>(s.handleError(l,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,u){return this._inner.run(i,s,u)}runTask(i,s,u,l){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+l,i,nA,$y,$y);try{return d.runTask(m,s,u)}finally{d.cancelTask(m)}}runGuarded(i,s,u){return this._inner.runGuarded(i,s,u)}runOutsideAngular(i){return this._outer.run(i)}}const nA={};function aE(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function uE(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function cw(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function lw(r){r._nesting--,aE(r)}class sA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ic,this.onMicrotaskEmpty=new Ic,this.onStable=new Ic,this.onError=new Ic}run(i,s,u){return i.apply(s,u)}runGuarded(i,s,u){return i.apply(s,u)}runOutsideAngular(i){return i()}runTask(i,s,u,l){return i.apply(s,u)}}let dw=(()=>{class r{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wa.assertNotInAngularZone(),oE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())oE(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,l){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:l})}whenStable(s,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,u,l){return[]}}return r.\u0275fac=function(s){return new(s||r)(fi(Wa))},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})(),hw=(()=>{class r{constructor(){this._applications=new Map,cE.addToWindow(this)}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return cE.findTestabilityInTree(this,s,u)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})();class oA{addToWindow(i){}findTestabilityInTree(i,s,u){return null}}function aA(r){cE=r}let cE=new oA,fw=!0,pw=!1;function lE(){return pw=!0,fw}function uA(){if(pw)throw new Error("Cannot enable prod mode after platform setup.");fw=!1}let Bu;const gw=new Yr("AllowMultipleToken");class gA{constructor(i,s){this.name=i,this.token=s}}function mw(r,i,s=[]){const u=`Platform: ${i}`,l=new Yr(u);return(d=[])=>{let m=yw();if(!m||m.injector.get(gw,!1))if(r)r(s.concat(d).concat({provide:l,useValue:!0}));else{const v=s.concat(d).concat({provide:l,useValue:!0},{provide:tl,useValue:"platform"});!function(r){if(Bu&&!Bu.destroyed&&!Bu.injector.get(gw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Bu=r.get(_w);const i=r.get(rw,null);i&&i.forEach(s=>s())}(ii.create({providers:v,name:u}))}return function(r){const i=yw();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(l)}}function yw(){return Bu&&!Bu.destroyed?Bu:null}let _w=(()=>{class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const v=function(r,i){let s;return s="noop"===r?new sA:("zone.js"===r?void 0:r)||new Wa({enableLongStackTrace:lE(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),T=[{provide:Wa,useValue:v}];return v.run(()=>{const M=ii.create({providers:T,parent:this.injector,name:s.moduleType.name}),B=s.create(M),re=B.injector.get(g,null);if(!re)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const ce=v.onError.subscribe({next:Se=>{re.handleError(Se)}});B.onDestroy(()=>{dE(this._modules,B),ce.unsubscribe()})}),function(r,i,s){try{const u=s();return _g(u)?u.catch(l=>{throw i.runOutsideAngular(()=>r.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(re,v,()=>{const ce=B.injector.get(kf);return ce.runInitializers(),ce.donePromise.then(()=>(wv(B.injector.get(n_,Ly)||Ly),this._moduleDoBootstrap(B),B))})})}bootstrapModule(s,u=[]){const l=vw({},u);return function(r,i,s){const u=new Wv(s);return Promise.resolve(u)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(s){const u=s.injector.get(Yg);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${Y(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(s){return new(s||r)(fi(ii))},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})();function vw(r,i){return Array.isArray(i)?i.reduce(vw,r):Object.assign(Object.assign({},r),i)}let Yg=(()=>{class r{constructor(s,u,l,d,m){this._zone=s,this._injector=u,this._exceptionHandler=l,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new H.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),T=new H.y(M=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{Wa.assertNotInAngularZone(),oE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const re=this._zone.onUnstable.subscribe(()=>{Wa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{B.unsubscribe(),re.unsubscribe()}});this.isStable=(0,ge.T)(v,T.pipe((0,ee.B)()))}bootstrap(s,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=s instanceof k0?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(l.componentType);const d=function(r){return r.isBoundToModule}(l)?void 0:this._injector.get(Zd),v=l.create(ii.NULL,[],u||l.selector,d),T=v.location.nativeElement,M=v.injector.get(dw,null),B=M&&v.injector.get(hw);return M&&B&&B.registerApplication(T,M),v.onDestroy(()=>{this.detachView(v.hostView),dE(this.components,v),B&&B.unregisterApplication(T)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;dE(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(sw,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(s){return new(s||r)(fi(Wa),fi(ii),fi(g),fi(Sf),fi(kf))},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})();function dE(r,i){const s=r.indexOf(i);s>-1&&r.splice(s,1)}class bA{}class CA{}const IA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let DA=(()=>{class r{constructor(s,u){this._compiler=s,this._config=u||IA}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[u,l]=s.split("#");return void 0===l&&(l="default"),S(2572)(u).then(d=>d[l]).then(d=>Cw(d,u,l)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(s){let[u,l]=s.split("#"),d="NgFactory";return void 0===l&&(l="default",d=""),S(2572)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[l+d]).then(m=>Cw(m,u,l))}}return r.\u0275fac=function(s){return new(s||r)(fi(Zg),fi(CA,8))},r.\u0275prov=on({token:r,factory:r.\u0275fac}),r})();function Cw(r,i,s){if(!r)throw new Error(`Cannot find '${s}' in '${i}'`);return r}const PA=function(r){return null},FA=mw(null,"core",[{provide:iw,useValue:"unknown"},{provide:_w,deps:[ii]},{provide:hw,deps:[]},{provide:ow,deps:[]}]),BA=[{provide:Yg,useClass:Yg,deps:[Wa,ii,g,Sf,kf]},{provide:UD,deps:[Wa],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(s){i.push(s)}}},{provide:kf,useClass:kf,deps:[[new Ds,rE]]},{provide:Zg,useClass:Zg,deps:[]},WT,{provide:Gy,useFactory:function(){return PI},deps:[]},{provide:Wy,useFactory:function(){return NI},deps:[]},{provide:n_,useFactory:function(r){return wv(r=r||"undefined"!=typeof $localize&&$localize.locale||Ly),r},deps:[[new su(n_),new Ds,new ou]]},{provide:aw,useValue:"USD"}];let $A=(()=>{class r{constructor(s){}}return r.\u0275fac=function(s){return new(s||r)(fi(Yg))},r.\u0275mod=yr({type:r}),r.\u0275inj=zt({providers:BA}),r})()},2965:(Pe,de,S)=>{"use strict";S.d(de,{nm:()=>_i});var y=S(6643);S(4788),S(2329);var Ye=S(4553),Qe=S(5452),St=S(6034),lt=S(3854),ye=S(5601);const it=new Map,le={activated:!1,tokenObservers:[]},qe={initialized:!1,enabled:!1};function be(Ve){return it.get(Ve)||le}function fe(Ve,ze){it.set(Ve,ze)}function Oe(){return qe}class mt{constructor(ze,ot,Dt,Pt,nn){if(this.operation=ze,this.retryPolicy=ot,this.getWaitDuration=Dt,this.lowerBound=Pt,this.upperBound=nn,this.pending=null,this.nextErrorWaitInterval=Pt,Pt>nn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ze){var ot=this;return(0,Ye.Z)(function*(){ot.stop();try{ot.pending=new lt.BH,yield(Ve=ot.getNextRun(ze),new Promise(ze=>{setTimeout(ze,Ve)})),ot.pending.resolve(),yield ot.pending.promise,ot.pending=new lt.BH,yield ot.operation(),ot.pending.resolve(),yield ot.pending.promise,ot.process(!0).catch(()=>{})}catch(Dt){ot.retryPolicy(Dt)?ot.process(!1).catch(()=>{}):ot.stop()}var Ve})()}getNextRun(ze){if(ze)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ot=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ot}}}const tn=new lt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function Gt(Ve){if(!be(Ve).activated)throw tn.create("use-before-activation",{appName:Ve.name})}function hn(Ve,ze){return zt.apply(this,arguments)}function zt(){return(zt=(0,Ye.Z)(function*({url:Ve,body:ze},ot){const Dt={"Content-Type":"application/json"},Pt=ot.getImmediate({optional:!0});Pt&&(Dt["X-Firebase-Client"]=Pt.getPlatformInfoString());const nn={method:"POST",body:JSON.stringify(ze),headers:Dt};let Fn,In;try{Fn=yield fetch(Ve,nn)}catch(De){throw tn.create("fetch-network-error",{originalErrorMessage:De.message})}if(200!==Fn.status)throw tn.create("fetch-status-error",{httpStatus:Fn.status});try{In=yield Fn.json()}catch(De){throw tn.create("fetch-parse-error",{originalErrorMessage:De.message})}const qn=In.ttl.match(/^([\d.]+)(s)$/);if(!qn||!qn[2]||isNaN(Number(qn[1])))throw tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${In.ttl}`});const Kr=1e3*Number(qn[1]),Te=Date.now();return{token:In.attestationToken,expireTimeMillis:Te+Kr,issuedAtTimeMillis:Te}})).apply(this,arguments)}function je(Ve,ze){const{projectId:ot,appId:Dt,apiKey:Pt}=Ve.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${ot}/apps/${Dt}:exchangeDebugToken?key=${Pt}`,body:{debug_token:ze}}}const ft="firebase-app-check-store";let xt=null;function Wt(){return xt||(xt=new Promise((Ve,ze)=>{try{const ot=indexedDB.open("firebase-app-check-database",1);ot.onsuccess=Dt=>{Ve(Dt.target.result)},ot.onerror=Dt=>{var Pt;ze(tn.create("storage-open",{originalErrorMessage:null===(Pt=Dt.target.error)||void 0===Pt?void 0:Pt.message}))},ot.onupgradeneeded=Dt=>{const Pt=Dt.target.result;switch(Dt.oldVersion){case 0:Pt.createObjectStore(ft,{keyPath:"compositeKey"})}}}catch(ot){ze(tn.create("storage-open",{originalErrorMessage:ot.message}))}}),xt)}function Yt(){return(Yt=(0,Ye.Z)(function*(Ve,ze){const Dt=(yield Wt()).transaction(ft,"readwrite"),nn=Dt.objectStore(ft).put({compositeKey:Ve,value:ze});return new Promise((Fn,In)=>{nn.onsuccess=qn=>{Fn()},Dt.onerror=qn=>{var Kr;In(tn.create("storage-set",{originalErrorMessage:null===(Kr=qn.target.error)||void 0===Kr?void 0:Kr.message}))}})})).apply(this,arguments)}const rr=new ye.Yd("@firebase/app-check");function Ft(Ve,ze){return(0,lt.hl)()?function(Ve,ze){return function(Ve,ze){return Yt.apply(this,arguments)}(function(Ve){return`${Ve.options.appId}-${Ve.name}`}(Ve),ze)}(Ve,ze).catch(ot=>{rr.warn(`Failed to write token to IndexedDB. Error: ${ot}`)}):Promise.resolve()}function Dr(){return Oe().enabled}function Bn(){return cr.apply(this,arguments)}function cr(){return(cr=(0,Ye.Z)(function*(){const Ve=Oe();if(Ve.enabled&&Ve.token)return Ve.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xe={error:"UNKNOWN_ERROR"};function me(Ve){return lt.US.encodeString(JSON.stringify(Ve),!1)}function Me(Ve){return vt.apply(this,arguments)}function vt(){return(vt=(0,Ye.Z)(function*(Ve,ze=!1){const ot=Ve.app;Gt(ot);const Dt=be(ot);let nn,Fn,Pt=Dt.token;if(!Pt){const In=yield Dt.cachedTokenPromise;In&&ut(In)&&(Pt=In,fe(ot,Object.assign(Object.assign({},Dt),{token:Pt})),nt(ot,{token:Pt.token}))}if(!ze&&Pt&&ut(Pt))return{token:Pt.token};if(Dr()){const In=yield hn(je(ot,yield Bn()),Ve.platformLoggerProvider);return yield Ft(ot,In),fe(ot,Object.assign(Object.assign({},Dt),{token:In})),{token:In.token}}try{Pt=yield Dt.provider.getToken()}catch(In){rr.error(In),nn=In}return Pt?(Fn={token:Pt.token},fe(ot,Object.assign(Object.assign({},Dt),{token:Pt})),yield Ft(ot,Pt)):Fn=$t(nn),nt(ot,Fn),Fn})).apply(this,arguments)}function en(Ve,ze){const ot=be(Ve),Dt=ot.tokenObservers.filter(Pt=>Pt.next!==ze);0===Dt.length&&ot.tokenRefresher&&ot.tokenRefresher.isRunning()&&ot.tokenRefresher.stop(),fe(Ve,Object.assign(Object.assign({},ot),{tokenObservers:Dt}))}function nt(Ve,ze){const ot=be(Ve).tokenObservers;for(const Dt of ot)try{"EXTERNAL"===Dt.type&&null!=ze.error?Dt.error(ze.error):Dt.next(ze)}catch(Pt){}}function ut(Ve){return Ve.expireTimeMillis-Date.now()>0}function $t(Ve){return{token:me(xe),error:Ve}}class En{constructor(ze,ot){this.app=ze,this.platformLoggerProvider=ot}_delete(){const{tokenObservers:ze}=be(this.app);for(const ot of ze)en(this.app,ot.next);return Promise.resolve()}}const wn="app-check-internal";(0,Qe._registerComponent)(new St.wA("app-check",Ve=>function(Ve,ze){return new En(Ve,ze)}(Ve.getProvider("app").getImmediate(),Ve.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ve,ze,ot)=>{Ve.getProvider(wn).initialize()})),(0,Qe._registerComponent)(new St.wA(wn,Ve=>function(Ve){return{getToken:ze=>Me(Ve,ze),addTokenListener:ze=>function(Ve,ze,ot,Dt){const{app:Pt}=Ve,nn=be(Pt),Fn={next:ot,error:Dt,type:ze},In=Object.assign(Object.assign({},nn),{tokenObservers:[...nn.tokenObservers,Fn]});if(!In.tokenRefresher){const qn=function(Ve){const{app:ze}=Ve;return new mt((0,Ye.Z)(function*(){let Dt;if(Dt=be(ze).token?yield Me(Ve,!0):yield Me(Ve),Dt.error)throw Dt.error}),()=>!0,()=>{const ot=be(ze);if(ot.token){let Dt=ot.token.issuedAtTimeMillis+.5*(ot.token.expireTimeMillis-ot.token.issuedAtTimeMillis)+3e5;return Dt=Math.min(Dt,ot.token.expireTimeMillis-3e5),Math.max(0,Dt-Date.now())}return 0},3e4,96e4)}(Ve);In.tokenRefresher=qn}if(!In.tokenRefresher.isRunning()&&nn.isTokenAutoRefreshEnabled&&In.tokenRefresher.start(),nn.token&&ut(nn.token)){const qn=nn.token;Promise.resolve().then(()=>ot({token:qn.token})).catch(()=>{})}else null==nn.token&&nn.cachedTokenPromise.then(qn=>{qn&&ut(qn)&&ot({token:qn.token})}).catch(()=>{});fe(Pt,In)}(Ve,"INTERNAL",ze),removeTokenListener:ze=>en(Ve.app,ze)}}(Ve.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Qe.registerVersion)("@firebase/app-check","0.4.2");class _i{constructor(){return(0,y.vb)("app-check")}}"undefined"!=typeof window&&window},2673:(Pe,de,S)=>{"use strict";S.d(de,{zQ:()=>fe,ww:()=>Oe,rT:()=>it,f7:()=>qe,L6:()=>lt,_Q:()=>ye,lh:()=>le,Qv:()=>St,nw:()=>be});var y=S(4788),R=S(9765),H=S(5917),ge=S(7574),ee=S(5372),$=S(6682),ne=S(8229);function Y(se,et,gt){let Vt;return Vt=se&&"object"==typeof se?se:{bufferSize:se,windowTime:et,refCount:!1,scheduler:gt},mt=>mt.lift(function({bufferSize:se=Number.POSITIVE_INFINITY,windowTime:et=Number.POSITIVE_INFINITY,refCount:gt,scheduler:Vt}){let mt,Mt,Tt=0,tn=!1,sn=!1;return function(on){let hn;Tt++,!mt||tn?(tn=!1,mt=new ne.t(se,et,Vt),hn=mt.subscribe(this),Mt=on.subscribe({next(zt){mt.next(zt)},error(zt){tn=!0,mt.error(zt)},complete(){sn=!0,Mt=void 0,mt.complete()}}),sn&&(Mt=void 0)):hn=mt.subscribe(this),this.add(()=>{Tt--,hn.unsubscribe(),hn=void 0,Mt&&!sn&&gt&&0===Tt&&(Mt.unsubscribe(),Mt=void 0,mt=void 0)})}}(Vt))}var G=S(3190);function K(se,et){return et?(0,G.w)(()=>se,et):(0,G.w)(()=>se)}var z=S(9746),oe=S(8002),He=S(8049),Le=S(3101),Ae=S(5435),Ue=S(6643),Ce=S(8939),Fe=S(2057),ae=S(2965),Ye=S(7841);const St=new y.OlP("angularfire2.auth.use-emulator"),lt=new y.OlP("angularfire2.auth.settings"),ye=new y.OlP("angularfire2.auth.tenant-id"),it=new y.OlP("angularfire2.auth.langugage-code"),le=new y.OlP("angularfire2.auth.use-device-language"),qe=new y.OlP("angularfire.auth.persistence"),be=(se,et,gt,Vt,mt,Tt,Mt,tn)=>(0,Ce.cc)(`${se.name}.auth`,"AngularFireAuth",se.name,()=>{const sn=et.runOutsideAngular(()=>se.auth());if(gt&&sn.useEmulator(...gt),Vt&&(sn.tenantId=Vt),sn.languageCode=mt,Tt&&sn.useDeviceLanguage(),Mt)for(const[Gt,on]of Object.entries(Mt))sn.settings[Gt]=on;return tn&&sn.setPersistence(tn),sn},[gt,Vt,mt,Tt,Mt,tn]);let fe=(()=>{class se{constructor(gt,Vt,mt,Tt,Mt,tn,sn,Gt,on,hn,zt,Be){const je=new R.xQ,ve=(0,H.of)(void 0).pipe((0,z.QV)(Mt.outsideAngular),(0,G.w)(()=>Tt.runOutsideAngular(()=>Promise.resolve().then(S.bind(S,5841)))),(0,oe.U)(()=>(0,Ce.on)(gt,Tt,Vt)),(0,oe.U)(Re=>be(Re,Tt,tn,Gt,on,hn,sn,zt)),Y({bufferSize:1,refCount:!1}));if((0,Fe.PM)(mt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,H.of)(null);else{ve.pipe((0,He.P)()).subscribe();const ft=ve.pipe((0,G.w)(Wt=>Wt.getRedirectResult().then(ln=>ln,()=>null)),Ue.iC,Y({bufferSize:1,refCount:!1})),wt=ve.pipe((0,G.w)(Wt=>new ge.y(ln=>({unsubscribe:Tt.runOutsideAngular(()=>Wt.onAuthStateChanged(It=>ln.next(It),It=>ln.error(It),()=>ln.complete()))})))),xt=ve.pipe((0,G.w)(Wt=>new ge.y(ln=>({unsubscribe:Tt.runOutsideAngular(()=>Wt.onIdTokenChanged(It=>ln.next(It),It=>ln.error(It),()=>ln.complete()))}))));this.authState=ft.pipe(K(wt),(0,Le.R)(Mt.outsideAngular),(0,z.QV)(Mt.insideAngular)),this.user=ft.pipe(K(xt),(0,Le.R)(Mt.outsideAngular),(0,z.QV)(Mt.insideAngular)),this.idToken=this.user.pipe((0,G.w)(Wt=>Wt?(0,ee.D)(Wt.getIdToken()):(0,H.of)(null))),this.idTokenResult=this.user.pipe((0,G.w)(Wt=>Wt?(0,ee.D)(Wt.getIdTokenResult()):(0,H.of)(null))),this.credential=(0,$.T)(ft,je,this.authState.pipe((0,Ae.h)(Wt=>!Wt))).pipe((0,oe.U)(Wt=>(null==Wt?void 0:Wt.user)?Wt:null),(0,Le.R)(Mt.outsideAngular),(0,z.QV)(Mt.insideAngular))}return(0,Ce.pX)(this,ve,Tt,{spy:{apply:(Re,ft,wt)=>{(Re.startsWith("signIn")||Re.startsWith("createUser"))&&wt.then(xt=>je.next(xt))}}})}}return se.\u0275fac=function(gt){return new(gt||se)(y.LFG(Ce.Dh),y.LFG(Ce.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Ue.HU),y.LFG(St,8),y.LFG(lt,8),y.LFG(ye,8),y.LFG(it,8),y.LFG(le,8),y.LFG(qe,8),y.LFG(ae.nm,8))},se.\u0275prov=y.Yz7({token:se,factory:se.\u0275fac,providedIn:"any"}),se})(),Oe=(()=>{class se{constructor(){Ye.Z.registerVersion("angularfire",Ue.q4.full,"auth-compat")}}return se.\u0275fac=function(gt){return new(gt||se)},se.\u0275mod=y.oAB({type:se}),se.\u0275inj=y.cJS({providers:[fe]}),se})()},2278:(Pe,de,S)=>{"use strict";S.d(de,{ST:()=>ky,yb:()=>_v});var y=S(4788),R=S(3637),H=S(7574),ge=S(5372),ee=S(5917),$=S(6643),ne=S(7393);function Y(){return a=>a.lift(new q)}class q{call(n,o){return o.subscribe(new G(n))}}class G extends ne.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let o;this.hasPrev?o=[this.prev,n]:this.hasPrev=!0,this.prev=n,o&&this.destination.next(o)}}var le,K=S(9761),z=S(8002),oe=S(2145),He=S(7519),Le=S(5435),Ae=S(8939),Ue=S(2057),Fe=(S(5841),S(4486)),ae=S(4553),Ye=S(5452),Qe=S(6034),St=S(5601),lt=S(3854),ye="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},it={},qe=qe||{},be=ye||self;function fe(){}function Oe(a){var n=typeof a;return"array"==(n="object"!=n?n:a?Array.isArray(a)?"array":n:"null")||"object"==n&&"number"==typeof a.length}function se(a){var n=typeof a;return"object"==n&&null!=a||"function"==n}var gt="closure_uid_"+(1e9*Math.random()>>>0),Vt=0;function mt(a,n,o){return a.call.apply(a.bind,arguments)}function Tt(a,n,o){if(!a)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,c),a.apply(n,h)}}return function(){return a.apply(n,arguments)}}function Mt(a,n,o){return(Mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mt:Tt).apply(null,arguments)}function tn(a,n){var o=Array.prototype.slice.call(arguments,1);return function(){var c=o.slice();return c.push.apply(c,arguments),a.apply(this,c)}}function sn(a,n){function o(){}o.prototype=n.prototype,a.Z=n.prototype,a.prototype=new o,a.prototype.constructor=a,a.Vb=function(c,h,_){for(var D=Array(arguments.length-2),k=2;k<arguments.length;k++)D[k-2]=arguments[k];return n.prototype[h].apply(c,D)}}function Gt(){this.s=this.s,this.o=this.o}var hn={};Gt.prototype.s=!1,Gt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var a=function(a){return Object.prototype.hasOwnProperty.call(a,gt)&&a[gt]||(a[gt]=++Vt)}(this);delete hn[a]}},Gt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zt=Array.prototype.indexOf?function(a,n){return Array.prototype.indexOf.call(a,n,void 0)}:function(a,n){if("string"==typeof a)return"string"!=typeof n||1!=n.length?-1:a.indexOf(n,0);for(let o=0;o<a.length;o++)if(o in a&&a[o]===n)return o;return-1},Be=Array.prototype.forEach?function(a,n,o){Array.prototype.forEach.call(a,n,o)}:function(a,n,o){const c=a.length,h="string"==typeof a?a.split(""):a;for(let _=0;_<c;_++)_ in h&&n.call(o,h[_],_,a)};function ve(a){return Array.prototype.concat.apply([],arguments)}function Re(a){const n=a.length;if(0<n){const o=Array(n);for(let c=0;c<n;c++)o[c]=a[c];return o}return[]}function ft(a){return/^[\s\xa0]*$/.test(a)}var ln,wt=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function xt(a,n){return-1!=a.indexOf(n)}function Wt(a,n){return a<n?-1:a>n?1:0}e:{var It=be.navigator;if(It){var Rn=It.userAgent;if(Rn){ln=Rn;break e}}ln=""}function Qn(a,n,o){for(const c in a)n.call(o,a[c],c,a)}function kn(a){const n={};for(const o in a)n[o]=a[o];return n}var Yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qt(a,n){let o,c;for(let h=1;h<arguments.length;h++){for(o in c=arguments[h],c)a[o]=c[o];for(let _=0;_<Yt.length;_++)o=Yt[_],Object.prototype.hasOwnProperty.call(c,o)&&(a[o]=c[o])}}function Cn(a){return Cn[" "](a),a}Cn[" "]=fe;var Bn,a,rr=xt(ln,"Opera"),Pn=xt(ln,"Trident")||xt(ln,"MSIE"),Lt=xt(ln,"Edge"),Ft=Lt||Pn,Mr=xt(ln,"Gecko")&&!(xt(ln.toLowerCase(),"webkit")&&!xt(ln,"Edge"))&&!(xt(ln,"Trident")||xt(ln,"MSIE"))&&!xt(ln,"Edge"),hr=xt(ln.toLowerCase(),"webkit")&&!xt(ln,"Edge");function Dr(){var a=be.document;return a?a.documentMode:void 0}e:{var cr="",$r=(a=ln,Mr?/rv:([^\);]+)(\)|;)/.exec(a):Lt?/Edge\/([\d\.]+)/.exec(a):Pn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):hr?/WebKit\/(\S+)/.exec(a):rr?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if($r&&(cr=$r?$r[1]:""),Pn){var xe=Dr();if(null!=xe&&xe>parseFloat(cr)){Bn=String(xe);break e}}Bn=cr}var me={};function Me(){return n=me,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let a=0;const n=wt(String(Bn)).split("."),o=wt("9").split("."),c=Math.max(n.length,o.length);for(let D=0;0==a&&D<c;D++){var h=n[D]||"",_=o[D]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],0==h[0].length&&0==_[0].length)break;a=Wt(0==h[1].length?0:parseInt(h[1],10),0==_[1].length?0:parseInt(_[1],10))||Wt(0==h[2].length,0==_[2].length)||Wt(h[2],_[2]),h=h[3],_=_[3]}while(0==a)}return 0<=a}();var n}var en=be.document&&Pn&&(Dr()||parseInt(Bn,10))||void 0,Ne=function(){if(!be.addEventListener||!Object.defineProperty)return!1;var a=!1,n=Object.defineProperty({},"passive",{get:function(){a=!0}});try{be.addEventListener("test",fe,n),be.removeEventListener("test",fe,n)}catch(o){}return a}();function nt(a,n){this.type=a,this.g=this.target=n,this.defaultPrevented=!1}function ut(a,n){if(nt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var o=this.type=a.type,c=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=n,n=a.relatedTarget){if(Mr){e:{try{Cn(n.nodeName);var h=!0;break e}catch(_){}h=!1}h||(n=null)}}else"mouseover"==o?n=a.fromElement:"mouseout"==o&&(n=a.toElement);this.relatedTarget=n,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:$t[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ut.Z.h.call(this)}}nt.prototype.h=function(){this.defaultPrevented=!0},sn(ut,nt);var $t={2:"touch",3:"pen",4:"mouse"};ut.prototype.h=function(){ut.Z.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var En="closure_listenable_"+(1e6*Math.random()|0),rn=0;function Jn(a,n,o,c,h){this.listener=a,this.proxy=null,this.src=n,this.type=o,this.capture=!!c,this.ia=h,this.key=++rn,this.ca=this.fa=!1}function ir(a){a.ca=!0,a.listener=null,a.proxy=null,a.src=null,a.ia=null}function mr(a){this.src=a,this.g={},this.h=0}function yr(a,n){var o=n.type;if(o in a.g){var _,c=a.g[o],h=zt(c,n);(_=0<=h)&&Array.prototype.splice.call(c,h,1),_&&(ir(n),0==a.g[o].length&&(delete a.g[o],a.h--))}}function Jr(a,n,o,c){for(var h=0;h<a.length;++h){var _=a[h];if(!_.ca&&_.listener==n&&_.capture==!!o&&_.ia==c)return h}return-1}mr.prototype.add=function(a,n,o,c,h){var _=a.toString();(a=this.g[_])||(a=this.g[_]=[],this.h++);var D=Jr(a,n,c,h);return-1<D?(n=a[D],o||(n.fa=!1)):((n=new Jn(n,this.src,_,!!c,h)).fa=o,a.push(n)),n};var vr="closure_lm_"+(1e6*Math.random()|0),fr={};function _n(a,n,o,c,h){if(c&&c.once)return Gn(a,n,o,c,h);if(Array.isArray(n)){for(var _=0;_<n.length;_++)_n(a,n[_],o,c,h);return null}return o=pr(o),a&&a[En]?a.N(n,o,se(c)?!!c.capture:!!c,h):jn(a,n,o,!1,c,h)}function jn(a,n,o,c,h,_){if(!n)throw Error("Invalid event type");var D=se(h)?!!h.capture:!!h,k=bn(a);if(k||(a[vr]=k=new mr(a)),(o=k.add(n,o,c,D,_)).proxy)return o;if(c=function(){var n=qt;return function a(o){return n.call(a.src,a.listener,o)}}(),o.proxy=c,c.src=a,c.listener=o,a.addEventListener)Ne||(h=D),void 0===h&&(h=!1),a.addEventListener(n.toString(),c,h);else if(a.attachEvent)a.attachEvent(Er(n.toString()),c);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(c)}return o}function Gn(a,n,o,c,h){if(Array.isArray(n)){for(var _=0;_<n.length;_++)Gn(a,n[_],o,c,h);return null}return o=pr(o),a&&a[En]?a.O(n,o,se(c)?!!c.capture:!!c,h):jn(a,n,o,!0,c,h)}function Rr(a,n,o,c,h){if(Array.isArray(n))for(var _=0;_<n.length;_++)Rr(a,n[_],o,c,h);else c=se(c)?!!c.capture:!!c,o=pr(o),a&&a[En]?(a=a.i,(n=String(n).toString())in a.g&&-1<(o=Jr(_=a.g[n],o,c,h))&&(ir(_[o]),Array.prototype.splice.call(_,o,1),0==_.length&&(delete a.g[n],a.h--))):a&&(a=bn(a))&&(n=a.g[n.toString()],a=-1,n&&(a=Jr(n,o,c,h)),(o=-1<a?n[a]:null)&&si(o))}function si(a){if("number"!=typeof a&&a&&!a.ca){var n=a.src;if(n&&n[En])yr(n.i,a);else{var o=a.type,c=a.proxy;n.removeEventListener?n.removeEventListener(o,c,a.capture):n.detachEvent?n.detachEvent(Er(o),c):n.addListener&&n.removeListener&&n.removeListener(c),(o=bn(n))?(yr(o,a),0==o.h&&(o.src=null,n[vr]=null)):ir(a)}}}function Er(a){return a in fr?fr[a]:fr[a]="on"+a}function qt(a,n){if(a.ca)a=!0;else{n=new ut(n,this);var o=a.listener,c=a.ia||a.src;a.fa&&si(a),a=o.call(c,n)}return a}function bn(a){return(a=a[vr])instanceof mr?a:null}var Vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function pr(a){return"function"==typeof a?a:(a[Vn]||(a[Vn]=function(n){return a.handleEvent(n)}),a[Vn])}function wn(){Gt.call(this),this.i=new mr(this),this.P=this,this.I=null}function Nn(a,n){var o,c=a.I;if(c)for(o=[];c;c=c.I)o.push(c);if(a=a.P,c=n.type||n,"string"==typeof n)n=new nt(n,a);else if(n instanceof nt)n.target=n.target||a;else{var h=n;Qt(n=new nt(c,a),h)}if(h=!0,o)for(var _=o.length-1;0<=_;_--){var D=n.g=o[_];h=br(D,c,!0,n)&&h}if(h=br(D=n.g=a,c,!0,n)&&h,h=br(D,c,!1,n)&&h,o)for(_=0;_<o.length;_++)h=br(D=n.g=o[_],c,!1,n)&&h}function br(a,n,o,c){if(!(n=a.i.g[String(n)]))return!0;n=n.concat();for(var h=!0,_=0;_<n.length;++_){var D=n[_];if(D&&!D.ca&&D.capture==o){var k=D.listener,W=D.ia||D.src;D.fa&&yr(a.i,D),h=!1!==k.call(W,c)&&h}}return h&&!c.defaultPrevented}sn(wn,Gt),wn.prototype[En]=!0,wn.prototype.removeEventListener=function(a,n,o,c){Rr(this,a,n,o,c)},wn.prototype.M=function(){if(wn.Z.M.call(this),this.i){var n,a=this.i;for(n in a.g){for(var o=a.g[n],c=0;c<o.length;c++)ir(o[c]);delete a.g[n],a.h--}}this.I=null},wn.prototype.N=function(a,n,o,c){return this.i.add(String(a),n,!1,o,c)},wn.prototype.O=function(a,n,o,c){return this.i.add(String(a),n,!0,o,c)};var Wn=be.JSON.stringify;function _i(){var a=ai;let n=null;return a.g&&(n=a.g,a.g=a.g.next,a.g||(a.h=null),n.next=null),n}var Ai,vn=new class{constructor(a,n){this.i=a,this.j=n,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}(()=>new wr,a=>a.reset());class wr{constructor(){this.next=this.g=this.h=null}set(n,o){this.h=n,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function oi(a){be.setTimeout(()=>{throw a},0)}function ur(a,n){Ai||function(){var a=be.Promise.resolve(void 0);Ai=function(){a.then(Ee)}}(),Ri||(Ai(),Ri=!0),ai.add(a,n)}var Ri=!1,ai=new class{constructor(){this.h=this.g=null}add(n,o){const c=vn.get();c.set(n,o),this.h?this.h.next=c:this.g=c,this.h=c}};function Ee(){for(var a;a=_i();){try{a.h.call(a.g)}catch(o){oi(o)}var n=vn;n.j(a),100>n.h&&(n.h++,a.next=n.g,n.g=a)}Ri=!1}function rt(a,n){wn.call(this),this.h=a||1,this.g=n||be,this.j=Mt(this.kb,this),this.l=Date.now()}function Xe(a){a.da=!1,a.S&&(a.g.clearTimeout(a.S),a.S=null)}function ct(a,n,o){if("function"==typeof a)o&&(a=Mt(a,o));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=Mt(a.handleEvent,a)}return 2147483647<Number(n)?-1:be.setTimeout(a,n||0)}function Rt(a){a.g=ct(()=>{a.g=null,a.i&&(a.i=!1,Rt(a))},a.j);const n=a.h;a.h=null,a.m.apply(null,n)}sn(rt,wn),(le=rt.prototype).da=!1,le.S=null,le.kb=function(){if(this.da){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-a):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nn(this,"tick"),this.da&&(Xe(this),this.start()))}},le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.M=function(){rt.Z.M.call(this),Xe(this),delete this.g};class Ut extends Gt{constructor(n,o){super(),this.m=n,this.j=o,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:Rt(this)}M(){super.M(),this.g&&(be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ve(a){Gt.call(this),this.h=a,this.g={}}sn(Ve,Gt);var ze=[];function ot(a,n,o,c){Array.isArray(o)||(o&&(ze[0]=o.toString()),o=ze);for(var h=0;h<o.length;h++){var _=_n(n,o[h],c||a.handleEvent,!1,a.h||a);if(!_)break;a.g[_.key]=_}}function Dt(a){Qn(a.g,function(n,o){this.g.hasOwnProperty(o)&&si(n)},a),a.g={}}function Pt(){this.g=!0}function In(a,n,o,c){a.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(a,n){if(!a.g)return n;if(!n)return null;try{var o=JSON.parse(n);if(o)for(a=0;a<o.length;a++)if(Array.isArray(o[a])){var c=o[a];if(!(2>c.length)){var h=c[1];if(Array.isArray(h)&&!(1>h.length)){var _=h[0];if("noop"!=_&&"stop"!=_&&"close"!=_)for(var D=1;D<h.length;D++)h[D]=""}}}return Wn(o)}catch(k){return n}}(a,o)+(c?" "+c:"")})}Ve.prototype.M=function(){Ve.Z.M.call(this),Dt(this)},Ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pt.prototype.Aa=function(){this.g=!1},Pt.prototype.info=function(){};var Te={},De=null;function he(){return De=De||new wn}function Ke(a){nt.call(this,Te.Ma,a)}function pt(a){const n=he();Nn(n,new Ke(n,a))}function gn(a,n){nt.call(this,Te.STAT_EVENT,a),this.stat=n}function mn(a){const n=he();Nn(n,new gn(n,a))}function Cr(a,n){nt.call(this,Te.Na,a),this.size=n}function lr(a,n){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return be.setTimeout(function(){a()},n)}Te.Ma="serverreachability",sn(Ke,nt),Te.STAT_EVENT="statevent",sn(gn,nt),Te.Na="timingevent",sn(Cr,nt);var Xr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},bs={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function so(){}function xo(){}so.prototype.h=null;var ns,vi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qo(){nt.call(this,"d")}function va(){nt.call(this,"c")}function oo(){}function Pi(a,n,o,c){this.l=a,this.j=n,this.m=o,this.X=c||1,this.V=new Ve(this),this.P=ws,this.W=new rt(a=Ft?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Si}function Si(){this.i=null,this.g="",this.h=!1}sn(qo,nt),sn(va,nt),sn(oo,so),oo.prototype.g=function(){return new XMLHttpRequest},oo.prototype.i=function(){return{}},ns=new oo;var ws=45e3,ji={},ls={};function Ni(a,n,o){a.K=1,a.v=F(Z(n)),a.s=o,a.U=!0,ao(a,null)}function ao(a,n){a.F=Date.now(),Ei(a),a.A=Z(a.v);var o=a.A,c=a.X;Array.isArray(c)||(c=[String(c)]),Zo(o.h,"t",c),a.C=0,o=a.l.H,a.h=new Si,a.g=na(a.l,o?n:null,!a.s),0<a.O&&(a.L=new Ut(Mt(a.Ia,a,a.g),a.O)),ot(a.V,a.g,"readystatechange",a.gb),n=a.H?kn(a.H):{},a.s?(a.u||(a.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.s,n)):(a.u="GET",a.g.ea(a.A,a.u,null,n)),pt(1),function(a,n,o,c,h,_){a.info(function(){if(a.g)if(_)for(var D="",k=_.split("&"),W=0;W<k.length;W++){var ue=k[W].split("=");if(1<ue.length){var we=ue[0];ue=ue[1];var We=we.split("_");D=2<=We.length&&"type"==We[1]?D+(we+"=")+ue+"&":D+(we+"=redacted&")}}else D=null;else D=_;return"XMLHTTP REQ ("+c+") [attempt "+h+"]: "+n+"\n"+o+"\n"+D})}(a.j,a.u,a.A,a.m,a.X,a.s)}function uo(a){return!!a.g&&"GET"==a.u&&2!=a.K&&a.l.Ba}function $i(a,n,o){let h,c=!0;for(;!a.I&&a.C<o.length;){if(h=za(a,o),h==ls){4==n&&(a.o=4,mn(14),c=!1),In(a.j,a.m,null,"[Incomplete Response]");break}if(h==ji){a.o=4,mn(15),In(a.j,a.m,o,"[Invalid Chunk]"),c=!1;break}In(a.j,a.m,h,null),co(a,h)}uo(a)&&h!=ls&&h!=ji&&(a.h.g="",a.C=0),4!=n||0!=o.length||a.h.h||(a.o=1,mn(16),c=!1),a.i=a.i&&c,c?0<o.length&&!a.aa&&(a.aa=!0,(n=a.l).g==a&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+o.length),Fo(n),n.L=!0,mn(11))):(In(a.j,a.m,o,"[Invalid Chunked Response]"),Vr(a),ui(a))}function za(a,n){var o=a.C,c=n.indexOf("\n",o);return-1==c?ls:(o=Number(n.substring(o,c)),isNaN(o)?ji:(c+=1)+o>n.length?ls:(n=n.substr(c,o),a.C=c+o,n))}function Ei(a){a.Y=Date.now()+a.P,Tr(a,a.P)}function Tr(a,n){if(null!=a.B)throw Error("WatchDog timer not null");a.B=lr(Mt(a.eb,a),n)}function Os(a){a.B&&(be.clearTimeout(a.B),a.B=null)}function ui(a){0==a.l.G||a.I||qa(a.l,a)}function Vr(a){Os(a);var n=a.L;n&&"function"==typeof n.na&&n.na(),a.L=null,Xe(a.W),Dt(a.V),a.g&&(n=a.g,a.g=null,n.abort(),n.na())}function co(a,n){try{var o=a.l;if(0!=o.G&&(o.g==a||Fr(o.i,a)))if(o.I=a.N,!a.J&&Fr(o.i,a)&&3==o.G){try{var c=o.Ca.g.parse(n)}catch(ue){c=null}if(Array.isArray(c)&&3==c.length){var h=c;if(0==h[0])e:if(o.u)o.ta=h[1],0<o.ta-o.U&&37500>h[2]&&o.N&&0==o.A&&!o.v&&(o.v=lr(Mt(o.ab,o),6e3));else{if(o.g){if(!(o.g.F+3e3<a.F))break e;di(o),fs(o)}Gr(o),mn(18)}if(1>=Qo(o.i)&&o.ka){try{o.ka()}catch(ue){}o.ka=void 0}}else Yi(o,11)}else if((a.J||o.g==a)&&di(o),!ft(n))for(h=o.Ca.g.parse(n),n=0;n<h.length;n++){let ue=h[n];if(o.U=ue[0],ue=ue[1],2==o.G)if("c"==ue[0]){o.J=ue[1],o.la=ue[2];const we=ue[3];null!=we&&(o.ma=we,o.h.info("VER="+o.ma));const We=ue[4];null!=We&&(o.za=We,o.h.info("SVER="+o.za));const _t=ue[5];null!=_t&&"number"==typeof _t&&0<_t&&(o.K=c=1.5*_t,o.h.info("backChannelRequestTimeoutMs_="+c)),c=o;const Ot=a.g;if(Ot){const Zt=Ot.g?Ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zt){var _=c.i;!_.g&&(xt(Zt,"spdy")||xt(Zt,"quic")||xt(Zt,"h2"))&&(_.j=_.l,_.g=new Set,_.h&&(ho(_,_.h),_.h=null))}if(c.D){const On=Ot.g?Ot.g.getResponseHeader("X-HTTP-Session-Id"):null;On&&(c.sa=On,bt(c.F,c.D,On))}}o.G=3,o.j&&o.j.xa(),o.$&&(o.O=Date.now()-a.F,o.h.info("Handshake RTT: "+o.O+"ms"));var D=a;if((c=o).oa=vo(c,c.H?c.la:null,c.W),D.J){$s(c.i,D);var k=D,W=c.K;W&&k.setTimeout(W),k.B&&(Os(k),Ei(k)),c.g=D}else _o(c);0<o.l.length&&ea(o)}else"stop"!=ue[0]&&"close"!=ue[0]||Yi(o,7);else 3==o.G&&("stop"==ue[0]||"close"==ue[0]?"stop"==ue[0]?Yi(o,7):Gi(o):"noop"!=ue[0]&&o.j&&o.j.wa(ue),o.A=0)}pt(4)}catch(ue){}}function ds(a,n){if(a.forEach&&"function"==typeof a.forEach)a.forEach(n,void 0);else if(Oe(a)||"string"==typeof a)Be(a,n,void 0);else{if(a.T&&"function"==typeof a.T)var o=a.T();else if(a.R&&"function"==typeof a.R)o=void 0;else if(Oe(a)||"string"==typeof a){o=[];for(var c=a.length,h=0;h<c;h++)o.push(h)}else for(h in o=[],c=0,a)o[c++]=h;h=(c=function(a){if(a.R&&"function"==typeof a.R)return a.R();if("string"==typeof a)return a.split("");if(Oe(a)){for(var n=[],o=a.length,c=0;c<o;c++)n.push(a[c]);return n}for(c in n=[],o=0,a)n[o++]=a[c];return n}(a)).length;for(var _=0;_<h;_++)n.call(void 0,c[_],o&&o[_],a)}}function ci(a,n){this.h={},this.g=[],this.i=0;var o=arguments.length;if(1<o){if(o%2)throw Error("Uneven number of arguments");for(var c=0;c<o;c+=2)this.set(arguments[c],arguments[c+1])}else if(a)if(a instanceof ci)for(o=a.T(),c=0;c<o.length;c++)this.set(o[c],a.get(o[c]));else for(c in a)this.set(c,a[c])}function Hi(a){if(a.i!=a.g.length){for(var n=0,o=0;n<a.g.length;){var c=a.g[n];Zi(a.h,c)&&(a.g[o++]=c),n++}a.g.length=o}if(a.i!=a.g.length){var h={};for(o=n=0;n<a.g.length;)Zi(h,c=a.g[n])||(a.g[o++]=c,h[c]=1),n++;a.g.length=o}}function Zi(a,n){return Object.prototype.hasOwnProperty.call(a,n)}(le=Pi.prototype).setTimeout=function(a){this.P=a},le.gb=function(a){a=a.target;const n=this.L;n&&3==hs(a)?n.l():this.Ia(a)},le.Ia=function(a){try{if(a==this.g)e:{const we=hs(this.g);var n=this.g.Da();const We=this.g.ba();if(!(3>we)&&(3!=we||Ft||this.g&&(this.h.h||this.g.ga()||Ia(this.g)))){this.I||4!=we||7==n||pt(8==n||0>=We?3:2),Os(this);var o=this.g.ba();this.N=o;t:if(uo(this)){var c=Ia(this.g);a="";var h=c.length,_=4==hs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Vr(this),ui(this);var D="";break t}this.h.i=new be.TextDecoder}for(n=0;n<h;n++)this.h.h=!0,a+=this.h.i.decode(c[n],{stream:_&&n==h-1});c.splice(0,h),this.h.g+=a,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==o,function(a,n,o,c,h,_,D){a.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+h+"]: "+n+"\n"+o+"\n"+_+" "+D})}(this.j,this.u,this.A,this.m,this.X,we,o),this.i){if(this.$&&!this.J){t:{if(this.g){var k,W=this.g;if((k=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ft(k)){var ue=k;break t}}ue=null}if(!(o=ue)){this.i=!1,this.o=3,mn(12),Vr(this),ui(this);break e}In(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,co(this,o)}this.U?($i(this,we,D),Ft&&this.i&&3==we&&(ot(this.V,this.W,"tick",this.fb),this.W.start())):(In(this.j,this.m,D,null),co(this,D)),4==we&&Vr(this),this.i&&!this.I&&(4==we?qa(this.l,this):(this.i=!1,Ei(this)))}else 400==o&&0<D.indexOf("Unknown SID")?(this.o=3,mn(12)):(this.o=0,mn(13)),Vr(this),ui(this)}}}catch(we){}},le.fb=function(){if(this.g){var a=hs(this.g),n=this.g.ga();this.C<n.length&&(Os(this),$i(this,a,n),this.i&&4!=a&&Ei(this))}},le.cancel=function(){this.I=!0,Vr(this)},le.eb=function(){this.B=null;const a=Date.now();0<=a-this.Y?(function(a,n){a.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(pt(3),mn(17)),Vr(this),this.o=2,ui(this)):Tr(this,this.Y-a)},(le=ci.prototype).R=function(){Hi(this);for(var a=[],n=0;n<this.g.length;n++)a.push(this.h[this.g[n]]);return a},le.T=function(){return Hi(this),this.g.concat()},le.get=function(a,n){return Zi(this.h,a)?this.h[a]:n},le.set=function(a,n){Zi(this.h,a)||(this.i++,this.g.push(a)),this.h[a]=n},le.forEach=function(a,n){for(var o=this.T(),c=0;c<o.length;c++){var h=o[c],_=this.get(h);a.call(n,_,h,this)}};var rs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function P(a,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,a instanceof P){this.g=void 0!==n?n:a.g,L(this,a.j),this.s=a.s,te(this,a.i),Ie(this,a.m),this.l=a.l,n=a.h;var o=new qr;o.i=n.i,n.g&&(o.g=new ci(n.g),o.h=n.h),ht(this,o),this.o=a.o}else a&&(o=String(a).match(rs))?(this.g=!!n,L(this,o[1]||"",!0),this.s=Q(o[2]||""),te(this,o[3]||"",!0),Ie(this,o[4]),this.l=Q(o[5]||"",!0),ht(this,o[6]||"",!0),this.o=Q(o[7]||"")):(this.g=!!n,this.h=new qr(null,this.g))}function Z(a){return new P(a)}function L(a,n,o){a.j=o?Q(n,!0):n,a.j&&(a.j=a.j.replace(/:$/,""))}function te(a,n,o){a.i=o?Q(n,!0):n}function Ie(a,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);a.m=n}else a.m=null}function ht(a,n,o){n instanceof qr?(a.h=n,function(a,n){n&&!a.j&&(yn(a),a.i=null,a.g.forEach(function(o,c){var h=c.toLowerCase();c!=h&&(lo(this,c),Zo(this,h,o))},a)),a.j=n}(a.h,a.g)):(o||(n=Ze(n,Nr)),a.h=new qr(n,a.g))}function bt(a,n,o){a.h.set(n,o)}function F(a){return bt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Q(a,n){return a?n?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ze(a,n,o){return"string"==typeof a?(a=encodeURI(a).replace(n,Bt),o&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Bt(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}P.prototype.toString=function(){var a=[],n=this.j;n&&a.push(Ze(n,Sn,!0),":");var o=this.i;return(o||"file"==n)&&(a.push("//"),(n=this.s)&&a.push(Ze(n,Sn,!0),"@"),a.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&a.push(":",String(o))),(o=this.l)&&(this.i&&"/"!=o.charAt(0)&&a.push("/"),a.push(Ze(o,"/"==o.charAt(0)?bi:nr,!0))),(o=this.h.toString())&&a.push("?",o),(o=this.o)&&a.push("#",Ze(o,li)),a.join("")};var Sn=/[#\/\?@]/g,nr=/[#\?:]/g,bi=/[#\?]/g,Nr=/[#\?@]/g,li=/#/g;function qr(a,n){this.h=this.g=null,this.i=a||null,this.j=!!n}function yn(a){a.g||(a.g=new ci,a.h=0,a.i&&function(a,n){if(a){a=a.split("&");for(var o=0;o<a.length;o++){var c=a[o].indexOf("="),h=null;if(0<=c){var _=a[o].substring(0,c);h=a[o].substring(c+1)}else _=a[o];n(_,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(a.i,function(n,o){a.add(decodeURIComponent(n.replace(/\+/g," ")),o)}))}function lo(a,n){yn(a),n=Bs(a,n),Zi(a.g.h,n)&&(a.i=null,a.h-=a.g.get(n).length,Zi((a=a.g).h,n)&&(delete a.h[n],a.i--,a.g.length>2*a.i&&Hi(a)))}function Ea(a,n){return yn(a),n=Bs(a,n),Zi(a.g.h,n)}function Zo(a,n,o){lo(a,n),0<o.length&&(a.i=null,a.g.set(Bs(a,n),Re(o)),a.h+=o.length)}function Bs(a,n){return n=String(n),a.j&&(n=n.toLowerCase()),n}function js(a){this.l=a||Nt,a=be.PerformanceNavigationTiming?0<(a=be.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):!!(be.g&&be.g.Ea&&be.g.Ea()&&be.g.Ea().Zb),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(le=qr.prototype).add=function(a,n){yn(this),this.i=null,a=Bs(this,a);var o=this.g.get(a);return o||this.g.set(a,o=[]),o.push(n),this.h+=1,this},le.forEach=function(a,n){yn(this),this.g.forEach(function(o,c){Be(o,function(h){a.call(n,h,c,this)},this)},this)},le.T=function(){yn(this);for(var a=this.g.R(),n=this.g.T(),o=[],c=0;c<n.length;c++)for(var h=a[c],_=0;_<h.length;_++)o.push(n[c]);return o},le.R=function(a){yn(this);var n=[];if("string"==typeof a)Ea(this,a)&&(n=ve(n,this.g.get(Bs(this,a))));else{a=this.g.R();for(var o=0;o<a.length;o++)n=ve(n,a[o])}return n},le.set=function(a,n){return yn(this),this.i=null,Ea(this,a=Bs(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[n]),this.h+=1,this},le.get=function(a,n){return a&&0<(a=this.R(a)).length?String(a[0]):n},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],n=this.g.T(),o=0;o<n.length;o++){var c=n[o],h=encodeURIComponent(String(c));c=this.R(c);for(var _=0;_<c.length;_++){var D=h;""!==c[_]&&(D+="="+encodeURIComponent(String(c[_]))),a.push(D)}}return this.i=a.join("&")};var Nt=10;function Zn(a){return!!a.h||!!a.g&&a.g.size>=a.j}function Qo(a){return a.h?1:a.g?a.g.size:0}function Fr(a,n){return a.h?a.h==n:!!a.g&&a.g.has(n)}function ho(a,n){a.g?a.g.add(n):a.h=n}function $s(a,n){a.h&&a.h==n?a.h=null:a.g&&a.g.has(n)&&a.g.delete(n)}function Cs(a){if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){let n=a.i;for(const o of a.g.values())n=n.concat(o.D);return n}return Re(a.i)}function Hs(){}function ba(){this.g=new Hs}function pl(a,n,o){const c=o||"";try{ds(a,function(h,_){let D=h;se(h)&&(D=Wn(h)),n.push(c+_+"="+encodeURIComponent(D))})}catch(h){throw n.push(c+"type="+encodeURIComponent("_badmap")),h}}function Gs(a,n,o,c,h){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,h(c)}catch(_){}}function xs(a){this.l=a.$b||null,this.j=a.ib||!1}function ei(a,n){wn.call(this),this.D=a,this.u=n,this.m=void 0,this.readyState=is,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}js.prototype.cancel=function(){if(this.i=Cs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const a of this.g.values())a.cancel();this.g.clear()}},Hs.prototype.stringify=function(a){return be.JSON.stringify(a,void 0)},Hs.prototype.parse=function(a){return be.JSON.parse(a,void 0)},sn(xs,so),xs.prototype.g=function(){return new ei(this.l,this.j)},xs.prototype.i=function(a){return function(){return a}}({}),sn(ei,wn);var is=0;function Ro(a){a.j.read().then(a.Sa.bind(a)).catch(a.ha.bind(a))}function Ms(a){a.readyState=4,a.l=null,a.j=null,a.A=null,wi(a)}function wi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(le=ei.prototype).open=function(a,n){if(this.readyState!=is)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=n,this.readyState=1,wi(this)},le.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(n.body=a),(this.D||be).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ms(this)),this.readyState=is},le.Va=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==be.ReadableStream&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ro(this)}else a.text().then(this.Ua.bind(this),this.ha.bind(this))},le.Sa=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var n=a.value?a.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!a.done}))&&(this.response=this.responseText+=n)}a.done?Ms(this):wi(this),3==this.readyState&&Ro(this)}},le.Ua=function(a){this.g&&(this.response=this.responseText=a,Ms(this))},le.Ta=function(a){this.g&&(this.response=a,Ms(this))},le.ha=function(){this.g&&Ms(this)},le.setRequestHeader=function(a,n){this.v.append(a,n)},le.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],n=this.h.entries();for(var o=n.next();!o.done;)a.push((o=o.value)[0]+": "+o[1]),o=n.next();return a.join("\r\n")},Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var Dc=be.JSON.parse;function kr(a){wn.call(this),this.headers=new ci,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vu,this.K=this.L=!1}sn(kr,wn);var vu="",wa=/^https?$/i,Eu=["POST","PUT"];function Tc(a){return"content-type"==a.toLowerCase()}function Ca(a,n){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=n,a.m=5,Jo(a),po(a)}function Jo(a){a.D||(a.D=!0,Nn(a,"complete"),Nn(a,"error"))}function Xo(a){if(a.h&&void 0!==qe&&(!a.C[1]||4!=hs(a)||2!=a.ba()))if(a.v&&4==hs(a))ct(a.Fa,0,a);else if(Nn(a,"readystatechange"),4==hs(a)){a.h=!1;try{const k=a.ba();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var o;if(!(o=n)){var c;if(c=0===k){var h=String(a.H).match(rs)[1]||null;if(!h&&be.self&&be.self.location){var _=be.self.location.protocol;h=_.substr(0,_.length-1)}c=!wa.test(h?h.toLowerCase():"")}o=c}if(o)Nn(a,"complete"),Nn(a,"success");else{a.m=6;try{var D=2<hs(a)?a.g.statusText:""}catch(W){D=""}a.j=D+" ["+a.ba()+"]",Jo(a)}}finally{po(a)}}}function po(a,n){if(a.g){go(a);const o=a.g,c=a.C[0]?fe:null;a.g=null,a.C=null,n||Nn(a,"ready");try{o.onreadystatechange=c}catch(h){}}}function go(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&(be.clearTimeout(a.A),a.A=null)}function hs(a){return a.g?a.g.readyState:0}function Ia(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case vu:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(n){return null}}function mo(a,n,o){e:{for(c in o){var c=!1;break e}c=!0}c||(o=function(a){let n="";return Qn(a,function(o,c){n+=c,n+=":",n+=o,n+="\r\n"}),n}(o),"string"==typeof a?null!=o&&encodeURIComponent(String(o)):bt(a,n,o))}function Po(a,n,o){return o&&o.internalChannelParams&&o.internalChannelParams[a]||n}function Ac(a){this.za=0,this.l=[],this.h=new Pt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Po("failFast",!1,a),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Po("baseRetryDelayMs",5e3,a),this.$a=Po("retryDelaySeedMs",1e4,a),this.Ya=Po("forwardChannelMaxRetries",2,a),this.ra=Po("forwardChannelRequestTimeoutMs",2e4,a),this.qa=a&&a.xmlHttpFactory||void 0,this.Ba=a&&a.Yb||!1,this.K=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.J="",this.i=new js(a&&a.concurrentRequestLimit),this.Ca=new ba,this.ja=a&&a.fastHandshake||!1,this.Ra=a&&a.Wb||!1,a&&a.Aa&&this.h.Aa(),a&&a.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&a&&a.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!a||!1!==a.Xb}function Gi(a){if(Hr(a),3==a.G){var n=a.V++,o=Z(a.F);bt(o,"SID",a.J),bt(o,"RID",n),bt(o,"TYPE","terminate"),No(a,o),(n=new Pi(a,a.h,n,void 0)).K=2,n.v=F(Z(o)),o=!1,be.navigator&&be.navigator.sendBeacon&&(o=be.navigator.sendBeacon(n.v.toString(),"")),!o&&be.Image&&((new Image).src=n.v,o=!0),o||(n.g=na(n.l,null),n.g.ea(n.v)),n.F=Date.now(),Ei(n)}Ws(a)}function fs(a){a.g&&(Fo(a),a.g.cancel(),a.g=null)}function Hr(a){fs(a),a.u&&(be.clearTimeout(a.u),a.u=null),di(a),a.i.cancel(),a.m&&("number"==typeof a.m&&be.clearTimeout(a.m),a.m=null)}function bu(a,n){a.l.push(new class{constructor(a,n){this.h=a,this.g=n}}(a.Za++,n)),3==a.G&&ea(a)}function ea(a){Zn(a.i)||a.m||(a.m=!0,ur(a.Ha,a),a.C=0)}function Sc(a,n){var o;o=n?n.m:a.V++;const c=Z(a.F);bt(c,"SID",a.J),bt(c,"RID",o),bt(c,"AID",a.U),No(a,c),a.o&&a.s&&mo(c,a.o,a.s),o=new Pi(a,a.h,o,a.C+1),null===a.o&&(o.H=a.s),n&&(a.l=n.D.concat(a.l)),n=yo(a,o,1e3),o.setTimeout(Math.round(.5*a.ra)+Math.round(.5*a.ra*Math.random())),ho(a.i,o),Ni(o,c,n)}function No(a,n){a.j&&ds({},function(o,c){bt(n,c,o)})}function yo(a,n,o){o=Math.min(a.l.length,o);var c=a.j?Mt(a.j.Oa,a.j,a):null;e:{var h=a.l;let _=-1;for(;;){const D=["count="+o];-1==_?0<o?(_=h[0].h,D.push("ofs="+_)):_=0:D.push("ofs="+_);let k=!0;for(let W=0;W<o;W++){let ue=h[W].h;const we=h[W].g;if(ue-=_,0>ue)_=Math.max(0,h[W].h-100),k=!1;else try{pl(we,D,"req"+ue+"_")}catch(We){c&&c(we)}}if(k){c=D.join("&");break e}}}return a=a.l.splice(0,o),n.D=a,c}function _o(a){a.g||a.u||(a.Y=1,ur(a.Ga,a),a.A=0)}function Gr(a){return!(a.g||a.u||3<=a.A||(a.Y++,a.u=lr(Mt(a.Ga,a),ki(a,a.A)),a.A++,0))}function Fo(a){null!=a.B&&(be.clearTimeout(a.B),a.B=null)}function Ka(a){a.g=new Pi(a,a.h,"rpc",a.Y),null===a.o&&(a.g.H=a.s),a.g.O=0;var n=Z(a.oa);bt(n,"RID","rpc"),bt(n,"SID",a.J),bt(n,"CI",a.N?"0":"1"),bt(n,"AID",a.U),No(a,n),bt(n,"TYPE","xmlhttp"),a.o&&a.s&&mo(n,a.o,a.s),a.K&&a.g.setTimeout(a.K);var o=a.g;a=a.la,o.K=1,o.v=F(Z(n)),o.s=null,o.U=!0,ao(o,a)}function di(a){null!=a.v&&(be.clearTimeout(a.v),a.v=null)}function qa(a,n){var o=null;if(a.g==n){di(a),Fo(a),a.g=null;var c=2}else{if(!Fr(a.i,n))return;o=n.D,$s(a.i,n),c=1}if(a.I=n.N,0!=a.G)if(n.i)if(1==c){o=n.s?n.s.length:0,n=Date.now()-n.F;var h=a.C;Nn(c=he(),new Cr(c,o,n,h)),ea(a)}else _o(a);else if(3==(h=n.o)||0==h&&0<a.I||!(1==c&&function(a,n){return!(Qo(a.i)>=a.i.j-(a.m?1:0)||(a.m?(a.l=n.D.concat(a.l),0):1==a.G||2==a.G||a.C>=(a.Xa?0:a.Ya)||(a.m=lr(Mt(a.Ha,a,n),ki(a,a.C)),a.C++,0)))}(a,n)||2==c&&Gr(a)))switch(o&&0<o.length&&(n=a.i,n.i=n.i.concat(o)),h){case 1:Yi(a,5);break;case 4:Yi(a,10);break;case 3:Yi(a,6);break;default:Yi(a,2)}}function ki(a,n){let o=a.Pa+Math.floor(Math.random()*a.$a);return a.j||(o*=2),o*n}function Yi(a,n){if(a.h.info("Error code "+n),2==n){var o=null;a.j&&(o=null);var c=Mt(a.jb,a);o||(o=new P("//www.google.com/images/cleardot.gif"),be.location&&"http"==be.location.protocol||L(o,"https"),F(o)),function(a,n){const o=new Pt;if(be.Image){const c=new Image;c.onload=tn(Gs,o,c,"TestLoadImage: loaded",!0,n),c.onerror=tn(Gs,o,c,"TestLoadImage: error",!1,n),c.onabort=tn(Gs,o,c,"TestLoadImage: abort",!1,n),c.ontimeout=tn(Gs,o,c,"TestLoadImage: timeout",!1,n),be.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=a}else n(!1)}(o.toString(),c)}else mn(2);a.G=0,a.j&&a.j.va(n),Ws(a),Hr(a)}function Ws(a){a.G=0,a.I=-1,a.j&&((0!=Cs(a.i).length||0!=a.l.length)&&(a.i.i.length=0,Re(a.l),a.l.length=0),a.j.ua())}function vo(a,n,o){let c=function(a){return a instanceof P?Z(a):new P(a,void 0)}(o);if(""!=c.i)n&&te(c,n+"."+c.i),Ie(c,c.m);else{const h=be.location;c=function(a,n,o,c){var h=new P(null,void 0);return a&&L(h,a),n&&te(h,n),o&&Ie(h,o),c&&(h.l=c),h}(h.protocol,n?n+"."+h.hostname:h.hostname,+h.port,o)}return a.aa&&Qn(a.aa,function(h,_){bt(c,_,h)}),o=a.sa,(n=a.D)&&o&&bt(c,n,o),bt(c,"VER",a.ma),No(a,c),c}function na(a,n,o){if(n&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new kr(o&&a.Ba&&!a.qa?new xs({ib:!0}):a.qa)).L=a.H,n}function Za(){}function ra(){if(Pn&&!(10<=Number(en)))throw Error("Environmental error: no available transport.")}function Ur(a,n){wn.call(this),this.g=new Ac(n),this.l=a,this.h=n&&n.messageUrlParams||null,a=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(a?a["X-WebChannel-Content-Type"]=n.messageContentType:a={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(a?a["X-WebChannel-Client-Profile"]=n.ya:a={"X-WebChannel-Client-Profile":n.ya}),this.g.P=a,(a=n&&n.httpHeadersOverwriteParam)&&!ft(a)&&(this.g.o=a),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!ft(n)&&(this.g.D=n,null!==(a=this.h)&&n in a&&n in(a=this.h)&&delete a[n]),this.j=new Oi(this)}function Da(a){qo.call(this);var n=a.__sm__;if(n){e:{for(const o in n){a=o;break e}a=void 0}(this.i=a)&&(a=this.i,n=null!==n&&a in n?n[a]:void 0),this.data=n}else this.data=a}function gl(){va.call(this),this.status=1}function Oi(a){this.g=a}(le=kr.prototype).ea=function(a,n,o,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);n=n?n.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ns.g(),this.C=function(a){return a.h||(a.h=a.i())}(this.u?this.u:ns),this.g.onreadystatechange=Mt(this.Fa,this);try{this.F=!0,this.g.open(n,String(a),!0),this.F=!1}catch(_){return void Ca(this,_)}a=o||"";const h=new ci(this.headers);c&&ds(c,function(_,D){h.set(D,_)}),c=function(a){e:{var n=Tc;const o=a.length,c="string"==typeof a?a.split(""):a;for(let h=0;h<o;h++)if(h in c&&n.call(void 0,c[h],h,a)){n=h;break e}n=-1}return 0>n?null:"string"==typeof a?a.charAt(n):a[n]}(h.T()),o=be.FormData&&a instanceof be.FormData,!(0<=zt(Eu,n))||c||o||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(_,D){this.g.setRequestHeader(D,_)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{go(this),0<this.B&&((this.K=function(a){return Pn&&Me()&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mt(this.pa,this)):this.A=ct(this.pa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(_){Ca(this,_)}},le.pa=function(){void 0!==qe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nn(this,"timeout"),this.abort(8))},le.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,Nn(this,"complete"),Nn(this,"abort"),po(this))},le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),po(this,!0)),kr.Z.M.call(this)},le.Fa=function(){this.s||(this.F||this.v||this.l?Xo(this):this.cb())},le.cb=function(){Xo(this)},le.ba=function(){try{return 2<hs(this)?this.g.status:-1}catch(a){return-1}},le.ga=function(){try{return this.g?this.g.responseText:""}catch(a){return""}},le.Qa=function(a){if(this.g){var n=this.g.responseText;return a&&0==n.indexOf(a)&&(n=n.substring(a.length)),Dc(n)}},le.Da=function(){return this.m},le.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=Ac.prototype).ma=8,le.G=1,le.hb=function(a){try{this.h.info("Origin Trials invoked: "+a)}catch(n){}},le.Ha=function(a){if(this.m)if(this.m=null,1==this.G){if(!a){this.V=Math.floor(1e5*Math.random()),a=this.V++;const h=new Pi(this,this.h,a,void 0);let _=this.s;if(this.P&&(_?(_=kn(_),Qt(_,this.P)):_=this.P),null===this.o&&(h.H=_),this.ja)e:{for(var n=0,o=0;o<this.l.length;o++){var c=this.l[o];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(n+=c)){n=o;break e}if(4096===n||o===this.l.length-1){n=o+1;break e}}n=1e3}else n=1e3;n=yo(this,h,n),bt(o=Z(this.F),"RID",a),bt(o,"CVER",22),this.D&&bt(o,"X-HTTP-Session-Id",this.D),No(this,o),this.o&&_&&mo(o,this.o,_),ho(this.i,h),this.Ra&&bt(o,"TYPE","init"),this.ja?(bt(o,"$req",n),bt(o,"SID","null"),h.$=!0,Ni(h,o,null)):Ni(h,o,n),this.G=2}}else 3==this.G&&(a?Sc(this,a):0==this.l.length||Zn(this.i)||Sc(this))},le.Ga=function(){if(this.u=null,Ka(this),this.$&&!(this.L||null==this.g||0>=this.O)){var a=2*this.O;this.h.info("BP detection timer enabled: "+a),this.B=lr(Mt(this.bb,this),a)}},le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mn(10),fs(this),Ka(this))},le.ab=function(){null!=this.v&&(this.v=null,fs(this),Gr(this),mn(19))},le.jb=function(a){a?(this.h.info("Successfully pinged google.com"),mn(2)):(this.h.info("Failed to ping google.com"),mn(1))},(le=Za.prototype).xa=function(){},le.wa=function(){},le.va=function(){},le.ua=function(){},le.Oa=function(){},ra.prototype.g=function(a,n){return new Ur(a,n)},sn(Ur,wn),Ur.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var a=this.g,n=this.l,o=this.h||void 0;a.Wa&&(a.h.info("Origin Trials enabled."),ur(Mt(a.hb,a,n))),mn(0),a.W=n,a.aa=o||{},a.N=a.X,a.F=vo(a,null,a.W),ea(a)},Ur.prototype.close=function(){Gi(this.g)},Ur.prototype.u=function(a){if("string"==typeof a){var n={};n.__data__=a,bu(this.g,n)}else this.v?((n={}).__data__=Wn(a),bu(this.g,n)):bu(this.g,a)},Ur.prototype.M=function(){this.g.j=null,delete this.j,Gi(this.g),delete this.g,Ur.Z.M.call(this)},sn(Da,qo),sn(gl,va),sn(Oi,Za),Oi.prototype.xa=function(){Nn(this.g,"a")},Oi.prototype.wa=function(a){Nn(this.g,new Da(a))},Oi.prototype.va=function(a){Nn(this.g,new gl(a))},Oi.prototype.ua=function(){Nn(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,Ur.prototype.send=Ur.prototype.u,Ur.prototype.open=Ur.prototype.m,Ur.prototype.close=Ur.prototype.close,Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,bs.COMPLETE="complete",xo.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",wn.prototype.listen=wn.prototype.N,kr.prototype.listenOnce=kr.prototype.O,kr.prototype.getLastError=kr.prototype.La,kr.prototype.getLastErrorCode=kr.prototype.Da,kr.prototype.getStatus=kr.prototype.ba,kr.prototype.getResponseJson=kr.prototype.Qa,kr.prototype.getResponseText=kr.prototype.ga,kr.prototype.send=kr.prototype.ea;var Ya=it.createWebChannelTransport=function(){return new ra},Ta=it.getStatEventTarget=function(){return he()},zs=it.ErrorCode=Xr,Rs=it.EventType=bs,Zr=it.Event=Te,Ks=it.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Qa=it.FetchXmlHttpFactory=xs,Is=it.WebChannel=xo,Aa=it.XhrIo=kr;class ti{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}ti.UNAUTHENTICATED=new ti(null),ti.GOOGLE_CREDENTIALS=new ti("google-credentials-uid"),ti.FIRST_PARTY=new ti("first-party-uid"),ti.MOCK_USER=new ti("mock-user");let Sa="9.1.0";const Ps=new St.Yd("@firebase/firestore");function ko(){return Ps.logLevel}function Ht(a,...n){if(Ps.logLevel<=St.in.DEBUG){const o=n.map(ia);Ps.debug(`Firestore (${Sa}): ${a}`,...o)}}function _r(a,...n){if(Ps.logLevel<=St.in.ERROR){const o=n.map(ia);Ps.error(`Firestore (${Sa}): ${a}`,...o)}}function ni(a,...n){if(Ps.logLevel<=St.in.WARN){const o=n.map(ia);Ps.warn(`Firestore (${Sa}): ${a}`,...o)}}function ia(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch(o){return a}}function fn(a="Unexpected state"){const n=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: `+a;throw _r(n),new Error(n)}function Dn(a,n){a||fn()}function Jt(a,n){return a}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends Error{constructor(n,o){super(o),this.code=n,this.message=o,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class w{constructor(){this.promise=new Promise((n,o)=>{this.resolve=n,this.reject=o})}}class N{constructor(n,o){this.user=o,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class U{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,o){n.enqueueRetryable(()=>o(ti.UNAUTHENTICATED))}shutdown(){}}class J{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,o){this.changeListener=o,n.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class _e{constructor(n){this.t=n,this.currentUser=ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,o){var c=this;let h=this.i;const _=ue=>this.i!==h?(h=this.i,o(ue)):Promise.resolve();let D=new w;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new w,n.enqueueRetryable(()=>_(this.currentUser))};const k=()=>{const ue=D;n.enqueueRetryable((0,ae.Z)(function*(){yield ue.promise,yield _(c.currentUser)}))},W=ue=>{Ht("FirebaseCredentialsProvider","Auth detected"),this.auth=ue,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(ue=>W(ue)),setTimeout(()=>{if(!this.auth){const ue=this.t.getImmediate({optional:!0});ue?W(ue):(Ht("FirebaseCredentialsProvider","Auth not yet detected"),D.resolve(),D=new w)}},0),k()}getToken(){const n=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(c=>this.i!==n?(Ht("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(Dn("string"==typeof c.accessToken),new N(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Dn(null===n||"string"==typeof n),new ti(n)}}class ke{constructor(n,o,c){this.h=n,this.l=o,this.m=c,this.type="FirstParty",this.user=ti.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},o=this.h.auth.getAuthHeaderValueForFirstParty([]);return o&&(n.Authorization=o),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class Ct{constructor(n,o,c){this.h=n,this.l=o,this.m=c}getToken(){return Promise.resolve(new ke(this.h,this.l,this.m))}start(n,o){n.enqueueRetryable(()=>o(ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kt{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=c=>this.g(c),this.p=c=>o.writeSequenceNumber(c))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function zn(a){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),o=new Uint8Array(a);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(o);else for(let c=0;c<a;c++)o[c]=Math.floor(256*Math.random());return o}Kt.T=-1;class An{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/n.length)*n.length;let c="";for(;c.length<20;){const h=zn(40);for(let _=0;_<h.length;++_)c.length<20&&h[_]<o&&(c+=n.charAt(h[_]%n.length))}return c}}function dn(a,n){return a<n?-1:a>n?1:0}function $n(a,n,o){return a.length===n.length&&a.every((c,h)=>o(c,n[h]))}function Li(a){return a+"\0"}class or{constructor(n,o){if(this.seconds=n,this.nanoseconds=o,o<0)throw new b(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new b(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(n<-62135596800)throw new b(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new b(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return or.fromMillis(Date.now())}static fromDate(n){return or.fromMillis(n.getTime())}static fromMillis(n){const o=Math.floor(n/1e3),c=Math.floor(1e6*(n-1e3*o));return new or(o,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?dn(this.nanoseconds,n.nanoseconds):dn(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Tn(n)}static min(){return new Tn(new or(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ns(a){let n=0;for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&n++;return n}function Ci(a,n){for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&n(o,a[o])}function Vi(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}class Eo{constructor(n,o,c){void 0===o?o=0:o>n.length&&fn(),void 0===c?c=n.length-o:c>n.length-o&&fn(),this.segments=n,this.offset=o,this.len=c}get length(){return this.len}isEqual(n){return 0===Eo.comparator(this,n)}child(n){const o=this.segments.slice(this.offset,this.limit());return n instanceof Eo?n.forEach(c=>{o.push(c)}):o.push(n),this.construct(o)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}forEach(n){for(let o=this.offset,c=this.limit();o<c;o++)n(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,o){const c=Math.min(n.length,o.length);for(let h=0;h<c;h++){const _=n.get(h),D=o.get(h);if(_<D)return-1;if(_>D)return 1}return n.length<o.length?-1:n.length>o.length?1:0}}class Ir extends Eo{construct(n,o,c){return new Ir(n,o,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const o=[];for(const c of n){if(c.indexOf("//")>=0)throw new b(C.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);o.push(...c.split("/").filter(h=>h.length>0))}return new Ir(o)}static emptyPath(){return new Ir([])}}const eh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qi extends Eo{construct(n,o,c){return new Qi(n,o,c)}static isValidIdentifier(n){return eh.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qi.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qi(["__name__"])}static fromServerFormat(n){const o=[];let c="",h=0;const _=()=>{if(0===c.length)throw new b(C.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(c),c=""};let D=!1;for(;h<n.length;){const k=n[h];if("\\"===k){if(h+1===n.length)throw new b(C.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const W=n[h+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new b(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);c+=W,h+=2}else"`"===k?(D=!D,h++):"."!==k||D?(c+=k,h++):(_(),h++)}if(_(),D)throw new b(C.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Qi(o)}static emptyPath(){return new Qi([])}}class eu{constructor(n){this.fields=n,n.sort(Qi.comparator)}covers(n){for(const o of this.fields)if(o.isPrefixOf(n))return!0;return!1}isEqual(n){return $n(this.fields,n.fields,(o,c)=>o.isEqual(c))}}class Ui{constructor(n){this.binaryString=n}static fromBase64String(n){const o=atob(n);return new Ui(o)}static fromUint8Array(n){const o=function(c){let h="";for(let _=0;_<c.length;++_)h+=String.fromCharCode(c[_]);return h}(n);return new Ui(o)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let c=0;c<n.length;c++)o[c]=n.charCodeAt(c);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return dn(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const ml=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(a){if(Dn(!!a),"string"==typeof a){let n=0;const o=ml.exec(a);if(Dn(!!o),o[1]){let h=o[1];h=(h+"000000000").substr(0,9),n=Number(h)}const c=new Date(a);return{seconds:Math.floor(c.getTime()/1e3),nanos:n}}return{seconds:hi(a.seconds),nanos:hi(a.nanos)}}function hi(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function wu(a){return"string"==typeof a?Ui.fromBase64String(a):Ui.fromUint8Array(a)}function zu(a){var n,o;return"server_timestamp"===(null===(o=((null===(n=null==a?void 0:a.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function ed(a){const n=a.mapValue.fields.__previous_value__;return zu(n)?ed(n):n}function xa(a){const n=Oa(a.mapValue.fields.__local_write_time__.timestampValue);return new or(n.seconds,n.nanos)}function sa(a){return null==a}function tu(a){return 0===a&&1/a==-1/0}function nu(a){return"number"==typeof a&&Number.isInteger(a)&&!tu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}class pn{constructor(n){this.path=n}static fromPath(n){return new pn(Ir.fromString(n))}static fromName(n){return new pn(Ir.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===Ir.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,o){return Ir.comparator(n.path,o.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new pn(new Ir(n.slice()))}}function oa(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?zu(a)?4:10:fn()}function dr(a,n){const o=oa(a);if(o!==oa(n))return!1;switch(o){case 0:return!0;case 1:return a.booleanValue===n.booleanValue;case 4:return xa(a).isEqual(xa(n));case 3:return function(c,h){if("string"==typeof c.timestampValue&&"string"==typeof h.timestampValue&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const _=Oa(c.timestampValue),D=Oa(h.timestampValue);return _.seconds===D.seconds&&_.nanos===D.nanos}(a,n);case 5:return a.stringValue===n.stringValue;case 6:return h=n,wu(a.bytesValue).isEqual(wu(h.bytesValue));case 7:return a.referenceValue===n.referenceValue;case 8:return function(c,h){return hi(c.geoPointValue.latitude)===hi(h.geoPointValue.latitude)&&hi(c.geoPointValue.longitude)===hi(h.geoPointValue.longitude)}(a,n);case 2:return function(c,h){if("integerValue"in c&&"integerValue"in h)return hi(c.integerValue)===hi(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const _=hi(c.doubleValue),D=hi(h.doubleValue);return _===D?tu(_)===tu(D):isNaN(_)&&isNaN(D)}return!1}(a,n);case 9:return $n(a.arrayValue.values||[],n.arrayValue.values||[],dr);case 10:return function(c,h){const _=c.mapValue.fields||{},D=h.mapValue.fields||{};if(Ns(_)!==Ns(D))return!1;for(const k in _)if(_.hasOwnProperty(k)&&(void 0===D[k]||!dr(_[k],D[k])))return!1;return!0}(a,n);default:return fn()}var h}function qs(a,n){return void 0!==(a.values||[]).find(o=>dr(o,n))}function ps(a,n){const o=oa(a),c=oa(n);if(o!==c)return dn(o,c);switch(o){case 0:return 0;case 1:return dn(a.booleanValue,n.booleanValue);case 2:return function(h,_){const D=hi(h.integerValue||h.doubleValue),k=hi(_.integerValue||_.doubleValue);return D<k?-1:D>k?1:D===k?0:isNaN(D)?isNaN(k)?0:-1:1}(a,n);case 3:return yl(a.timestampValue,n.timestampValue);case 4:return yl(xa(a),xa(n));case 5:return dn(a.stringValue,n.stringValue);case 6:return function(h,_){const D=wu(h),k=wu(_);return D.compareTo(k)}(a.bytesValue,n.bytesValue);case 7:return function(h,_){const D=h.split("/"),k=_.split("/");for(let W=0;W<D.length&&W<k.length;W++){const ue=dn(D[W],k[W]);if(0!==ue)return ue}return dn(D.length,k.length)}(a.referenceValue,n.referenceValue);case 8:return function(h,_){const D=dn(hi(h.latitude),hi(_.latitude));return 0!==D?D:dn(hi(h.longitude),hi(_.longitude))}(a.geoPointValue,n.geoPointValue);case 9:return function(h,_){const D=h.values||[],k=_.values||[];for(let W=0;W<D.length&&W<k.length;++W){const ue=ps(D[W],k[W]);if(ue)return ue}return dn(D.length,k.length)}(a.arrayValue,n.arrayValue);case 10:return function(h,_){const D=h.fields||{},k=Object.keys(D),W=_.fields||{},ue=Object.keys(W);k.sort(),ue.sort();for(let we=0;we<k.length&&we<ue.length;++we){const We=dn(k[we],ue[we]);if(0!==We)return We;const _t=ps(D[k[we]],W[ue[we]]);if(0!==_t)return _t}return dn(k.length,ue.length)}(a.mapValue,n.mapValue);default:throw fn()}}function yl(a,n){if("string"==typeof a&&"string"==typeof n&&a.length===n.length)return dn(a,n);const o=Oa(a),c=Oa(n),h=dn(o.seconds,c.seconds);return 0!==h?h:dn(o.nanos,c.nanos)}function Oc(a){return gs(a)}function gs(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(c){const h=Oa(c);return`time(${h.seconds},${h.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?wu(a.bytesValue).toBase64():"referenceValue"in a?pn.fromName(a.referenceValue).toString():"geoPointValue"in a?`geo(${(n=a.geoPointValue).latitude},${n.longitude})`:"arrayValue"in a?function(c){let h="[",_=!0;for(const D of c.values||[])_?_=!1:h+=",",h+=gs(D);return h+"]"}(a.arrayValue):"mapValue"in a?function(c){const h=Object.keys(c.fields||{}).sort();let _="{",D=!0;for(const k of h)D?D=!1:_+=",",_+=`${k}:${gs(c.fields[k])}`;return _+"}"}(a.mapValue):fn();var n}function Bi(a,n){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${n.path.canonicalString()}`}}function Lo(a){return!!a&&"integerValue"in a}function bo(a){return!!a&&"arrayValue"in a}function Vo(a){return!!a&&"nullValue"in a}function Uo(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ru(a){return!!a&&"mapValue"in a}function Zs(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const n={mapValue:{fields:{}}};return Ci(a.mapValue.fields,(o,c)=>n.mapValue.fields[o]=Zs(c)),n}if(a.arrayValue){const n={arrayValue:{values:[]}};for(let o=0;o<(a.arrayValue.values||[]).length;++o)n.arrayValue.values[o]=Zs(a.arrayValue.values[o]);return n}return Object.assign({},a)}class Ji{constructor(n){this.value=n}static empty(){return new Ji({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let o=this.value;for(let c=0;c<n.length-1;++c)if(o=(o.mapValue.fields||{})[n.get(c)],!ru(o))return null;return o=(o.mapValue.fields||{})[n.lastSegment()],o||null}}set(n,o){this.getFieldsMap(n.popLast())[n.lastSegment()]=Zs(o)}setAll(n){let o=Qi.emptyPath(),c={},h=[];n.forEach((D,k)=>{if(!o.isImmediateParentOf(k)){const W=this.getFieldsMap(o);this.applyChanges(W,c,h),c={},h=[],o=k.popLast()}D?c[k.lastSegment()]=Zs(D):h.push(k.lastSegment())});const _=this.getFieldsMap(o);this.applyChanges(_,c,h)}delete(n){const o=this.field(n.popLast());ru(o)&&o.mapValue.fields&&delete o.mapValue.fields[n.lastSegment()]}isEqual(n){return dr(this.value,n.value)}getFieldsMap(n){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let c=0;c<n.length;++c){let h=o.mapValue.fields[n.get(c)];ru(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},o.mapValue.fields[n.get(c)]=h),o=h}return o.mapValue.fields}applyChanges(n,o,c){Ci(o,(h,_)=>n[h]=_);for(const h of c)delete n[h]}clone(){return new Ji(Zs(this.value))}}function th(a){const n=[];return Ci(a.fields,(o,c)=>{const h=new Qi([o]);if(ru(c)){const _=th(c.mapValue).fields;if(0===_.length)n.push(h);else for(const D of _)n.push(h.child(D))}else n.push(h)}),new eu(n)}class Ar{constructor(n,o,c,h,_){this.key=n,this.documentType=o,this.version=c,this.data=h,this.documentState=_}static newInvalidDocument(n){return new Ar(n,0,Tn.min(),Ji.empty(),0)}static newFoundDocument(n,o,c){return new Ar(n,1,o,c,0)}static newNoDocument(n,o){return new Ar(n,2,o,Ji.empty(),0)}static newUnknownDocument(n,o){return new Ar(n,3,o,Ji.empty(),2)}convertToFoundDocument(n,o){return this.version=n,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Ji.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Ar&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new Ar(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ss{constructor(n,o=null,c=[],h=[],_=null,D=null,k=null){this.path=n,this.collectionGroup=o,this.orderBy=c,this.filters=h,this.limit=_,this.startAt=D,this.endAt=k,this.A=null}}function Ku(a,n=null,o=[],c=[],h=null,_=null,D=null){return new ss(a,n,o,c,h,_,D)}function Ys(a){const n=Jt(a);if(null===n.A){let o=n.path.canonicalString();null!==n.collectionGroup&&(o+="|cg:"+n.collectionGroup),o+="|f:",o+=n.filters.map(c=>function(a){return a.field.canonicalString()+a.op.toString()+Oc(a.value)}(c)).join(","),o+="|ob:",o+=n.orderBy.map(c=>{return(h=c).field.canonicalString()+h.dir;var h}).join(","),sa(n.limit)||(o+="|l:",o+=n.limit),n.startAt&&(o+="|lb:",o+=Ma(n.startAt)),n.endAt&&(o+="|ub:",o+=Ma(n.endAt)),n.A=o}return n.A}function V(a,n){if(a.limit!==n.limit||a.orderBy.length!==n.orderBy.length)return!1;for(let h=0;h<a.orderBy.length;h++)if(!Ra(a.orderBy[h],n.orderBy[h]))return!1;if(a.filters.length!==n.filters.length)return!1;for(let h=0;h<a.filters.length;h++)if((o=a.filters[h]).op!==(c=n.filters[h]).op||!o.field.isEqual(c.field)||!dr(o.value,c.value))return!1;var o,c;return a.collectionGroup===n.collectionGroup&&!!a.path.isEqual(n.path)&&!!ua(a.startAt,n.startAt)&&ua(a.endAt,n.endAt)}function X(a){return pn.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}class pe extends class{}{constructor(n,o,c){super(),this.field=n,this.op=o,this.value=c}static create(n,o,c){return n.isKeyField()?"in"===o||"not-in"===o?this.R(n,o,c):new yt(n,o,c):"array-contains"===o?new ar(n,c):"in"===o?new Lr(n,c):"not-in"===o?new Wi(n,c):"array-contains-any"===o?new ms(n,c):new pe(n,o,c)}static R(n,o,c){return"in"===o?new kt(n,c):new un(n,c)}matches(n){const o=n.data.field(this.field);return"!="===this.op?null!==o&&this.P(ps(o,this.value)):null!==o&&oa(this.value)===oa(o)&&this.P(ps(o,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return fn()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class yt extends pe{constructor(n,o,c){super(n,o,c),this.key=pn.fromName(c.referenceValue)}matches(n){const o=pn.comparator(n.key,this.key);return this.P(o)}}class kt extends pe{constructor(n,o){super(n,"in",o),this.keys=cn(0,o)}matches(n){return this.keys.some(o=>o.isEqual(n.key))}}class un extends pe{constructor(n,o){super(n,"not-in",o),this.keys=cn(0,o)}matches(n){return!this.keys.some(o=>o.isEqual(n.key))}}function cn(a,n){var o;return((null===(o=n.arrayValue)||void 0===o?void 0:o.values)||[]).map(c=>pn.fromName(c.referenceValue))}class ar extends pe{constructor(n,o){super(n,"array-contains",o)}matches(n){const o=n.data.field(this.field);return bo(o)&&qs(o.arrayValue,this.value)}}class Lr extends pe{constructor(n,o){super(n,"in",o)}matches(n){const o=n.data.field(this.field);return null!==o&&qs(this.value.arrayValue,o)}}class Wi extends pe{constructor(n,o){super(n,"not-in",o)}matches(n){if(qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=n.data.field(this.field);return null!==o&&!qs(this.value.arrayValue,o)}}class ms extends pe{constructor(n,o){super(n,"array-contains-any",o)}matches(n){const o=n.data.field(this.field);return!(!bo(o)||!o.arrayValue.values)&&o.arrayValue.values.some(c=>qs(this.value.arrayValue,c))}}class Sr{constructor(n,o){this.position=n,this.before=o}}function Ma(a){return`${a.before?"b":"a"}:${a.position.map(n=>Oc(n)).join(",")}`}class aa{constructor(n,o="asc"){this.field=n,this.dir=o}}function Ra(a,n){return a.dir===n.dir&&a.field.isEqual(n.field)}function wo(a,n,o){let c=0;for(let h=0;h<a.position.length;h++){const _=n[h],D=a.position[h];if(c=_.field.isKeyField()?pn.comparator(pn.fromName(D.referenceValue),o.key):ps(D,o.data.field(_.field)),"desc"===_.dir&&(c*=-1),0!==c)break}return a.before?c<=0:c<0}function ua(a,n){if(null===a)return null===n;if(null===n||a.before!==n.before||a.position.length!==n.position.length)return!1;for(let o=0;o<a.position.length;o++)if(!dr(a.position[o],n.position[o]))return!1;return!0}class os{constructor(n,o=null,c=[],h=[],_=null,D="F",k=null,W=null){this.path=n,this.collectionGroup=o,this.explicitOrderBy=c,this.filters=h,this.limit=_,this.limitType=D,this.startAt=k,this.endAt=W,this.V=null,this.S=null}}function iu(a,n,o,c,h,_,D,k){return new os(a,n,o,c,h,_,D,k)}function Co(a){return new os(a)}function qu(a){return!sa(a.limit)&&"F"===a.limitType}function fi(a){return!sa(a.limit)&&"L"===a.limitType}function xc(a){return a.explicitOrderBy.length>0?a.explicitOrderBy[0].field:null}function td(a){for(const n of a.filters)if(n.v())return n.field;return null}function ca(a){return null!==a.collectionGroup}function la(a){const n=Jt(a);if(null===n.V){n.V=[];const o=td(n),c=xc(n);if(null!==o&&null===c)o.isKeyField()||n.V.push(new aa(o)),n.V.push(new aa(Qi.keyField(),"asc"));else{let h=!1;for(const _ of n.explicitOrderBy)n.V.push(_),_.field.isKeyField()&&(h=!0);if(!h){const _=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new aa(Qi.keyField(),_))}}}return n.V}function Qs(a){const n=Jt(a);if(!n.S)if("F"===n.limitType)n.S=Ku(n.path,n.collectionGroup,la(n),n.filters,n.limit,n.startAt,n.endAt);else{const o=[];for(const _ of la(n))o.push(new aa(_.field,"desc"===_.dir?"asc":"desc"));const c=n.endAt?new Sr(n.endAt.position,!n.endAt.before):null,h=n.startAt?new Sr(n.startAt.position,!n.startAt.before):null;n.S=Ku(n.path,n.collectionGroup,o,n.filters,n.limit,c,h)}return n.S}function Mc(a,n,o){return new os(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),n,o,a.startAt,a.endAt)}function Zu(a,n){return V(Qs(a),Qs(n))&&a.limitType===n.limitType}function $f(a){return`${Ys(Qs(a))}|lt:${a.limitType}`}function su(a){return`Query(target=${function(a){let n=a.path.canonicalString();return null!==a.collectionGroup&&(n+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(n+=`, filters: [${a.filters.map(o=>{return`${(c=o).field.canonicalString()} ${c.op} ${Oc(c.value)}`;var c}).join(", ")}]`),sa(a.limit)||(n+=", limit: "+a.limit),a.orderBy.length>0&&(n+=`, orderBy: [${a.orderBy.map(o=>{return`${(c=o).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),a.startAt&&(n+=", startAt: "+Ma(a.startAt)),a.endAt&&(n+=", endAt: "+Ma(a.endAt)),`Target(${n})`}(Qs(a))}; limitType=${a.limitType})`}function Ds(a,n){return n.isFoundDocument()&&function(o,c){const h=c.key.path;return null!==o.collectionGroup?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(h):pn.isDocumentKey(o.path)?o.path.isEqual(h):o.path.isImmediateParentOf(h)}(a,n)&&function(o,c){for(const h of o.explicitOrderBy)if(!h.field.isKeyField()&&null===c.data.field(h.field))return!1;return!0}(a,n)&&function(o,c){for(const h of o.filters)if(!h.matches(c))return!1;return!0}(a,n)&&(c=n,!((o=a).startAt&&!wo(o.startAt,la(o),c)||o.endAt&&wo(o.endAt,la(o),c)));var o,c}function Yu(a){return(n,o)=>{let c=!1;for(const h of la(a)){const _=ou(h,n,o);if(0!==_)return _;c=c||h.field.isKeyField()}return 0}}function ou(a,n,o){const c=a.field.isKeyField()?pn.comparator(n.key,o.key):function(h,_,D){const k=_.data.field(h),W=D.data.field(h);return null!==k&&null!==W?ps(k,W):fn()}(a.field,n,o);switch(a.dir){case"asc":return c;case"desc":return-1*c;default:return fn()}}function nd(a,n){if(a.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(n)?"-0":n}}function rd(a){return{integerValue:""+a}}function Cu(a,n){return nu(n)?rd(n):nd(a,n)}class Iu{constructor(){this._=void 0}}function nh(a,n,o){return a instanceof Bo?function(c,h){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&(_.fields.__previous_value__=h),{mapValue:_}}(o,n):a instanceof jo?ih(a,n):a instanceof Qu?Rc(a,n):function(c,h){const _=rh(c,h),D=Gf(_)+Gf(c.C);return Lo(_)&&Lo(c.C)?rd(D):nd(c.N,D)}(a,n)}function Hf(a,n,o){return a instanceof jo?ih(a,n):a instanceof Qu?Rc(a,n):o}function rh(a,n){return a instanceof Ju?Lo(o=n)||(c=o)&&"doubleValue"in c?n:{integerValue:0}:null;var c,o}class Bo extends Iu{}class jo extends Iu{constructor(n){super(),this.elements=n}}function ih(a,n){const o=sh(n);for(const c of a.elements)o.some(h=>dr(h,c))||o.push(c);return{arrayValue:{values:o}}}class Qu extends Iu{constructor(n){super(),this.elements=n}}function Rc(a,n){let o=sh(n);for(const c of a.elements)o=o.filter(h=>!dr(h,c));return{arrayValue:{values:o}}}class Ju extends Iu{constructor(n,o){super(),this.N=n,this.C=o}}function Gf(a){return hi(a.integerValue||a.doubleValue)}function sh(a){return bo(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Pc{constructor(n,o){this.field=n,this.transform=o}}class Nc{constructor(n,o){this.version=n,this.transformResults=o}}class Ii{constructor(n,o){this.updateTime=n,this.exists=o}static none(){return new Ii}static exists(n){return new Ii(void 0,n)}static updateTime(n){return new Ii(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Pa(a,n){return void 0!==a.updateTime?n.isFoundDocument()&&n.version.isEqual(a.updateTime):void 0===a.exists||a.exists===n.isFoundDocument()}class _l{}function zf(a,n,o){a instanceof Du?function(c,h,_){const D=c.value.clone(),k=oh(c.fieldTransforms,h,_.transformResults);D.setAll(k),h.convertToFoundDocument(_.version,D).setHasCommittedMutations()}(a,n,o):a instanceof Na?function(c,h,_){if(!Pa(c.precondition,h))return void h.convertToUnknownDocument(_.version);const D=oh(c.fieldTransforms,h,_.transformResults),k=h.data;k.setAll(da(c)),k.setAll(D),h.convertToFoundDocument(_.version,k).setHasCommittedMutations()}(a,n,o):n.convertToNoDocument(o.version).setHasCommittedMutations()}function vl(a,n,o){var h;a instanceof Du?function(c,h,_){if(!Pa(c.precondition,h))return;const D=c.value.clone(),k=ah(c.fieldTransforms,_,h);D.setAll(k),h.convertToFoundDocument(id(h),D).setHasLocalMutations()}(a,n,o):a instanceof Na?function(c,h,_){if(!Pa(c.precondition,h))return;const D=ah(c.fieldTransforms,_,h),k=h.data;k.setAll(da(c)),k.setAll(D),h.convertToFoundDocument(id(h),k).setHasLocalMutations()}(a,n,o):Pa(a.precondition,h=n)&&h.convertToNoDocument(Tn.min())}function El(a,n){let o=null;for(const c of a.fieldTransforms){const h=n.data.field(c.field),_=rh(c.transform,h||null);null!=_&&(null==o&&(o=Ji.empty()),o.set(c.field,_))}return o||null}function Xu(a,n){return a.type===n.type&&!!a.key.isEqual(n.key)&&!!a.precondition.isEqual(n.precondition)&&(c=n.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===c||o&&c&&$n(o,c,(h,_)=>function(a,n){return a.field.isEqual(n.field)&&(c=n.transform,(o=a.transform)instanceof jo&&c instanceof jo||o instanceof Qu&&c instanceof Qu?$n(o.elements,c.elements,dr):o instanceof Ju&&c instanceof Ju?dr(o.C,c.C):o instanceof Bo&&c instanceof Bo);var o,c}(h,_))))&&(0===a.type?a.value.isEqual(n.value):1!==a.type||a.data.isEqual(n.data)&&a.fieldMask.isEqual(n.fieldMask));var o,c}function id(a){return a.isFoundDocument()?a.version:Tn.min()}class Du extends _l{constructor(n,o,c,h=[]){super(),this.key=n,this.value=o,this.precondition=c,this.fieldTransforms=h,this.type=0}}class Na extends _l{constructor(n,o,c,h,_=[]){super(),this.key=n,this.data=o,this.fieldMask=c,this.precondition=h,this.fieldTransforms=_,this.type=1}}function da(a){const n=new Map;return a.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const c=a.data.field(o);n.set(o,c)}}),n}function oh(a,n,o){const c=new Map;Dn(a.length===o.length);for(let h=0;h<o.length;h++){const _=a[h],D=_.transform,k=n.data.field(_.field);c.set(_.field,Hf(D,k,o[h]))}return c}function ah(a,n,o){const c=new Map;for(const h of a){const _=h.transform,D=o.data.field(h.field);c.set(h.field,nh(_,D,n))}return c}class Fc extends _l{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=2,this.fieldTransforms=[]}}class sd extends _l{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=3,this.fieldTransforms=[]}}class Kf{constructor(n){this.count=n}}var Br,sr;function Fa(a){switch(a){case C.OK:return fn();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0;default:return fn()}}function uh(a){if(void 0===a)return _r("GRPC error has no .code"),C.UNKNOWN;switch(a){case Br.OK:return C.OK;case Br.CANCELLED:return C.CANCELLED;case Br.UNKNOWN:return C.UNKNOWN;case Br.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Br.INTERNAL:return C.INTERNAL;case Br.UNAVAILABLE:return C.UNAVAILABLE;case Br.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Br.NOT_FOUND:return C.NOT_FOUND;case Br.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Br.ABORTED:return C.ABORTED;case Br.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Br.DATA_LOSS:return C.DATA_LOSS;default:return fn()}}(sr=Br||(Br={}))[sr.OK=0]="OK",sr[sr.CANCELLED=1]="CANCELLED",sr[sr.UNKNOWN=2]="UNKNOWN",sr[sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sr[sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sr[sr.NOT_FOUND=5]="NOT_FOUND",sr[sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",sr[sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",sr[sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",sr[sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sr[sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sr[sr.ABORTED=10]="ABORTED",sr[sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",sr[sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",sr[sr.INTERNAL=13]="INTERNAL",sr[sr.UNAVAILABLE=14]="UNAVAILABLE",sr[sr.DATA_LOSS=15]="DATA_LOSS";class zi{constructor(n,o){this.comparator=n,this.root=o||as.EMPTY}insert(n,o){return new zi(this.comparator,this.root.insert(n,o,this.comparator).copy(null,null,as.BLACK,null,null))}remove(n){return new zi(this.comparator,this.root.remove(n,this.comparator).copy(null,null,as.BLACK,null,null))}get(n){let o=this.root;for(;!o.isEmpty();){const c=this.comparator(n,o.key);if(0===c)return o.value;c<0?o=o.left:c>0&&(o=o.right)}return null}indexOf(n){let o=0,c=this.root;for(;!c.isEmpty();){const h=this.comparator(n,c.key);if(0===h)return o+c.left.size;h<0?c=c.left:(o+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((o,c)=>(n(o,c),!1))}toString(){const n=[];return this.inorderTraversal((o,c)=>(n.push(`${o}:${c}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new ec(this.root,n,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new ec(this.root,n,this.comparator,!0)}}class ec{constructor(n,o,c,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!n.isEmpty();)if(_=o?c(n.key,o):1,h&&(_*=-1),_<0)n=this.isReverse?n.left:n.right;else{if(0===_){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const o={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class as{constructor(n,o,c,h,_){this.key=n,this.value=o,this.color=null!=c?c:as.RED,this.left=null!=h?h:as.EMPTY,this.right=null!=_?_:as.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,o,c,h,_){return new as(null!=n?n:this.key,null!=o?o:this.value,null!=c?c:this.color,null!=h?h:this.left,null!=_?_:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,o,c){let h=this;const _=c(n,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(n,o,c),null):0===_?h.copy(null,o,null,null,null):h.copy(null,null,null,null,h.right.insert(n,o,c)),h.fixUp()}removeMin(){if(this.left.isEmpty())return as.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,o){let c,h=this;if(o(n,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(n,o),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===o(n,h.key)){if(h.right.isEmpty())return as.EMPTY;c=h.right.min(),h=h.copy(c.key,c.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(n,o))}return h.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,as.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,as.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,o)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fn();const n=this.left.check();if(n!==this.right.check())throw fn();return n+(this.isRed()?0:1)}}as.EMPTY=null,as.RED=!0,as.BLACK=!1,as.EMPTY=new class{constructor(){this.size=0}get key(){throw fn()}get value(){throw fn()}get color(){throw fn()}get left(){throw fn()}get right(){throw fn()}copy(a,n,o,c,h){return this}insert(a,n,o){return new as(a,n)}remove(a,n){return this}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ri{constructor(n){this.comparator=n,this.data=new zi(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((o,c)=>(n(o),!1))}forEachInRange(n,o){const c=this.data.getIteratorFrom(n[0]);for(;c.hasNext();){const h=c.getNext();if(this.comparator(h.key,n[1])>=0)return;o(h.key)}}forEachWhile(n,o){let c;for(c=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();c.hasNext();)if(!n(c.getNext().key))return}firstAfterOrEqual(n){const o=this.data.getIteratorFrom(n);return o.hasNext()?o.getNext().key:null}getIterator(){return new od(this.data.getIterator())}getIteratorFrom(n){return new od(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let o=this;return o.size<n.size&&(o=n,n=this),n.forEach(c=>{o=o.add(c)}),o}isEqual(n){if(!(n instanceof ri)||this.size!==n.size)return!1;const o=this.data.getIterator(),c=n.data.getIterator();for(;o.hasNext();){const h=o.getNext().key,_=c.getNext().key;if(0!==this.comparator(h,_))return!1}return!0}toArray(){const n=[];return this.forEach(o=>{n.push(o)}),n}toString(){const n=[];return this.forEach(o=>n.push(o)),"SortedSet("+n.toString()+")"}copy(n){const o=new ri(this.comparator);return o.data=n,o}}class od{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const qf=new zi(pn.comparator);function Fs(){return qf}const Zf=new zi(pn.comparator);function ad(){return Zf}const ch=new zi(pn.comparator);function lh(){return ch}const kc=new ri(pn.comparator);function Or(...a){let n=kc;for(const o of a)n=n.add(o);return n}const ha=new ri(dn);function au(){return ha}class Tu{constructor(n,o,c,h,_){this.snapshotVersion=n,this.targetChanges=o,this.targetMismatches=c,this.documentUpdates=h,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(n,o){const c=new Map;return c.set(n,uu.createSynthesizedTargetChangeForCurrentChange(n,o)),new Tu(Tn.min(),c,au(),Fs(),Or())}}class uu{constructor(n,o,c,h,_){this.resumeToken=n,this.current=o,this.addedDocuments=c,this.modifiedDocuments=h,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(n,o){return new uu(Ui.EMPTY_BYTE_STRING,o,Or(),Or(),Or())}}class Lc{constructor(n,o,c,h){this.k=n,this.removedTargetIds=o,this.key=c,this.$=h}}class Yf{constructor(n,o){this.targetId=n,this.O=o}}class ud{constructor(n,o,c=Ui.EMPTY_BYTE_STRING,h=null){this.state=n,this.targetIds=o,this.resumeToken=c,this.cause=h}}class cd{constructor(){this.F=0,this.M=Au(),this.L=Ui.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=Or(),o=Or(),c=Or();return this.M.forEach((h,_)=>{switch(_){case 0:n=n.add(h);break;case 2:o=o.add(h);break;case 1:c=c.add(h);break;default:fn()}}),new uu(this.L,this.B,n,o,c)}G(){this.U=!1,this.M=Au()}H(n,o){this.U=!0,this.M=this.M.insert(n,o)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class ld{constructor(n){this.tt=n,this.et=new Map,this.nt=Fs(),this.st=bl(),this.it=new ri(dn)}rt(n){for(const o of n.k)n.$&&n.$.isFoundDocument()?this.ot(o,n.$):this.at(o,n.key,n.$);for(const o of n.removedTargetIds)this.at(o,n.key,n.$)}ct(n){this.forEachTarget(n,o=>{const c=this.ut(o);switch(n.state){case 0:this.ht(o)&&c.j(n.resumeToken);break;case 1:c.X(),c.q||c.G(),c.j(n.resumeToken);break;case 2:c.X(),c.q||this.removeTarget(o);break;case 3:this.ht(o)&&(c.Z(),c.j(n.resumeToken));break;case 4:this.ht(o)&&(this.lt(o),c.j(n.resumeToken));break;default:fn()}})}forEachTarget(n,o){n.targetIds.length>0?n.targetIds.forEach(o):this.et.forEach((c,h)=>{this.ht(h)&&o(h)})}ft(n){const o=n.targetId,c=n.O.count,h=this.dt(o);if(h){const _=h.target;if(X(_))if(0===c){const D=new pn(_.path);this.at(o,D,Ar.newNoDocument(D,Tn.min()))}else Dn(1===c);else this.wt(o)!==c&&(this.lt(o),this.it=this.it.add(o))}}_t(n){const o=new Map;this.et.forEach((_,D)=>{const k=this.dt(D);if(k){if(_.current&&X(k.target)){const W=new pn(k.target.path);null!==this.nt.get(W)||this.gt(D,W)||this.at(D,W,Ar.newNoDocument(W,n))}_.K&&(o.set(D,_.W()),_.G())}});let c=Or();this.st.forEach((_,D)=>{let k=!0;D.forEachWhile(W=>{const ue=this.dt(W);return!ue||2===ue.purpose||(k=!1,!1)}),k&&(c=c.add(_))});const h=new Tu(n,o,this.it,this.nt,c);return this.nt=Fs(),this.st=bl(),this.it=new ri(dn),h}ot(n,o){if(!this.ht(n))return;const c=this.gt(n,o.key)?2:0;this.ut(n).H(o.key,c),this.nt=this.nt.insert(o.key,o),this.st=this.st.insert(o.key,this.yt(o.key).add(n))}at(n,o,c){if(!this.ht(n))return;const h=this.ut(n);this.gt(n,o)?h.H(o,1):h.J(o),this.st=this.st.insert(o,this.yt(o).delete(n)),c&&(this.nt=this.nt.insert(o,c))}removeTarget(n){this.et.delete(n)}wt(n){const o=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+o.addedDocuments.size-o.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let o=this.et.get(n);return o||(o=new cd,this.et.set(n,o)),o}yt(n){let o=this.st.get(n);return o||(o=new ri(dn),this.st=this.st.insert(n,o)),o}ht(n){const o=null!==this.dt(n);return o||Ht("WatchChangeAggregator","Detected inactive target",n),o}dt(n){const o=this.et.get(n);return o&&o.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new cd),this.tt.getRemoteKeysForTarget(n).forEach(o=>{this.at(n,o,null)})}gt(n,o){return this.tt.getRemoteKeysForTarget(n).has(o)}}function bl(){return new zi(pn.comparator)}function Au(){return new zi(pn.comparator)}const nm={asc:"ASCENDING",desc:"DESCENDING"},rm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class dh{constructor(n,o){this.databaseId=n,this.D=o}}function tc(a,n){return a.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function hh(a,n){return a.D?n.toBase64():n.toUint8Array()}function Qf(a,n){return tc(a,n.toTimestamp())}function Xi(a){return Dn(!!a),Tn.fromTimestamp(function(n){const o=Oa(n);return new or(o.seconds,o.nanos)}(a))}function wl(a,n){return(o=a,new Ir(["projects",o.projectId,"databases",o.database])).child("documents").child(n).canonicalString();var o}function cu(a){const n=Ir.fromString(a);return Dn(_s(n)),n}function nc(a,n){return wl(a.databaseId,n.path)}function Js(a,n){const o=cu(n);if(o.get(1)!==a.databaseId.projectId)throw new b(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+a.databaseId.projectId);if(o.get(3)!==a.databaseId.database)throw new b(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+a.databaseId.database);return new pn(fh(o))}function dd(a,n){return wl(a.databaseId,n)}function pi(a){const n=cu(a);return 4===n.length?Ir.emptyPath():fh(n)}function Vc(a){return new Ir(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function fh(a){return Dn(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function Uc(a,n,o){return{name:nc(a,n),fields:o.value.mapValue.fields}}function Bc(a,n,o){const c=Js(a,n.name),h=Xi(n.updateTime),_=new Ji({mapValue:{fields:n.fields}}),D=Ar.newFoundDocument(c,h,_);return o&&D.setHasCommittedMutations(),o?D.setHasCommittedMutations():D}function Cl(a,n){let o;if(n instanceof Du)o={update:Uc(a,n.key,n.value)};else if(n instanceof Fc)o={delete:nc(a,n.key)};else if(n instanceof Na)o={update:Uc(a,n.key,n.data),updateMask:yh(n.fieldMask)};else{if(!(n instanceof sd))return fn();o={verify:nc(a,n.key)}}return n.fieldTransforms.length>0&&(o.updateTransforms=n.fieldTransforms.map(c=>function(h,_){const D=_.transform;if(D instanceof Bo)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof jo)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Qu)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Ju)return{fieldPath:_.field.canonicalString(),increment:D.C};throw fn()}(0,c))),n.precondition.isNone||(o.currentDocument=void 0!==(h=n.precondition).updateTime?{updateTime:Qf(a,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:fn()),o;var h}function Il(a,n){const o=n.currentDocument?void 0!==(h=n.currentDocument).updateTime?Ii.updateTime(Xi(h.updateTime)):void 0!==h.exists?Ii.exists(h.exists):Ii.none():Ii.none(),c=n.updateTransforms?n.updateTransforms.map(h=>function(_,D){let k=null;"setToServerValue"in D?(Dn("REQUEST_TIME"===D.setToServerValue),k=new Bo):"appendMissingElements"in D?k=new jo(D.appendMissingElements.values||[]):"removeAllFromArray"in D?k=new Qu(D.removeAllFromArray.values||[]):"increment"in D?k=new Ju(_,D.increment):fn();const W=Qi.fromServerFormat(D.fieldPath);return new Pc(W,k)}(a,h)):[];var h;if(n.update){const h=Js(a,n.update.name),_=new Ji({mapValue:{fields:n.update.fields}});if(n.updateMask){const D=new eu((n.updateMask.fieldPaths||[]).map(ue=>Qi.fromServerFormat(ue)));return new Na(h,_,D,o,c)}return new Du(h,_,o,c)}if(n.delete){const h=Js(a,n.delete);return new Fc(h,o)}if(n.verify){const h=Js(a,n.verify);return new sd(h,o)}return fn()}function jc(a,n){return{documents:[dd(a,n.path)]}}function gh(a,n){const o={structuredQuery:{}},c=n.path;null!==n.collectionGroup?(o.parent=dd(a,c),o.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(o.parent=dd(a,c.popLast()),o.structuredQuery.from=[{collectionId:c.lastSegment()}]);const h=function(k){if(0===k.length)return;const W=k.map(ue=>function(we){if("=="===we.op){if(Uo(we.value))return{unaryFilter:{field:ka(we.field),op:"IS_NAN"}};if(Vo(we.value))return{unaryFilter:{field:ka(we.field),op:"IS_NULL"}}}else if("!="===we.op){if(Uo(we.value))return{unaryFilter:{field:ka(we.field),op:"IS_NOT_NAN"}};if(Vo(we.value))return{unaryFilter:{field:ka(we.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(we.field),op:Io(we.op),value:we.value}}}(ue));return 1===W.length?W[0]:{compositeFilter:{op:"AND",filters:W}}}(n.filters);h&&(o.structuredQuery.where=h);const _=function(k){if(0!==k.length)return k.map(W=>{return{field:ka((ue=W).field),direction:ys(ue.dir)};var ue})}(n.orderBy);_&&(o.structuredQuery.orderBy=_);const D=(W=n.limit,a.D||sa(W)?W:{value:W});var W;return null!==D&&(o.structuredQuery.limit=D),n.startAt&&(o.structuredQuery.startAt=fd(n.startAt)),n.endAt&&(o.structuredQuery.endAt=fd(n.endAt)),o}function rc(a){let n=pi(a.parent);const o=a.structuredQuery,c=o.from?o.from.length:0;let h=null;if(c>0){Dn(1===c);const we=o.from[0];we.allDescendants?h=we.collectionId:n=n.child(we.collectionId)}let _=[];o.where&&(_=ic(o.where));let D=[];o.orderBy&&(D=o.orderBy.map(we=>{return new aa(sc((We=we).field),function(_t){switch(_t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(We.direction));var We}));let k=null;o.limit&&(k=function(we){let We;return We="object"==typeof we?we.value:we,sa(We)?null:We}(o.limit));let W=null;o.startAt&&(W=Dl(o.startAt));let ue=null;return o.endAt&&(ue=Dl(o.endAt)),iu(n,h,D,_,k,"F",W,ue)}function ic(a){return a?void 0!==a.unaryFilter?[mh(a)]:void 0!==a.fieldFilter?[Jf(a)]:void 0!==a.compositeFilter?a.compositeFilter.filters.map(n=>ic(n)).reduce((n,o)=>n.concat(o)):fn():[]}function fd(a){return{before:a.before,values:a.position}}function Dl(a){return new Sr(a.values||[],!!a.before)}function ys(a){return nm[a]}function Io(a){return rm[a]}function ka(a){return{fieldPath:a.canonicalString()}}function sc(a){return Qi.fromServerFormat(a.fieldPath)}function Jf(a){return pe.create(sc(a.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return fn()}}(a.fieldFilter.op),a.fieldFilter.value)}function mh(a){switch(a.unaryFilter.op){case"IS_NAN":const n=sc(a.unaryFilter.field);return pe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=sc(a.unaryFilter.field);return pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=sc(a.unaryFilter.field);return pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=sc(a.unaryFilter.field);return pe.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return fn()}}function yh(a){const n=[];return a.fields.forEach(o=>n.push(o.canonicalString())),{fieldPaths:n}}function _s(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}function eo(a){let n="";for(let o=0;o<a.length;o++)n.length>0&&(n=_h(n)),n=Tl(a.get(o),n);return _h(n)}function Tl(a,n){let o=n;const c=a.length;for(let h=0;h<c;h++){const _=a.charAt(h);switch(_){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=_}}return o}function _h(a){return a+"\x01\x01"}function cs(a){const n=a.length;if(Dn(n>=2),2===n)return Dn("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),Ir.emptyPath();const o=n-2,c=[];let h="";for(let _=0;_<n;){const D=a.indexOf("\x01",_);switch((D<0||D>o)&&fn(),a.charAt(D+1)){case"\x01":const k=a.substring(_,D);let W;0===h.length?W=k:(h+=k,W=h,h=""),c.push(W);break;case"\x10":h+=a.substring(_,D),h+="\0";break;case"\x11":h+=a.substring(_,D+1);break;default:fn()}_=D+2}return new Ir(c)}class $c{constructor(n,o){this.seconds=n,this.nanoseconds=o}}class Ts{constructor(n,o,c){this.ownerId=n,this.allowTabSynchronization=o,this.leaseTimestampMs=c}}Ts.store="owner",Ts.key="owner";class $o{constructor(n,o,c){this.userId=n,this.lastAcknowledgedBatchId=o,this.lastStreamToken=c}}$o.store="mutationQueues",$o.keyPath="userId";class jr{constructor(n,o,c,h,_){this.userId=n,this.batchId=o,this.localWriteTimeMs=c,this.baseMutations=h,this.mutations=_}}jr.store="mutations",jr.keyPath="batchId",jr.userMutationsIndex="userMutationsIndex",jr.userMutationsKeyPath=["userId","batchId"];class vs{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,o){return[n,eo(o)]}static key(n,o,c){return[n,eo(o),c]}}vs.store="documentMutations",vs.PLACEHOLDER=new vs;class im{constructor(n,o){this.path=n,this.readTime=o}}class vh{constructor(n,o){this.path=n,this.version=o}}class Qr{constructor(n,o,c,h,_,D){this.unknownDocument=n,this.noDocument=o,this.document=c,this.hasCommittedMutations=h,this.readTime=_,this.parentPath=D}}Qr.store="remoteDocuments",Qr.readTimeIndex="readTimeIndex",Qr.readTimeIndexPath="readTime",Qr.collectionReadTimeIndex="collectionReadTimeIndex",Qr.collectionReadTimeIndexPath=["parentPath","readTime"];class E{constructor(n){this.byteSize=n}}E.store="remoteDocumentGlobal",E.key="remoteDocumentGlobalKey";class f{constructor(n,o,c,h,_,D,k){this.targetId=n,this.canonicalId=o,this.readTime=c,this.resumeToken=h,this.lastListenSequenceNumber=_,this.lastLimboFreeSnapshotVersion=D,this.query=k}}f.store="targets",f.keyPath="targetId",f.queryTargetsIndexName="queryTargetsIndex",f.queryTargetsKeyPath=["canonicalId","targetId"];class g{constructor(n,o,c){this.targetId=n,this.path=o,this.sequenceNumber=c}}g.store="targetDocuments",g.keyPath=["targetId","path"],g.documentTargetsIndex="documentTargetsIndex",g.documentTargetsKeyPath=["path","targetId"];class I{constructor(n,o,c,h){this.highestTargetId=n,this.highestListenSequenceNumber=o,this.lastRemoteSnapshotVersion=c,this.targetCount=h}}I.key="targetGlobalKey",I.store="targetGlobal";class j{constructor(n,o){this.collectionId=n,this.parent=o}}j.store="collectionParents",j.keyPath=["collectionId","parent"];class ie{constructor(n,o,c,h){this.clientId=n,this.updateTimeMs=o,this.networkEnabled=c,this.inForeground=h}}ie.store="clientMetadata",ie.keyPath="clientId";class Ge{constructor(n,o,c){this.bundleId=n,this.createTime=o,this.version=c}}Ge.store="bundles",Ge.keyPath="bundleId";class Et{constructor(n,o,c){this.name=n,this.readTime=o,this.bundledQuery=c}}Et.store="namedQueries",Et.keyPath="name";const Xt=[$o.store,jr.store,vs.store,Qr.store,f.store,Ts.store,I.store,g.store,ie.store,E.store,j.store,Ge.store,Et.store],an="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ln{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class at{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(n){return this.next(void 0,n)}next(n,o){return this.callbackAttached&&fn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(n,this.result):new at((c,h)=>{this.nextCallback=_=>{this.wrapSuccess(n,_).next(c,h)},this.catchCallback=_=>{this.wrapFailure(o,_).next(c,h)}})}toPromise(){return new Promise((n,o)=>{this.next(n,o)})}wrapUserFunction(n){try{const o=n();return o instanceof at?o:at.resolve(o)}catch(o){return at.reject(o)}}wrapSuccess(n,o){return n?this.wrapUserFunction(()=>n(o)):at.resolve(o)}wrapFailure(n,o){return n?this.wrapUserFunction(()=>n(o)):at.reject(o)}static resolve(n){return new at((o,c)=>{o(n)})}static reject(n){return new at((o,c)=>{c(n)})}static waitFor(n){return new at((o,c)=>{let h=0,_=0,D=!1;n.forEach(k=>{++h,k.next(()=>{++_,D&&_===h&&o()},W=>c(W))}),D=!0,_===h&&o()})}static or(n){let o=at.resolve(!1);for(const c of n)o=o.next(h=>h?at.resolve(h):c());return o}static forEach(n,o){const c=[];return n.forEach((h,_)=>{c.push(o.call(this,h,_))}),this.waitFor(c)}}class Di{constructor(n,o){this.action=n,this.transaction=o,this.aborted=!1,this.Tt=new w,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{o.error?this.Tt.reject(new Su(n,o.error)):this.Tt.resolve()},this.transaction.onerror=c=>{const h=to(c.target.error);this.Tt.reject(new Su(n,h))}}static open(n,o,c,h){try{return new Di(o,n.transaction(h,c))}catch(_){throw new Su(o,_)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Ht("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const o=this.transaction.objectStore(n);return new gd(o)}}class Ti{constructor(n,o,c){this.name=n,this.version=o,this.At=c,12.2===Ti.Rt((0,lt.z$)())&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Ht("SimpleDb","Removing database:",n),lu(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,lt.hl)())return!1;if(Ti.Pt())return!0;const n=(0,lt.z$)(),o=Ti.Rt(n),c=0<o&&o<10,h=Ti.vt(n),_=0<h&&h<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||c||_)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,o){return n.store(o)}static Rt(n){const o=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static vt(n){const o=n.match(/Android ([\d.]+)/i),c=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(c)}Dt(n){var o=this;return(0,ae.Z)(function*(){return o.db||(Ht("SimpleDb","Opening database:",o.name),o.db=yield new Promise((c,h)=>{const _=indexedDB.open(o.name,o.version);_.onsuccess=D=>{c(D.target.result)},_.onblocked=()=>{h(new Su(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=D=>{const k=D.target.error;h("VersionError"===k.name?new b(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new b(C.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new Su(n,k))},_.onupgradeneeded=D=>{Ht("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',D.oldVersion),o.At.Ct(D.target.result,_.transaction,D.oldVersion,o.version).next(()=>{Ht("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.Nt&&(o.db.onversionchange=c=>o.Nt(c)),o.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=o=>n(o))}runTransaction(n,o,c,h){var _=this;return(0,ae.Z)(function*(){const D="readonly"===o;let k=0;for(;;){++k;try{_.db=yield _.Dt(n);const W=Di.open(_.db,n,D?"readonly":"readwrite",c),ue=h(W).catch(we=>(W.abort(we),at.reject(we))).toPromise();return ue.catch(()=>{}),yield W.It,ue}catch(W){const ue="FirebaseError"!==W.name&&k<3;if(Ht("SimpleDb","Transaction failed with error:",W.message,"Retrying:",ue),_.close(),!ue)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pd{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return lu(this.kt.delete())}}class Su extends b{constructor(n,o){super(C.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function fa(a){return"IndexedDbTransactionError"===a.name}class gd{constructor(n){this.store=n}put(n,o){let c;return void 0!==o?(Ht("SimpleDb","PUT",this.store.name,n,o),c=this.store.put(o,n)):(Ht("SimpleDb","PUT",this.store.name,"<auto-key>",n),c=this.store.put(n)),lu(c)}add(n){return Ht("SimpleDb","ADD",this.store.name,n,n),lu(this.store.add(n))}get(n){return lu(this.store.get(n)).next(o=>(void 0===o&&(o=null),Ht("SimpleDb","GET",this.store.name,n,o),o))}delete(n){return Ht("SimpleDb","DELETE",this.store.name,n),lu(this.store.delete(n))}count(){return Ht("SimpleDb","COUNT",this.store.name),lu(this.store.count())}Lt(n,o){const c=this.cursor(this.options(n,o)),h=[];return this.Bt(c,(_,D)=>{h.push(D)}).next(()=>h)}Ut(n,o){Ht("SimpleDb","DELETE ALL",this.store.name);const c=this.options(n,o);c.qt=!1;const h=this.cursor(c);return this.Bt(h,(_,D,k)=>k.delete())}Kt(n,o){let c;o?c=n:(c={},o=n);const h=this.cursor(c);return this.Bt(h,o)}jt(n){const o=this.cursor({});return new at((c,h)=>{o.onerror=_=>{const D=to(_.target.error);h(D)},o.onsuccess=_=>{const D=_.target.result;D?n(D.primaryKey,D.value).next(k=>{k?D.continue():c()}):c()}})}Bt(n,o){const c=[];return new at((h,_)=>{n.onerror=D=>{_(D.target.error)},n.onsuccess=D=>{const k=D.target.result;if(!k)return void h();const W=new pd(k),ue=o(k.primaryKey,k.value,W);if(ue instanceof at){const we=ue.catch(We=>(W.done(),at.reject(We)));c.push(we)}W.isDone?h():null===W.Ft?k.continue():k.continue(W.Ft)}}).next(()=>at.waitFor(c))}options(n,o){let c;return void 0!==n&&("string"==typeof n?c=n:o=n),{index:c,range:o}}cursor(n){let o="next";if(n.reverse&&(o="prev"),n.index){const c=this.store.index(n.index);return n.qt?c.openKeyCursor(n.range,o):c.openCursor(n.range,o)}return this.store.openCursor(n.range,o)}}function lu(a){return new at((n,o)=>{a.onsuccess=c=>{n(c.target.result)},a.onerror=c=>{const h=to(c.target.error);o(h)}})}let La=!1;function to(a){const n=Ti.Rt((0,lt.z$)());if(n>=12.2&&n<13){const o="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(o)>=0){const c=new b("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return La||(La=!0,setTimeout(()=>{throw c},0)),c}}return a}class Eh extends Ln{constructor(n,o){super(),this.Qt=n,this.currentSequenceNumber=o}}function As(a,n){const o=Jt(a);return Ti.St(o.Qt,n)}class Hc{constructor(n,o,c,h){this.batchId=n,this.localWriteTime=o,this.baseMutations=c,this.mutations=h}applyToRemoteDocument(n,o){const c=o.mutationResults;for(let h=0;h<this.mutations.length;h++){const _=this.mutations[h];_.key.isEqual(n.key)&&zf(_,n,c[h])}}applyToLocalView(n){for(const o of this.baseMutations)o.key.isEqual(n.key)&&vl(o,n,this.localWriteTime);for(const o of this.mutations)o.key.isEqual(n.key)&&vl(o,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(o=>{const c=n.get(o.key),h=c;this.applyToLocalView(h),c.isValidDocument()||h.convertToNoDocument(Tn.min())})}keys(){return this.mutations.reduce((n,o)=>n.add(o.key),Or())}isEqual(n){return this.batchId===n.batchId&&$n(this.mutations,n.mutations,(o,c)=>Xu(o,c))&&$n(this.baseMutations,n.baseMutations,(o,c)=>Xu(o,c))}}class bh{constructor(n,o,c,h){this.batch=n,this.commitVersion=o,this.mutationResults=c,this.docVersions=h}static from(n,o,c){Dn(n.mutations.length===c.length);let h=lh();const _=n.mutations;for(let D=0;D<_.length;D++)h=h.insert(_[D].key,c[D].version);return new bh(n,o,c,h)}}class Ki{constructor(n,o,c,h,_=Tn.min(),D=Tn.min(),k=Ui.EMPTY_BYTE_STRING){this.target=n,this.targetId=o,this.purpose=c,this.sequenceNumber=h,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=k}withSequenceNumber(n){return new Ki(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,o){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class Al{constructor(n){this.Wt=n}}function md(a,n){if(n.document)return Bc(a.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const o=pn.fromSegments(n.noDocument.path),c=Wc(n.noDocument.readTime),h=Ar.newNoDocument(o,c);return n.hasCommittedMutations?h.setHasCommittedMutations():h}if(n.unknownDocument){const o=pn.fromSegments(n.unknownDocument.path),c=Wc(n.unknownDocument.version);return Ar.newUnknownDocument(o,c)}return fn()}function sm(a,n,o){const c=wh(o),h=n.key.path.popLast().toArray();if(n.isFoundDocument()){const _={name:nc(k=a.Wt,(W=n).key),fields:W.data.value.mapValue.fields,updateTime:tc(k,W.version.toTimestamp())};return new Qr(null,null,_,n.hasCommittedMutations,c,h)}var k,W;if(n.isNoDocument()){const _=n.key.path.toArray(),D=Gc(n.version),k=n.hasCommittedMutations;return new Qr(null,new im(_,D),null,k,c,h)}if(n.isUnknownDocument()){const _=n.key.path.toArray(),D=Gc(n.version);return new Qr(new vh(_,D),null,null,!0,c,h)}return fn()}function wh(a){const n=a.toTimestamp();return[n.seconds,n.nanoseconds]}function Sl(a){const n=new or(a[0],a[1]);return Tn.fromTimestamp(n)}function Gc(a){const n=a.toTimestamp();return new $c(n.seconds,n.nanoseconds)}function Wc(a){const n=new or(a.seconds,a.nanoseconds);return Tn.fromTimestamp(n)}function oc(a,n){const o=(n.baseMutations||[]).map(_=>Il(a.Wt,_));for(let _=0;_<n.mutations.length-1;++_){const D=n.mutations[_];_+1<n.mutations.length&&void 0!==n.mutations[_+1].transform&&(D.updateTransforms=n.mutations[_+1].transform.fieldTransforms,n.mutations.splice(_+1,1),++_)}const c=n.mutations.map(_=>Il(a.Wt,_)),h=or.fromMillis(n.localWriteTimeMs);return new Hc(n.batchId,h,o,c)}function zc(a){const n=Wc(a.readTime),o=void 0!==a.lastLimboFreeSnapshotVersion?Wc(a.lastLimboFreeSnapshotVersion):Tn.min();let c;var h;return void 0!==a.query.documents?(Dn(1===(h=a.query).documents.length),c=Qs(Co(pi(h.documents[0])))):c=Qs(rc(a.query)),new Ki(c,a.targetId,0,a.lastListenSequenceNumber,n,o,Ui.fromBase64String(a.resumeToken))}function Xf(a,n){const o=Gc(n.snapshotVersion),c=Gc(n.lastLimboFreeSnapshotVersion);let h;h=X(n.target)?jc(a.Wt,n.target):gh(a.Wt,n.target);const _=n.resumeToken.toBase64();return new f(n.targetId,Ys(n.target),o,_,n.sequenceNumber,c,h)}function om(a){const n=rc({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Mc(n,n.limit,"L"):n}class Ol{getBundleMetadata(n,o){return Ch(n).get(o).next(c=>{if(c)return{id:(h=c).bundleId,createTime:Wc(h.createTime),version:h.version};var h})}saveBundleMetadata(n,o){return Ch(n).put({bundleId:(c=o).id,createTime:Gc(Xi(c.createTime)),version:c.version});var c}getNamedQuery(n,o){return ep(n).get(o).next(c=>{if(c)return{name:(h=c).name,query:om(h.bundledQuery),readTime:Wc(h.readTime)};var h})}saveNamedQuery(n,o){return ep(n).put({name:(c=o).name,readTime:Gc(Xi(c.readTime)),bundledQuery:c.bundledQuery});var c}}function Ch(a){return As(a,Ge.store)}function ep(a){return As(a,Et.store)}class f_{constructor(){this.Gt=new yd}addToCollectionParentIndex(n,o){return this.Gt.add(o),at.resolve()}getCollectionParents(n,o){return at.resolve(this.Gt.getEntries(o))}}class yd{constructor(){this.index={}}add(n){const o=n.lastSegment(),c=n.popLast(),h=this.index[o]||new ri(Ir.comparator),_=!h.has(c);return this.index[o]=h.add(c),_}has(n){const o=n.lastSegment(),c=n.popLast(),h=this.index[o];return h&&h.has(c)}getEntries(n){return(this.index[n]||new ri(Ir.comparator)).toArray()}}class p_{constructor(){this.zt=new yd}addToCollectionParentIndex(n,o){if(!this.zt.has(o)){const c=o.lastSegment(),h=o.popLast();n.addOnCommittedListener(()=>{this.zt.add(o)});const _={collectionId:c,parent:eo(h)};return am(n).put(_)}return at.resolve()}getCollectionParents(n,o){const c=[],h=IDBKeyRange.bound([o,""],[Li(o),""],!1,!0);return am(n).Lt(h).next(_=>{for(const D of _){if(D.collectionId!==o)break;c.push(cs(D.parent))}return c})}}function am(a){return As(a,j.store)}const um={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Do{constructor(n,o,c){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=c}static withCacheSize(n){return new Do(n,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cm(a,n,o){const c=a.store(jr.store),h=a.store(vs.store),_=[],D=IDBKeyRange.only(o.batchId);let k=0;const W=c.Kt({range:D},(we,We,_t)=>(k++,_t.delete()));_.push(W.next(()=>{Dn(1===k)}));const ue=[];for(const we of o.mutations){const We=vs.key(n,we.key.path,o.batchId);_.push(h.delete(We)),ue.push(we.key)}return at.waitFor(_).next(()=>ue)}function Ih(a){if(!a)return 0;let n;if(a.document)n=a.document;else if(a.unknownDocument)n=a.unknownDocument;else{if(!a.noDocument)throw fn();n=a.noDocument}return JSON.stringify(n).length}Do.DEFAULT_COLLECTION_PERCENTILE=10,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Do.DEFAULT=new Do(41943040,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Do.DISABLED=new Do(-1,0,0);class Dh{constructor(n,o,c,h){this.userId=n,this.N=o,this.Ht=c,this.referenceDelegate=h,this.Jt={}}static Yt(n,o,c,h){Dn(""!==n.uid);const _=n.isAuthenticated()?n.uid:"";return new Dh(_,o,c,h)}checkEmpty(n){let o=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ou(n).Kt({index:jr.userMutationsIndex,range:c},(h,_,D)=>{o=!1,D.done()}).next(()=>o)}addMutationBatch(n,o,c,h){const _=ac(n),D=Ou(n);return D.add({}).next(k=>{Dn("number"==typeof k);const W=new Hc(k,o,c,h),ue=function(_t,Ot,Zt){const On=Zt.baseMutations.map(xi=>Cl(_t.Wt,xi)),er=Zt.mutations.map(xi=>Cl(_t.Wt,xi));return new jr(Ot,Zt.batchId,Zt.localWriteTime.toMillis(),On,er)}(this.N,this.userId,W),we=[];let We=new ri((_t,Ot)=>dn(_t.canonicalString(),Ot.canonicalString()));for(const _t of h){const Ot=vs.key(this.userId,_t.key.path,k);We=We.add(_t.key.path.popLast()),we.push(D.put(ue)),we.push(_.put(Ot,vs.PLACEHOLDER))}return We.forEach(_t=>{we.push(this.Ht.addToCollectionParentIndex(n,_t))}),n.addOnCommittedListener(()=>{this.Jt[k]=W.keys()}),at.waitFor(we).next(()=>W)})}lookupMutationBatch(n,o){return Ou(n).get(o).next(c=>c?(Dn(c.userId===this.userId),oc(this.N,c)):null)}Xt(n,o){return this.Jt[o]?at.resolve(this.Jt[o]):this.lookupMutationBatch(n,o).next(c=>{if(c){const h=c.keys();return this.Jt[o]=h,h}return null})}getNextMutationBatchAfterBatchId(n,o){const c=o+1,h=IDBKeyRange.lowerBound([this.userId,c]);let _=null;return Ou(n).Kt({index:jr.userMutationsIndex,range:h},(D,k,W)=>{k.userId===this.userId&&(Dn(k.batchId>=c),_=oc(this.N,k)),W.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(n){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return Ou(n).Kt({index:jr.userMutationsIndex,range:o,reverse:!0},(h,_,D)=>{c=_.batchId,D.done()}).next(()=>c)}getAllMutationBatches(n){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ou(n).Lt(jr.userMutationsIndex,o).next(c=>c.map(h=>oc(this.N,h)))}getAllMutationBatchesAffectingDocumentKey(n,o){const c=vs.prefixForPath(this.userId,o.path),h=IDBKeyRange.lowerBound(c),_=[];return ac(n).Kt({range:h},(D,k,W)=>{const[ue,we,We]=D,_t=cs(we);if(ue===this.userId&&o.path.isEqual(_t))return Ou(n).get(We).next(Ot=>{if(!Ot)throw fn();Dn(Ot.userId===this.userId),_.push(oc(this.N,Ot))});W.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(n,o){let c=new ri(dn);const h=[];return o.forEach(_=>{const D=vs.prefixForPath(this.userId,_.path),k=IDBKeyRange.lowerBound(D),W=ac(n).Kt({range:k},(ue,we,We)=>{const[_t,Ot,Zt]=ue,On=cs(Ot);_t===this.userId&&_.path.isEqual(On)?c=c.add(Zt):We.done()});h.push(W)}),at.waitFor(h).next(()=>this.Zt(n,c))}getAllMutationBatchesAffectingQuery(n,o){const c=o.path,h=c.length+1,_=vs.prefixForPath(this.userId,c),D=IDBKeyRange.lowerBound(_);let k=new ri(dn);return ac(n).Kt({range:D},(W,ue,we)=>{const[We,_t,Ot]=W,Zt=cs(_t);We===this.userId&&c.isPrefixOf(Zt)?Zt.length===h&&(k=k.add(Ot)):we.done()}).next(()=>this.Zt(n,k))}Zt(n,o){const c=[],h=[];return o.forEach(_=>{h.push(Ou(n).get(_).next(D=>{if(null===D)throw fn();Dn(D.userId===this.userId),c.push(oc(this.N,D))}))}),at.waitFor(h).next(()=>c)}removeMutationBatch(n,o){return cm(n.Qt,this.userId,o).next(c=>(n.addOnCommittedListener(()=>{this.te(o.batchId)}),at.forEach(c,h=>this.referenceDelegate.markPotentiallyOrphaned(n,h))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(o=>{if(!o)return at.resolve();const c=IDBKeyRange.lowerBound(vs.prefixForUser(this.userId)),h=[];return ac(n).Kt({range:c},(_,D,k)=>{if(_[0]===this.userId){const W=cs(_[1]);h.push(W)}else k.done()}).next(()=>{Dn(0===h.length)})})}containsKey(n,o){return Th(n,this.userId,o)}ee(n){return lm(n).get(this.userId).next(o=>o||new $o(this.userId,-1,""))}}function Th(a,n,o){const c=vs.prefixForPath(n,o.path),h=c[1],_=IDBKeyRange.lowerBound(c);let D=!1;return ac(a).Kt({range:_,qt:!0},(k,W,ue)=>{const[we,We,_t]=k;we===n&&We===h&&(D=!0),ue.done()}).next(()=>D)}function Ou(a){return As(a,jr.store)}function ac(a){return As(a,vs.store)}function lm(a){return As(a,$o.store)}class Kc{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new Kc(0)}static ie(){return new Kc(-1)}}class dm{constructor(n,o){this.referenceDelegate=n,this.N=o}allocateTargetId(n){return this.re(n).next(o=>{const c=new Kc(o.highestTargetId);return o.highestTargetId=c.next(),this.oe(n,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(o=>Tn.fromTimestamp(new or(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(n,o,c){return this.re(n).next(h=>(h.highestListenSequenceNumber=o,c&&(h.lastRemoteSnapshotVersion=c.toTimestamp()),o>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=o),this.oe(n,h)))}addTargetData(n,o){return this.ae(n,o).next(()=>this.re(n).next(c=>(c.targetCount+=1,this.ce(o,c),this.oe(n,c))))}updateTargetData(n,o){return this.ae(n,o)}removeTargetData(n,o){return this.removeMatchingKeysForTargetId(n,o.targetId).next(()=>qc(n).delete(o.targetId)).next(()=>this.re(n)).next(c=>(Dn(c.targetCount>0),c.targetCount-=1,this.oe(n,c)))}removeTargets(n,o,c){let h=0;const _=[];return qc(n).Kt((D,k)=>{const W=zc(k);W.sequenceNumber<=o&&null===c.get(W.targetId)&&(h++,_.push(this.removeTargetData(n,W)))}).next(()=>at.waitFor(_)).next(()=>h)}forEachTarget(n,o){return qc(n).Kt((c,h)=>{const _=zc(h);o(_)})}re(n){return uc(n).get(I.key).next(o=>(Dn(null!==o),o))}oe(n,o){return uc(n).put(I.key,o)}ae(n,o){return qc(n).put(Xf(this.N,o))}ce(n,o){let c=!1;return n.targetId>o.highestTargetId&&(o.highestTargetId=n.targetId,c=!0),n.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n.sequenceNumber,c=!0),c}getTargetCount(n){return this.re(n).next(o=>o.targetCount)}getTargetData(n,o){const c=Ys(o),h=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let _=null;return qc(n).Kt({range:h,index:f.queryTargetsIndexName},(D,k,W)=>{const ue=zc(k);V(o,ue.target)&&(_=ue,W.done())}).next(()=>_)}addMatchingKeys(n,o,c){const h=[],_=xu(n);return o.forEach(D=>{const k=eo(D.path);h.push(_.put(new g(c,k))),h.push(this.referenceDelegate.addReference(n,c,D))}),at.waitFor(h)}removeMatchingKeys(n,o,c){const h=xu(n);return at.forEach(o,_=>{const D=eo(_.path);return at.waitFor([h.delete([c,D]),this.referenceDelegate.removeReference(n,c,_)])})}removeMatchingKeysForTargetId(n,o){const c=xu(n),h=IDBKeyRange.bound([o],[o+1],!1,!0);return c.delete(h)}getMatchingKeysForTargetId(n,o){const c=IDBKeyRange.bound([o],[o+1],!1,!0),h=xu(n);let _=Or();return h.Kt({range:c,qt:!0},(D,k,W)=>{const ue=cs(D[1]),we=new pn(ue);_=_.add(we)}).next(()=>_)}containsKey(n,o){const c=eo(o.path),h=IDBKeyRange.bound([c],[Li(c)],!1,!0);let _=0;return xu(n).Kt({index:g.documentTargetsIndex,qt:!0,range:h},([D,k],W,ue)=>{0!==D&&(_++,ue.done())}).next(()=>_>0)}Et(n,o){return qc(n).get(o).next(c=>c?zc(c):null)}}function qc(a){return As(a,f.store)}function uc(a){return As(a,I.store)}function xu(a){return As(a,g.store)}function cc(a){return tp.apply(this,arguments)}function tp(){return(tp=(0,ae.Z)(function*(a){if(a.code!==C.FAILED_PRECONDITION||a.message!==an)throw a;Ht("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function _d([a,n],[o,c]){const h=dn(a,o);return 0===h?dn(n,c):h}class g_{constructor(n){this.ue=n,this.buffer=new ri(_d),this.he=0}le(){return++this.he}fe(n){const o=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(o);else{const c=this.buffer.last();_d(o,c)<0&&(this.buffer=this.buffer.delete(c).add(o))}}get maxValue(){return this.buffer.last()[0]}}class hm{constructor(n,o){this.garbageCollector=n,this.asyncQueue=o,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var o=this;const c=this.de?3e5:6e4;Ht("LruGarbageCollector",`Garbage collection scheduled in ${c}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",c,(0,ae.Z)(function*(){o.we=null,o.de=!0;try{yield n.collectGarbage(o.garbageCollector)}catch(h){fa(h)?Ht("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield cc(h)}yield o._e(n)}))}}class fm{constructor(n,o){this.me=n,this.params=o}calculateTargetCount(n,o){return this.me.ge(n).next(c=>Math.floor(o/100*c))}nthSequenceNumber(n,o){if(0===o)return at.resolve(Kt.T);const c=new g_(o);return this.me.forEachTarget(n,h=>c.fe(h.sequenceNumber)).next(()=>this.me.ye(n,h=>c.fe(h))).next(()=>c.maxValue)}removeTargets(n,o,c){return this.me.removeTargets(n,o,c)}removeOrphanedDocuments(n,o){return this.me.removeOrphanedDocuments(n,o)}collect(n,o){return-1===this.params.cacheSizeCollectionThreshold?(Ht("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(um)):this.getCacheSize(n).next(c=>c<this.params.cacheSizeCollectionThreshold?(Ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),um):this.pe(n,o))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,o){let c,h,_,D,k,W,ue;const we=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(We=>(We>this.params.maximumSequenceNumbersToCollect?(Ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${We}`),h=this.params.maximumSequenceNumbersToCollect):h=We,D=Date.now(),this.nthSequenceNumber(n,h))).next(We=>(c=We,k=Date.now(),this.removeTargets(n,c,o))).next(We=>(_=We,W=Date.now(),this.removeOrphanedDocuments(n,c))).next(We=>(ue=Date.now(),ko()<=St.in.DEBUG&&Ht("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-we}ms\n\tDetermined least recently used ${h} in `+(k-D)+`ms\n\tRemoved ${_} targets in `+(W-k)+`ms\n\tRemoved ${We} documents in `+(ue-W)+`ms\nTotal Duration: ${ue-we}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:_,documentsRemoved:We})))}}class pm{constructor(n,o){this.db=n,this.garbageCollector=new fm(this,o)}ge(n){const o=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(c=>o.next(h=>c+h))}Ee(n){let o=0;return this.ye(n,c=>{o++}).next(()=>o)}forEachTarget(n,o){return this.db.getTargetCache().forEachTarget(n,o)}ye(n,o){return this.Te(n,(c,h)=>o(h))}addReference(n,o,c){return xl(n,c)}removeReference(n,o,c){return xl(n,c)}removeTargets(n,o,c){return this.db.getTargetCache().removeTargets(n,o,c)}markPotentiallyOrphaned(n,o){return xl(n,o)}Ie(n,o){return function(c,h){let _=!1;return lm(c).jt(D=>Th(c,D,h).next(k=>(k&&(_=!0),at.resolve(!k)))).next(()=>_)}(n,o)}removeOrphanedDocuments(n,o){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let _=0;return this.Te(n,(D,k)=>{if(k<=o){const W=this.Ie(n,D).next(ue=>{if(!ue)return _++,c.getEntry(n,D).next(()=>(c.removeEntry(D),xu(n).delete([0,eo(D.path)])))});h.push(W)}}).next(()=>at.waitFor(h)).next(()=>c.apply(n)).next(()=>_)}removeTarget(n,o){const c=o.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,c)}updateLimboDocument(n,o){return xl(n,o)}Te(n,o){const c=xu(n);let h,_=Kt.T;return c.Kt({index:g.documentTargetsIndex},([D,k],{path:W,sequenceNumber:ue})=>{0===D?(_!==Kt.T&&o(new pn(cs(h)),_),_=ue,h=W):_=Kt.T}).next(()=>{_!==Kt.T&&o(new pn(cs(h)),_)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function xl(a,n){return xu(a).put((c=a.currentSequenceNumber,new g(0,eo(n.path),c)));var c}class Zc{constructor(n,o){this.mapKeyFn=n,this.equalsFn=o,this.inner={}}get(n){const o=this.mapKeyFn(n),c=this.inner[o];if(void 0!==c)for(const[h,_]of c)if(this.equalsFn(h,n))return _}has(n){return void 0!==this.get(n)}set(n,o){const c=this.mapKeyFn(n),h=this.inner[c];if(void 0!==h){for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],n))return void(h[_]=[n,o]);h.push([n,o])}else this.inner[c]=[[n,o]]}delete(n){const o=this.mapKeyFn(n),c=this.inner[o];if(void 0===c)return!1;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],n))return 1===c.length?delete this.inner[o]:c.splice(h,1),!0;return!1}forEach(n){Ci(this.inner,(o,c)=>{for(const[h,_]of c)n(h,_)})}isEmpty(){return Vi(this.inner)}}class vd{constructor(){this.changes=new Zc(n=>n.toString(),(n,o)=>n.isEqual(o)),this.changesApplied=!1}getReadTime(n){const o=this.changes.get(n);return o?o.readTime:Tn.min()}addEntry(n,o){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:o})}removeEntry(n,o=null){this.assertNotApplied(),this.changes.set(n,{document:Ar.newInvalidDocument(n),readTime:o})}getEntry(n,o){this.assertNotApplied();const c=this.changes.get(o);return void 0!==c?at.resolve(c.document):this.getFromCache(n,o)}getEntries(n,o){return this.getAllFromCache(n,o)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Ah{constructor(n,o){this.N=n,this.Ht=o}addEntry(n,o,c){return Mu(n).put(Ml(o),c)}removeEntry(n,o){const c=Mu(n),h=Ml(o);return c.delete(h)}updateMetadata(n,o){return this.getMetadata(n).next(c=>(c.byteSize+=o,this.Ae(n,c)))}getEntry(n,o){return Mu(n).get(Ml(o)).next(c=>this.Re(o,c))}be(n,o){return Mu(n).get(Ml(o)).next(c=>({document:this.Re(o,c),size:Ih(c)}))}getEntries(n,o){let c=Fs();return this.Pe(n,o,(h,_)=>{const D=this.Re(h,_);c=c.insert(h,D)}).next(()=>c)}ve(n,o){let c=Fs(),h=new zi(pn.comparator);return this.Pe(n,o,(_,D)=>{const k=this.Re(_,D);c=c.insert(_,k),h=h.insert(_,Ih(D))}).next(()=>({documents:c,Ve:h}))}Pe(n,o,c){if(o.isEmpty())return at.resolve();const h=IDBKeyRange.bound(o.first().path.toArray(),o.last().path.toArray()),_=o.getIterator();let D=_.getNext();return Mu(n).Kt({range:h},(k,W,ue)=>{const we=pn.fromSegments(k);for(;D&&pn.comparator(D,we)<0;)c(D,null),D=_.getNext();D&&D.isEqual(we)&&(c(D,W),D=_.hasNext()?_.getNext():null),D?ue.Mt(D.path.toArray()):ue.done()}).next(()=>{for(;D;)c(D,null),D=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(n,o,c){let h=Fs();const _=o.path.length+1,D={};if(c.isEqual(Tn.min())){const k=o.path.toArray();D.range=IDBKeyRange.lowerBound(k)}else{const k=o.path.toArray(),W=wh(c);D.range=IDBKeyRange.lowerBound([k,W],!0),D.index=Qr.collectionReadTimeIndex}return Mu(n).Kt(D,(k,W,ue)=>{if(k.length!==_)return;const we=md(this.N,W);o.path.isPrefixOf(we.key.path)?Ds(o,we)&&(h=h.insert(we.key,we)):ue.done()}).next(()=>h)}newChangeBuffer(n){return new gm(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(o=>o.byteSize)}getMetadata(n){return Sh(n).get(E.key).next(o=>(Dn(!!o),o))}Ae(n,o){return Sh(n).put(E.key,o)}Re(n,o){if(o){const c=md(this.N,o);if(!c.isNoDocument()||!c.version.isEqual(Tn.min()))return c}return Ar.newInvalidDocument(n)}}class gm extends vd{constructor(n,o){super(),this.Se=n,this.trackRemovals=o,this.De=new Zc(c=>c.toString(),(c,h)=>c.isEqual(h))}applyChanges(n){const o=[];let c=0,h=new ri((_,D)=>dn(_.canonicalString(),D.canonicalString()));return this.changes.forEach((_,D)=>{const k=this.De.get(_);if(D.document.isValidDocument()){const W=sm(this.Se.N,D.document,this.getReadTime(_));h=h.add(_.path.popLast()),c+=Ih(W)-k,o.push(this.Se.addEntry(n,_,W))}else if(c-=k,this.trackRemovals){const W=sm(this.Se.N,Ar.newNoDocument(_,Tn.min()),this.getReadTime(_));o.push(this.Se.addEntry(n,_,W))}else o.push(this.Se.removeEntry(n,_))}),h.forEach(_=>{o.push(this.Se.Ht.addToCollectionParentIndex(n,_))}),o.push(this.Se.updateMetadata(n,c)),at.waitFor(o)}getFromCache(n,o){return this.Se.be(n,o).next(c=>(this.De.set(o,c.size),c.document))}getAllFromCache(n,o){return this.Se.ve(n,o).next(({documents:c,Ve:h})=>(h.forEach((_,D)=>{this.De.set(_,D)}),c))}}function Sh(a){return As(a,E.store)}function Mu(a){return As(a,Qr.store)}function Ml(a){return a.path.toArray()}class Ed{constructor(n){this.N=n}Ct(n,o,c,h){Dn(c<h&&c>=0&&h<=11);const _=new Di("createOrUpgrade",o);var k;c<1&&h>=1&&(n.createObjectStore(Ts.store),(k=n).createObjectStore($o.store,{keyPath:$o.keyPath}),k.createObjectStore(jr.store,{keyPath:jr.keyPath,autoIncrement:!0}).createIndex(jr.userMutationsIndex,jr.userMutationsKeyPath,{unique:!0}),k.createObjectStore(vs.store),mm(n),function(k){k.createObjectStore(Qr.store)}(n));let D=at.resolve();return c<3&&h>=3&&(0!==c&&(function(k){k.deleteObjectStore(g.store),k.deleteObjectStore(f.store),k.deleteObjectStore(I.store)}(n),mm(n)),D=D.next(()=>function(k){const W=k.store(I.store),ue=new I(0,0,Tn.min().toTimestamp(),0);return W.put(I.key,ue)}(_))),c<4&&h>=4&&(0!==c&&(D=D.next(()=>function(k,W){return W.store(jr.store).Lt().next(ue=>{k.deleteObjectStore(jr.store),k.createObjectStore(jr.store,{keyPath:jr.keyPath,autoIncrement:!0}).createIndex(jr.userMutationsIndex,jr.userMutationsKeyPath,{unique:!0});const we=W.store(jr.store),We=ue.map(_t=>we.put(_t));return at.waitFor(We)})}(n,_))),D=D.next(()=>{!function(k){k.createObjectStore(ie.store,{keyPath:ie.keyPath})}(n)})),c<5&&h>=5&&(D=D.next(()=>this.Ce(_))),c<6&&h>=6&&(D=D.next(()=>(function(k){k.createObjectStore(E.store)}(n),this.Ne(_)))),c<7&&h>=7&&(D=D.next(()=>this.xe(_))),c<8&&h>=8&&(D=D.next(()=>this.ke(n,_))),c<9&&h>=9&&(D=D.next(()=>{(function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")})(n),function(k){const W=k.objectStore(Qr.store);W.createIndex(Qr.readTimeIndex,Qr.readTimeIndexPath,{unique:!1}),W.createIndex(Qr.collectionReadTimeIndex,Qr.collectionReadTimeIndexPath,{unique:!1})}(o)})),c<10&&h>=10&&(D=D.next(()=>this.$e(_))),c<11&&h>=11&&(D=D.next(()=>{(function(k){k.createObjectStore(Ge.store,{keyPath:Ge.keyPath})})(n),function(k){k.createObjectStore(Et.store,{keyPath:Et.keyPath})}(n)})),D}Ne(n){let o=0;return n.store(Qr.store).Kt((c,h)=>{o+=Ih(h)}).next(()=>{const c=new E(o);return n.store(E.store).put(E.key,c)})}Ce(n){const o=n.store($o.store),c=n.store(jr.store);return o.Lt().next(h=>at.forEach(h,_=>{const D=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return c.Lt(jr.userMutationsIndex,D).next(k=>at.forEach(k,W=>{Dn(W.userId===_.userId);const ue=oc(this.N,W);return cm(n,_.userId,ue).next(()=>{})}))}))}xe(n){const o=n.store(g.store),c=n.store(Qr.store);return n.store(I.store).get(I.key).next(h=>{const _=[];return c.Kt((D,k)=>{const W=new Ir(D),ue=[0,eo(W)];_.push(o.get(ue).next(we=>we?at.resolve():o.put(new g(0,eo(W),h.highestListenSequenceNumber))))}).next(()=>at.waitFor(_))})}ke(n,o){n.createObjectStore(j.store,{keyPath:j.keyPath});const c=o.store(j.store),h=new yd,_=D=>{if(h.add(D)){const k=D.lastSegment(),W=D.popLast();return c.put({collectionId:k,parent:eo(W)})}};return o.store(Qr.store).Kt({qt:!0},(D,k)=>{const W=new Ir(D);return _(W.popLast())}).next(()=>o.store(vs.store).Kt({qt:!0},([D,k,W],ue)=>{const we=cs(k);return _(we.popLast())}))}$e(n){const o=n.store(f.store);return o.Kt((c,h)=>{const _=zc(h),D=Xf(this.N,_);return o.put(D)})}}function mm(a){a.createObjectStore(g.store,{keyPath:g.keyPath}).createIndex(g.documentTargetsIndex,g.documentTargetsKeyPath,{unique:!0}),a.createObjectStore(f.store,{keyPath:f.keyPath}).createIndex(f.queryTargetsIndexName,f.queryTargetsKeyPath,{unique:!0}),a.createObjectStore(I.store)}const Oh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class np{constructor(n,o,c,h,_,D,k,W,ue,we){if(this.allowTabSynchronization=n,this.persistenceKey=o,this.clientId=c,this.Oe=_,this.window=D,this.document=k,this.Fe=ue,this.Me=we,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=We=>Promise.resolve(),!np.bt())throw new b(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pm(this,h),this.We=o+"main",this.N=new Al(W),this.Ge=new Ti(this.We,11,new Ed(this.N)),this.ze=new dm(this.referenceDelegate,this.N),this.Ht=new p_,this.He=new Ah(this.N,this.Ht),this.Je=new Ol,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===we&&_r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new b(C.FAILED_PRECONDITION,Oh);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new Kt(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var o=this;return this.Qe=function(){var c=(0,ae.Z)(function*(h){if(o.started)return n(h)});return function(h){return c.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var o=(0,ae.Z)(function*(c){null===c.newVersion&&(yield n())});return function(c){return o.apply(this,arguments)}}())}setNetworkEnabled(n){var o=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,ae.Z)(function*(){o.started&&(yield o.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>wd(n).put(new ie(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(o=>{o||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(o=>this.isPrimary&&!o?this.on(n).next(()=>!1):!!o&&this.an(n).next(()=>!0))).catch(n=>{if(fa(n))return Ht("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Ht("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return bd(n).get(Ts.key).next(o=>at.resolve(this.cn(o)))}un(n){return wd(n).delete(this.clientId)}hn(){var n=this;return(0,ae.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const o=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const h=As(c,ie.store);return h.Lt().next(_=>{const D=n.fn(_,18e5),k=_.filter(W=>-1===D.indexOf(W));return at.forEach(k,W=>h.delete(W.clientId)).next(()=>k)})}).catch(()=>[]);if(n.Ye)for(const c of o)n.Ye.removeItem(n.dn(c.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?at.resolve(!0):bd(n).get(Ts.key).next(o=>{if(null!==o&&this.ln(o.leaseTimestampMs,5e3)&&!this.wn(o.ownerId)){if(this.cn(o)&&this.networkEnabled)return!0;if(!this.cn(o)){if(!o.allowTabSynchronization)throw new b(C.FAILED_PRECONDITION,Oh);return!1}}return!(!this.networkEnabled||!this.inForeground)||wd(n).Lt().next(c=>void 0===this.fn(c,5e3).find(h=>{if(this.clientId!==h.clientId){const D=!this.inForeground&&h.inForeground,k=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||D&&k)return!0}return!1}))}).next(o=>(this.isPrimary!==o&&Ht("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var n=this;return(0,ae.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[Ts.store,ie.store],o=>{const c=new Eh(o,Kt.T);return n.on(c).next(()=>n.un(c))}),n.Ge.close(),n.yn()})()}fn(n,o){return n.filter(c=>this.ln(c.updateTimeMs,o)&&!this.wn(c.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>wd(n).Lt().next(o=>this.fn(o,18e5).map(c=>c.clientId)))}get started(){return this.Be}getMutationQueue(n){return Dh.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,o,c){let _;return Ht("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===o?"readonly":"readwrite",Xt,D=>(_=new Eh(D,this.Le?this.Le.next():Kt.T),"readwrite-primary"===o?this.sn(_).next(k=>!!k||this.rn(_)).next(k=>{if(!k)throw _r(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new b(C.FAILED_PRECONDITION,an);return c(_)}).next(k=>this.an(_).next(()=>k)):this.En(_).next(()=>c(_)))).then(D=>(_.raiseOnCommittedEvent(),D))}En(n){return bd(n).get(Ts.key).next(o=>{if(null!==o&&this.ln(o.leaseTimestampMs,5e3)&&!this.wn(o.ownerId)&&!this.cn(o)&&!(this.Me||this.allowTabSynchronization&&o.allowTabSynchronization))throw new b(C.FAILED_PRECONDITION,Oh)})}an(n){const o=new Ts(this.clientId,this.allowTabSynchronization,Date.now());return bd(n).put(Ts.key,o)}static bt(){return Ti.bt()}on(n){const o=bd(n);return o.get(Ts.key).next(c=>this.cn(c)?(Ht("IndexedDbPersistence","Releasing primary lease."),o.delete(Ts.key)):at.resolve())}ln(n,o){const c=Date.now();return!(n<c-o||n>c&&(_r(`Detected an update time that is in the future: ${n} > ${c}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,lt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var o;try{const c=null!==(null===(o=this.Ye)||void 0===o?void 0:o.getItem(this.dn(n)));return Ht("IndexedDbPersistence",`Client '${n}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return _r("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){_r("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function bd(a){return As(a,Ts.store)}function wd(a){return As(a,ie.store)}function Cd(a,n){let o=a.projectId;return a.isDefaultDatabase||(o+="."+a.database),"firestore/"+n+"/"+o+"/"}class ym{constructor(n,o){this.progress=n,this.Tn=o}}class m_{constructor(n,o,c){this.He=n,this.In=o,this.Ht=c}An(n,o){return this.In.getAllMutationBatchesAffectingDocumentKey(n,o).next(c=>this.Rn(n,o,c))}Rn(n,o,c){return this.He.getEntry(n,o).next(h=>{for(const _ of c)_.applyToLocalView(h);return h})}bn(n,o){n.forEach((c,h)=>{for(const _ of o)_.applyToLocalView(h)})}Pn(n,o){return this.He.getEntries(n,o).next(c=>this.vn(n,c).next(()=>c))}vn(n,o){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,o).next(c=>this.bn(o,c))}getDocumentsMatchingQuery(n,o,c){return pn.isDocumentKey((h=o).path)&&null===h.collectionGroup&&0===h.filters.length?this.Vn(n,o.path):ca(o)?this.Sn(n,o,c):this.Dn(n,o,c);var h}Vn(n,o){return this.An(n,new pn(o)).next(c=>{let h=ad();return c.isFoundDocument()&&(h=h.insert(c.key,c)),h})}Sn(n,o,c){const h=o.collectionGroup;let _=ad();return this.Ht.getCollectionParents(n,h).next(D=>at.forEach(D,k=>{const W=(ue=o,we=k.child(h),new os(we,null,ue.explicitOrderBy.slice(),ue.filters.slice(),ue.limit,ue.limitType,ue.startAt,ue.endAt));var ue,we;return this.Dn(n,W,c).next(ue=>{ue.forEach((we,We)=>{_=_.insert(we,We)})})}).next(()=>_))}Dn(n,o,c){let h,_;return this.He.getDocumentsMatchingQuery(n,o,c).next(D=>(h=D,this.In.getAllMutationBatchesAffectingQuery(n,o))).next(D=>(_=D,this.Cn(n,_,h).next(k=>{h=k;for(const W of _)for(const ue of W.mutations){const we=ue.key;let We=h.get(we);null==We&&(We=Ar.newInvalidDocument(we),h=h.insert(we,We)),vl(ue,We,W.localWriteTime),We.isFoundDocument()||(h=h.remove(we))}}))).next(()=>(h.forEach((D,k)=>{Ds(o,k)||(h=h.remove(D))}),h))}Cn(n,o,c){let h=Or();for(const D of o)for(const k of D.mutations)k instanceof Na&&null===c.get(k.key)&&(h=h.add(k.key));let _=c;return this.He.getEntries(n,h).next(D=>(D.forEach((k,W)=>{W.isFoundDocument()&&(_=_.insert(k,W))}),_))}}class xh{constructor(n,o,c,h){this.targetId=n,this.fromCache=o,this.Nn=c,this.xn=h}static kn(n,o){let c=Or(),h=Or();for(const _ of o.docChanges)switch(_.type){case 0:c=c.add(_.doc.key);break;case 1:h=h.add(_.doc.key)}return new xh(n,o.fromCache,c,h)}}class _m{$n(n){this.On=n}getDocumentsMatchingQuery(n,o,c,h){return 0===(_=o).filters.length&&null===_.limit&&null==_.startAt&&null==_.endAt&&(0===_.explicitOrderBy.length||1===_.explicitOrderBy.length&&_.explicitOrderBy[0].field.isKeyField())||c.isEqual(Tn.min())?this.Fn(n,o):this.On.Pn(n,h).next(_=>{const D=this.Mn(o,_);return(qu(o)||fi(o))&&this.Ln(o.limitType,D,h,c)?this.Fn(n,o):(ko()<=St.in.DEBUG&&Ht("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),su(o)),this.On.getDocumentsMatchingQuery(n,o,c).next(k=>(D.forEach(W=>{k=k.insert(W.key,W)}),k)))});var _}Mn(n,o){let c=new ri(Yu(n));return o.forEach((h,_)=>{Ds(n,_)&&(c=c.add(_))}),c}Ln(n,o,c,h){if(c.size!==o.size)return!0;const _="F"===n?o.last():o.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(h)>0)}Fn(n,o){return ko()<=St.in.DEBUG&&Ht("QueryEngine","Using full collection scan to execute query:",su(o)),this.On.getDocumentsMatchingQuery(n,o,Tn.min())}}class vm{constructor(n,o,c,h){this.persistence=n,this.Bn=o,this.N=h,this.Un=new zi(dn),this.qn=new Zc(_=>Ys(_),V),this.Kn=Tn.min(),this.In=n.getMutationQueue(c),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new m_(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>n.collect(o,this.Un))}}function Em(a,n,o,c){return new vm(a,n,o,c)}function bm(a,n){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,ae.Z)(function*(a,n){const o=Jt(a);let c=o.In,h=o.Qn;const _=yield o.persistence.runTransaction("Handle user change","readonly",D=>{let k;return o.In.getAllMutationBatches(D).next(W=>(k=W,c=o.persistence.getMutationQueue(n),h=new m_(o.jn,c,o.persistence.getIndexManager()),c.getAllMutationBatches(D))).next(W=>{const ue=[],we=[];let We=Or();for(const _t of k){ue.push(_t.batchId);for(const Ot of _t.mutations)We=We.add(Ot.key)}for(const _t of W){we.push(_t.batchId);for(const Ot of _t.mutations)We=We.add(Ot.key)}return h.Pn(D,We).next(_t=>({Wn:_t,removedBatchIds:ue,addedBatchIds:we}))})});return o.In=c,o.Qn=h,o.Bn.$n(o.Qn),_})).apply(this,arguments)}function y_(a,n){const o=Jt(a);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const h=n.batch.keys(),_=o.jn.newChangeBuffer({trackRemovals:!0});return function(D,k,W,ue){const we=W.batch,We=we.keys();let _t=at.resolve();return We.forEach(Ot=>{_t=_t.next(()=>ue.getEntry(k,Ot)).next(Zt=>{const On=W.docVersions.get(Ot);Dn(null!==On),Zt.version.compareTo(On)<0&&(we.applyToRemoteDocument(Zt,W),Zt.isValidDocument()&&ue.addEntry(Zt,W.commitVersion))})}),_t.next(()=>D.In.removeMutationBatch(k,we))}(o,c,n,_).next(()=>_.apply(c)).next(()=>o.In.performConsistencyCheck(c)).next(()=>o.Qn.Pn(c,h))})}function rp(a){const n=Jt(a);return n.persistence.runTransaction("Get last remote snapshot version","readonly",o=>n.ze.getLastRemoteSnapshotVersion(o))}function __(a,n){const o=Jt(a),c=n.snapshotVersion;let h=o.Un;return o.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const D=o.jn.newChangeBuffer({trackRemovals:!0});h=o.Un;const k=[];n.targetChanges.forEach((ue,we)=>{const We=h.get(we);if(!We)return;k.push(o.ze.removeMatchingKeys(_,ue.removedDocuments,we).next(()=>o.ze.addMatchingKeys(_,ue.addedDocuments,we)));const _t=ue.resumeToken;if(_t.approximateByteSize()>0){const Ot=We.withResumeToken(_t,c).withSequenceNumber(_.currentSequenceNumber);h=h.insert(we,Ot),Zt=We,er=ue,Dn((On=Ot).resumeToken.approximateByteSize()>0),(0===Zt.resumeToken.approximateByteSize()||On.snapshotVersion.toMicroseconds()-Zt.snapshotVersion.toMicroseconds()>=3e8||er.addedDocuments.size+er.modifiedDocuments.size+er.removedDocuments.size>0)&&k.push(o.ze.updateTargetData(_,Ot))}var Zt,On,er});let W=Fs();if(n.documentUpdates.forEach((ue,we)=>{n.resolvedLimboDocuments.has(ue)&&k.push(o.persistence.referenceDelegate.updateLimboDocument(_,ue))}),k.push(wm(_,D,n.documentUpdates,c,void 0).next(ue=>{W=ue})),!c.isEqual(Tn.min())){const ue=o.ze.getLastRemoteSnapshotVersion(_).next(we=>o.ze.setTargetsMetadata(_,_.currentSequenceNumber,c));k.push(ue)}return at.waitFor(k).next(()=>D.apply(_)).next(()=>o.Qn.vn(_,W)).next(()=>W)}).then(_=>(o.Un=h,_))}function wm(a,n,o,c,h){let _=Or();return o.forEach(D=>_=_.add(D)),n.getEntries(a,_).next(D=>{let k=Fs();return o.forEach((W,ue)=>{const we=D.get(W),We=(null==h?void 0:h.get(W))||c;ue.isNoDocument()&&ue.version.isEqual(Tn.min())?(n.removeEntry(W,We),k=k.insert(W,ue)):!we.isValidDocument()||ue.version.compareTo(we.version)>0||0===ue.version.compareTo(we.version)&&we.hasPendingWrites?(n.addEntry(ue,We),k=k.insert(W,ue)):Ht("LocalStore","Ignoring outdated watch update for ",W,". Current version:",we.version," Watch version:",ue.version)}),k})}function v_(a,n){const o=Jt(a);return o.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===n&&(n=-1),o.In.getNextMutationBatchAfterBatchId(c,n)))}function Rl(a,n){const o=Jt(a);return o.persistence.runTransaction("Allocate target","readwrite",c=>{let h;return o.ze.getTargetData(c,n).next(_=>_?(h=_,at.resolve(h)):o.ze.allocateTargetId(c).next(D=>(h=new Ki(n,D,0,c.currentSequenceNumber),o.ze.addTargetData(c,h).next(()=>h))))}).then(c=>{const h=o.Un.get(c.targetId);return(null===h||c.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(o.Un=o.Un.insert(c.targetId,c),o.qn.set(n,c.targetId)),c})}function Yc(a,n,o){return ip.apply(this,arguments)}function ip(){return(ip=(0,ae.Z)(function*(a,n,o){const c=Jt(a),h=c.Un.get(n),_=o?"readwrite":"readwrite-primary";try{o||(yield c.persistence.runTransaction("Release target",_,D=>c.persistence.referenceDelegate.removeTarget(D,h)))}catch(D){if(!fa(D))throw D;Ht("LocalStore",`Failed to update sequence numbers for target ${n}: ${D}`)}c.Un=c.Un.remove(n),c.qn.delete(h.target)})).apply(this,arguments)}function Mh(a,n,o){const c=Jt(a);let h=Tn.min(),_=Or();return c.persistence.runTransaction("Execute query","readonly",D=>function(k,W,ue){const we=Jt(k),We=we.qn.get(ue);return void 0!==We?at.resolve(we.Un.get(We)):we.ze.getTargetData(W,ue)}(c,D,Qs(n)).next(k=>{if(k)return h=k.lastLimboFreeSnapshotVersion,c.ze.getMatchingKeysForTargetId(D,k.targetId).next(W=>{_=W})}).next(()=>c.Bn.getDocumentsMatchingQuery(D,n,o?h:Tn.min(),o?_:Or())).next(k=>({documents:k,Gn:_})))}function Cm(a,n){const o=Jt(a),c=Jt(o.ze),h=o.Un.get(n);return h?Promise.resolve(h.target):o.persistence.runTransaction("Get target data","readonly",_=>c.Et(_,n).next(D=>D?D.target:null))}function Kn(a){const n=Jt(a);return n.persistence.runTransaction("Get new document changes","readonly",o=>function(c,h,_){const D=Jt(c);let k=Fs(),W=wh(_);const ue=Mu(h),we=IDBKeyRange.lowerBound(W,!0);return ue.Kt({index:Qr.readTimeIndex,range:we},(We,_t)=>{const Ot=md(D.N,_t);k=k.insert(Ot.key,Ot),W=_t.readTime}).next(()=>({Tn:k,readTime:Sl(W)}))}(n.jn,o,n.Kn)).then(({Tn:o,readTime:c})=>(n.Kn=c,o))}function Rh(){return(Rh=(0,ae.Z)(function*(a){const n=Jt(a);return n.persistence.runTransaction("Synchronize last document change read time","readonly",o=>function(c){const h=Mu(c);let _=Tn.min();return h.Kt({index:Qr.readTimeIndex,reverse:!0},(D,k,W)=>{k.readTime&&(_=Sl(k.readTime)),W.done()}).next(()=>_)}(o)).then(o=>{n.Kn=o})})).apply(this,arguments)}function Go(){return(Go=(0,ae.Z)(function*(a,n,o,c){const h=Jt(a);let _=Or(),D=Fs(),k=lh();for(const we of o){const We=n.zn(we.metadata.name);we.document&&(_=_.add(We)),D=D.insert(We,n.Hn(we)),k=k.insert(We,n.Jn(we.metadata.readTime))}const W=h.jn.newChangeBuffer({trackRemovals:!0}),ue=yield Rl(h,(we=c,Qs(Co(Ir.fromString(`__bundle__/docs/${we}`)))));var we;return h.persistence.runTransaction("Apply bundle documents","readwrite",we=>wm(we,W,D,Tn.min(),k).next(We=>(W.apply(we),We)).next(We=>h.ze.removeMatchingKeysForTargetId(we,ue.targetId).next(()=>h.ze.addMatchingKeys(we,_,ue.targetId)).next(()=>h.Qn.vn(we,We)).next(()=>We)))})).apply(this,arguments)}function Dm(a,n){return sp.apply(this,arguments)}function sp(){return(sp=(0,ae.Z)(function*(a,n,o=Or()){const c=yield Rl(a,Qs(om(n.bundledQuery))),h=Jt(a);return h.persistence.runTransaction("Save named query","readwrite",_=>{const D=Xi(n.readTime);if(c.snapshotVersion.compareTo(D)>=0)return h.Je.saveNamedQuery(_,n);const k=c.withResumeToken(Ui.EMPTY_BYTE_STRING,D);return h.Un=h.Un.insert(k.targetId,k),h.ze.updateTargetData(_,k).next(()=>h.ze.removeMatchingKeysForTargetId(_,c.targetId)).next(()=>h.ze.addMatchingKeys(_,o,c.targetId)).next(()=>h.Je.saveNamedQuery(_,n))})})).apply(this,arguments)}class op{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,o){return at.resolve(this.Yn.get(o))}saveBundleMetadata(n,o){var c;return this.Yn.set(o.id,{id:(c=o).id,version:c.version,createTime:Xi(c.createTime)}),at.resolve()}getNamedQuery(n,o){return at.resolve(this.Xn.get(o))}saveNamedQuery(n,o){return this.Xn.set(o.name,{name:(c=o).name,query:om(c.bundledQuery),readTime:Xi(c.readTime)}),at.resolve();var c}}class Va{constructor(){this.Zn=new ri(es.ts),this.es=new ri(es.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,o){const c=new es(n,o);this.Zn=this.Zn.add(c),this.es=this.es.add(c)}ss(n,o){n.forEach(c=>this.addReference(c,o))}removeReference(n,o){this.rs(new es(n,o))}os(n,o){n.forEach(c=>this.removeReference(c,o))}cs(n){const o=new pn(new Ir([])),c=new es(o,n),h=new es(o,n+1),_=[];return this.es.forEachInRange([c,h],D=>{this.rs(D),_.push(D.key)}),_}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const o=new pn(new Ir([])),c=new es(o,n),h=new es(o,n+1);let _=Or();return this.es.forEachInRange([c,h],D=>{_=_.add(D.key)}),_}containsKey(n){const o=new es(n,0),c=this.Zn.firstAfterOrEqual(o);return null!==c&&n.isEqual(c.key)}}class es{constructor(n,o){this.key=n,this.ls=o}static ts(n,o){return pn.comparator(n.key,o.key)||dn(n.ls,o.ls)}static ns(n,o){return dn(n.ls,o.ls)||pn.comparator(n.key,o.key)}}class Tm{constructor(n,o){this.Ht=n,this.referenceDelegate=o,this.In=[],this.fs=1,this.ds=new ri(es.ts)}checkEmpty(n){return at.resolve(0===this.In.length)}addMutationBatch(n,o,c,h){const _=this.fs;this.fs++;const D=new Hc(_,o,c,h);this.In.push(D);for(const k of h)this.ds=this.ds.add(new es(k.key,_)),this.Ht.addToCollectionParentIndex(n,k.key.path.popLast());return at.resolve(D)}lookupMutationBatch(n,o){return at.resolve(this.ws(o))}getNextMutationBatchAfterBatchId(n,o){const h=this._s(o+1),_=h<0?0:h;return at.resolve(this.In.length>_?this.In[_]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return at.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,o){const c=new es(o,0),h=new es(o,Number.POSITIVE_INFINITY),_=[];return this.ds.forEachInRange([c,h],D=>{const k=this.ws(D.ls);_.push(k)}),at.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(n,o){let c=new ri(dn);return o.forEach(h=>{const _=new es(h,0),D=new es(h,Number.POSITIVE_INFINITY);this.ds.forEachInRange([_,D],k=>{c=c.add(k.ls)})}),at.resolve(this.gs(c))}getAllMutationBatchesAffectingQuery(n,o){const c=o.path,h=c.length+1;let _=c;pn.isDocumentKey(_)||(_=_.child(""));const D=new es(new pn(_),0);let k=new ri(dn);return this.ds.forEachWhile(W=>{const ue=W.key.path;return!!c.isPrefixOf(ue)&&(ue.length===h&&(k=k.add(W.ls)),!0)},D),at.resolve(this.gs(k))}gs(n){const o=[];return n.forEach(c=>{const h=this.ws(c);null!==h&&o.push(h)}),o}removeMutationBatch(n,o){Dn(0===this.ys(o.batchId,"removed")),this.In.shift();let c=this.ds;return at.forEach(o.mutations,h=>{const _=new es(h.key,o.batchId);return c=c.delete(_),this.referenceDelegate.markPotentiallyOrphaned(n,h.key)}).next(()=>{this.ds=c})}te(n){}containsKey(n,o){const c=new es(o,0),h=this.ds.firstAfterOrEqual(c);return at.resolve(o.isEqual(h&&h.key))}performConsistencyCheck(n){return at.resolve()}ys(n,o){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const o=this._s(n);return o<0||o>=this.In.length?null:this.In[o]}}class ap{constructor(n,o){this.Ht=n,this.ps=o,this.docs=new zi(pn.comparator),this.size=0}addEntry(n,o,c){const h=o.key,_=this.docs.get(h),D=_?_.size:0,k=this.ps(o);return this.docs=this.docs.insert(h,{document:o.clone(),size:k,readTime:c}),this.size+=k-D,this.Ht.addToCollectionParentIndex(n,h.path.popLast())}removeEntry(n){const o=this.docs.get(n);o&&(this.docs=this.docs.remove(n),this.size-=o.size)}getEntry(n,o){const c=this.docs.get(o);return at.resolve(c?c.document.clone():Ar.newInvalidDocument(o))}getEntries(n,o){let c=Fs();return o.forEach(h=>{const _=this.docs.get(h);c=c.insert(h,_?_.document.clone():Ar.newInvalidDocument(h))}),at.resolve(c)}getDocumentsMatchingQuery(n,o,c){let h=Fs();const _=new pn(o.path.child("")),D=this.docs.getIteratorFrom(_);for(;D.hasNext();){const{key:k,value:{document:W,readTime:ue}}=D.getNext();if(!o.path.isPrefixOf(k.path))break;ue.compareTo(c)<=0||Ds(o,W)&&(h=h.insert(W.key,W.clone()))}return at.resolve(h)}Es(n,o){return at.forEach(this.docs,c=>o(c))}newChangeBuffer(n){return new ME(this)}getSize(n){return at.resolve(this.size)}}class ME extends vd{constructor(n){super(),this.Se=n}applyChanges(n){const o=[];return this.changes.forEach((c,h)=>{h.document.isValidDocument()?o.push(this.Se.addEntry(n,h.document,this.getReadTime(c))):this.Se.removeEntry(c)}),at.waitFor(o)}getFromCache(n,o){return this.Se.getEntry(n,o)}getAllFromCache(n,o){return this.Se.getEntries(n,o)}}class Am{constructor(n){this.persistence=n,this.Ts=new Zc(o=>Ys(o),V),this.lastRemoteSnapshotVersion=Tn.min(),this.highestTargetId=0,this.Is=0,this.As=new Va,this.targetCount=0,this.Rs=Kc.se()}forEachTarget(n,o){return this.Ts.forEach((c,h)=>o(h)),at.resolve()}getLastRemoteSnapshotVersion(n){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return at.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(n,o,c){return c&&(this.lastRemoteSnapshotVersion=c),o>this.Is&&(this.Is=o),at.resolve()}ae(n){this.Ts.set(n.target,n);const o=n.targetId;o>this.highestTargetId&&(this.Rs=new Kc(o),this.highestTargetId=o),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,o){return this.ae(o),this.targetCount+=1,at.resolve()}updateTargetData(n,o){return this.ae(o),at.resolve()}removeTargetData(n,o){return this.Ts.delete(o.target),this.As.cs(o.targetId),this.targetCount-=1,at.resolve()}removeTargets(n,o,c){let h=0;const _=[];return this.Ts.forEach((D,k)=>{k.sequenceNumber<=o&&null===c.get(k.targetId)&&(this.Ts.delete(D),_.push(this.removeMatchingKeysForTargetId(n,k.targetId)),h++)}),at.waitFor(_).next(()=>h)}getTargetCount(n){return at.resolve(this.targetCount)}getTargetData(n,o){const c=this.Ts.get(o)||null;return at.resolve(c)}addMatchingKeys(n,o,c){return this.As.ss(o,c),at.resolve()}removeMatchingKeys(n,o,c){this.As.os(o,c);const h=this.persistence.referenceDelegate,_=[];return h&&o.forEach(D=>{_.push(h.markPotentiallyOrphaned(n,D))}),at.waitFor(_)}removeMatchingKeysForTargetId(n,o){return this.As.cs(o),at.resolve()}getMatchingKeysForTargetId(n,o){const c=this.As.hs(o);return at.resolve(c)}containsKey(n,o){return at.resolve(this.As.containsKey(o))}}class RE{constructor(n,o){this.bs={},this.Le=new Kt(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new Am(this),this.Ht=new f_,this.He=new ap(this.Ht,c=>this.referenceDelegate.Ps(c)),this.N=new Al(o),this.Je=new op(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let o=this.bs[n.toKey()];return o||(o=new Tm(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=o),o}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,o,c){Ht("MemoryPersistence","Starting transaction:",n);const h=new Ru(this.Le.next());return this.referenceDelegate.vs(),c(h).next(_=>this.referenceDelegate.Vs(h).next(()=>_)).toPromise().then(_=>(h.raiseOnCommittedEvent(),_))}Ss(n,o){return at.or(Object.values(this.bs).map(c=>()=>c.containsKey(n,o)))}}class Ru extends Ln{constructor(n){super(),this.currentSequenceNumber=n}}class Pl{constructor(n){this.persistence=n,this.Ds=new Va,this.Cs=null}static Ns(n){return new Pl(n)}get xs(){if(this.Cs)return this.Cs;throw fn()}addReference(n,o,c){return this.Ds.addReference(c,o),this.xs.delete(c.toString()),at.resolve()}removeReference(n,o,c){return this.Ds.removeReference(c,o),this.xs.add(c.toString()),at.resolve()}markPotentiallyOrphaned(n,o){return this.xs.add(o.toString()),at.resolve()}removeTarget(n,o){this.Ds.cs(o.targetId).forEach(h=>this.xs.add(h.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(n,o.targetId).next(h=>{h.forEach(_=>this.xs.add(_.toString()))}).next(()=>c.removeTargetData(n,o))}vs(){this.Cs=new Set}Vs(n){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.xs,c=>{const h=pn.fromPath(c);return this.ks(n,h).next(_=>{_||o.removeEntry(h)})}).next(()=>(this.Cs=null,o.apply(n)))}updateLimboDocument(n,o){return this.ks(n,o).next(c=>{c?this.xs.delete(o.toString()):this.xs.add(o.toString())})}Ps(n){return 0}ks(n,o){return at.or([()=>at.resolve(this.Ds.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(n,o),()=>this.persistence.Ss(n,o)])}}function Id(a,n){return`firestore_clients_${a}_${n}`}function Nh(a,n,o){let c=`firestore_mutations_${a}_${o}`;return n.isAuthenticated()&&(c+=`_${n.uid}`),c}function Sm(a,n){return`firestore_targets_${a}_${n}`}class Fh{constructor(n,o,c,h){this.user=n,this.batchId=o,this.state=c,this.error=h}static $s(n,o,c){const h=JSON.parse(c);let _,D="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return D&&h.error&&(D="string"==typeof h.error.message&&"string"==typeof h.error.code,D&&(_=new b(h.error.code,h.error.message))),D?new Fh(n,o,h.state,_):(_r("SharedClientState",`Failed to parse mutation state for ID '${o}': ${c}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Nl{constructor(n,o,c){this.targetId=n,this.state=o,this.error=c}static $s(n,o){const c=JSON.parse(o);let h,_="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return _&&c.error&&(_="string"==typeof c.error.message&&"string"==typeof c.error.code,_&&(h=new b(c.error.code,c.error.message))),_?new Nl(n,c.state,h):(_r("SharedClientState",`Failed to parse target state for ID '${n}': ${o}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class up{constructor(n,o){this.clientId=n,this.activeTargetIds=o}static $s(n,o){const c=JSON.parse(o);let h="object"==typeof c&&c.activeTargetIds instanceof Array,_=au();for(let D=0;h&&D<c.activeTargetIds.length;++D)h=nu(c.activeTargetIds[D]),_=_.add(c.activeTargetIds[D]);return h?new up(n,_):(_r("SharedClientState",`Failed to parse client data for instance '${n}': ${o}`),null)}}class cp{constructor(n,o){this.clientId=n,this.onlineState=o}static $s(n){const o=JSON.parse(n);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new cp(o.clientId,o.onlineState):(_r("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Om{constructor(){this.activeTargetIds=au()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class kh{constructor(n,o,c,h,_){this.window=n,this.Oe=o,this.persistenceKey=c,this.Ls=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new zi(dn),this.started=!1,this.Ks=[];const D=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.js=Id(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Om),this.Ws=new RegExp(`^firestore_clients_${D}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${D}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${D}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(k){return`firestore_bundle_loaded_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,ae.Z)(function*(){const o=yield n.syncEngine.pn();for(const h of o){if(h===n.Ls)continue;const _=n.getItem(Id(n.persistenceKey,h));if(_){const D=up.$s(h,_);D&&(n.qs=n.qs.insert(D.clientId,D))}}n.Ys();const c=n.storage.getItem(n.Hs);if(c){const h=n.Xs(c);h&&n.Zs(h)}for(const h of n.Ks)n.Us(h);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let o=!1;return this.qs.forEach((c,h)=>{h.activeTargetIds.has(n)&&(o=!0)}),o}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,o,c){this.ei(n,o,c),this.ni(n)}addLocalQueryTarget(n){let o="not-current";if(this.isActiveQueryTarget(n)){const c=this.storage.getItem(Sm(this.persistenceKey,n));if(c){const h=Nl.$s(n,c);h&&(o=h.state)}}return this.si.Fs(n),this.Ys(),o}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(Sm(this.persistenceKey,n))}updateQueryState(n,o,c){this.ii(n,o,c)}handleUserChange(n,o,c){o.forEach(h=>{this.ni(h)}),this.currentUser=n,c.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const o=this.storage.getItem(n);return Ht("SharedClientState","READ",n,o),o}setItem(n,o){Ht("SharedClientState","SET",n,o),this.storage.setItem(n,o)}removeItem(n){Ht("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var o=this;const c=n;if(c.storageArea===this.storage){if(Ht("SharedClientState","EVENT",c.key,c.newValue),c.key===this.js)return void _r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ae.Z)(function*(){if(o.started){if(null!==c.key)if(o.Ws.test(c.key)){if(null==c.newValue){const h=o.ai(c.key);return o.ci(h,null)}{const h=o.ui(c.key,c.newValue);if(h)return o.ci(h.clientId,h)}}else if(o.Gs.test(c.key)){if(null!==c.newValue){const h=o.hi(c.key,c.newValue);if(h)return o.li(h)}}else if(o.zs.test(c.key)){if(null!==c.newValue){const h=o.fi(c.key,c.newValue);if(h)return o.di(h)}}else if(c.key===o.Hs){if(null!==c.newValue){const h=o.Xs(c.newValue);if(h)return o.Zs(h)}}else if(c.key===o.Qs){const h=function(_){let D=Kt.T;if(null!=_)try{const k=JSON.parse(_);Dn("number"==typeof k),D=k}catch(k){_r("SharedClientState","Failed to read sequence number from WebStorage",k)}return D}(c.newValue);h!==Kt.T&&o.sequenceNumberHandler(h)}else if(c.key===o.Js)return o.syncEngine.wi()}else o.Ks.push(c)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,o,c){const h=new Fh(this.currentUser,n,o,c),_=Nh(this.persistenceKey,this.currentUser,n);this.setItem(_,h.Os())}ni(n){const o=Nh(this.persistenceKey,this.currentUser,n);this.removeItem(o)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,o,c){const h=Sm(this.persistenceKey,n),_=new Nl(n,o,c);this.setItem(h,_.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const o=this.Ws.exec(n);return o?o[1]:null}ui(n,o){const c=this.ai(n);return up.$s(c,o)}hi(n,o){const c=this.Gs.exec(n),h=Number(c[1]);return Fh.$s(new ti(void 0!==c[2]?c[2]:null),h,o)}fi(n,o){const c=this.zs.exec(n),h=Number(c[1]);return Nl.$s(h,o)}Xs(n){return cp.$s(n)}li(n){var o=this;return(0,ae.Z)(function*(){if(n.user.uid===o.currentUser.uid)return o.syncEngine._i(n.batchId,n.state,n.error);Ht("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,o){const c=o?this.qs.insert(n,o):this.qs.remove(n),h=this.ti(this.qs),_=this.ti(c),D=[],k=[];return _.forEach(W=>{h.has(W)||D.push(W)}),h.forEach(W=>{_.has(W)||k.push(W)}),this.syncEngine.gi(D,k).then(()=>{this.qs=c})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let o=au();return n.forEach((c,h)=>{o=o.unionWith(h.activeTargetIds)}),o}}class lp{constructor(){this.yi=new Om,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,o,c){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,o,c){this.pi[n]=o}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new Om,Promise.resolve()}handleUserChange(n,o,c){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class E_{Ei(n){}shutdown(){}}class Lh{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const PE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class NE{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class FE extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,o,c,h){const _=this.Bi(n,o);Ht("RestConnection","Sending: ",_,c);const D={};return this.Ui(D,h),this.qi(n,_,D,c).then(k=>(Ht("RestConnection","Received: ",k),k),k=>{throw ni("RestConnection",`${n} failed with error: `,k,"url: ",_,"request:",c),k})}Ki(n,o,c,h){return this.Li(n,o,c,h)}Ui(n,o){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+Sa,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o)for(const c in o.authHeaders)o.authHeaders.hasOwnProperty(c)&&(n[c]=o.authHeaders[c])}Bi(n,o){return`${this.Fi}/v1/${o}:${PE[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,o,c,h){return new Promise((_,D)=>{const k=new Aa;k.listenOnce(Rs.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case zs.NO_ERROR:const ue=k.getResponseJson();Ht("Connection","XHR received:",JSON.stringify(ue)),_(ue);break;case zs.TIMEOUT:Ht("Connection",'RPC "'+n+'" timed out'),D(new b(C.DEADLINE_EXCEEDED,"Request time out"));break;case zs.HTTP_ERROR:const we=k.getStatus();if(Ht("Connection",'RPC "'+n+'" failed with status:',we,"response text:",k.getResponseText()),we>0){const We=k.getResponseJson().error;if(We&&We.status&&We.message){const _t=function(Ot){const Zt=Ot.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(Zt)>=0?Zt:C.UNKNOWN}(We.status);D(new b(_t,We.message))}else D(new b(C.UNKNOWN,"Server responded with status "+k.getStatus()))}else D(new b(C.UNAVAILABLE,"Connection failed."));break;default:fn()}}finally{Ht("Connection",'RPC "'+n+'" completed.')}});const W=JSON.stringify(h);k.send(o,"POST",W,c,15)})}ji(n,o){const c=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],h=Ya(),_=Ta(),D={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(D.xmlHttpFactory=new Qa({})),this.Ui(D.initMessageHeaders,o),(0,lt.uI)()||(0,lt.b$)()||(0,lt.d)()||(0,lt.w1)()||(0,lt.Mn)()||(0,lt.ru)()||(D.httpHeadersOverwriteParam="$httpHeaders");const k=c.join("");Ht("Connection","Creating WebChannel: "+k,D);const W=h.createWebChannel(k,D);let ue=!1,we=!1;const We=new NE({vi:Ot=>{we?Ht("Connection","Not sending because WebChannel is closed:",Ot):(ue||(Ht("Connection","Opening WebChannel transport."),W.open(),ue=!0),Ht("Connection","WebChannel sending:",Ot),W.send(Ot))},Vi:()=>W.close()}),_t=(Ot,Zt,On)=>{Ot.listen(Zt,er=>{try{On(er)}catch(xi){setTimeout(()=>{throw xi},0)}})};return _t(W,Is.EventType.OPEN,()=>{we||Ht("Connection","WebChannel transport opened.")}),_t(W,Is.EventType.CLOSE,()=>{we||(we=!0,Ht("Connection","WebChannel transport closed"),We.$i())}),_t(W,Is.EventType.ERROR,Ot=>{we||(we=!0,ni("Connection","WebChannel transport errored:",Ot),We.$i(new b(C.UNAVAILABLE,"The operation could not be completed")))}),_t(W,Is.EventType.MESSAGE,Ot=>{var Zt;if(!we){const On=Ot.data[0];Dn(!!On);const er=On,xi=er.error||(null===(Zt=er[0])||void 0===Zt?void 0:Zt.error);if(xi){Ht("Connection","WebChannel received error:",xi);const _a=xi.status;let Ga=function(Lu){const Df=Br[Lu];if(void 0!==Df)return uh(Df)}(_a),gu=xi.message;void 0===Ga&&(Ga=C.INTERNAL,gu="Unknown error status: "+_a+" with message "+xi.message),we=!0,We.$i(new b(Ga,gu)),W.close()}else Ht("Connection","WebChannel received:",On),We.Oi(On)}}),_t(_,Zr.STAT_EVENT,Ot=>{Ot.stat===Ks.PROXY?Ht("Connection","Detected buffering proxy"):Ot.stat===Ks.NOPROXY&&Ht("Connection","Detected no buffering proxy")}),setTimeout(()=>{We.ki()},0),We}}function b_(){return"undefined"!=typeof window?window:null}function dp(){return"undefined"!=typeof document?document:null}function Vh(a){return new dh(a,!0)}class xm{constructor(n,o,c=1e3,h=1.5,_=6e4){this.Oe=n,this.timerId=o,this.Qi=c,this.Wi=h,this.Gi=_,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const o=Math.floor(this.zi+this.Zi()),c=Math.max(0,Date.now()-this.Ji),h=Math.max(0,o-c);h>0&&Ht("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.zi} ms, delay with jitter: ${o} ms, last attempt: ${c} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,h,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class w_{constructor(n,o,c,h,_,D){this.Oe=n,this.er=c,this.nr=h,this.credentialsProvider=_,this.listener=D,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new xm(n,o)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,ae.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,ae.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,o){var c=this;return(0,ae.Z)(function*(){c._r(),c.rr.cancel(),c.sr++,3!==n?c.rr.reset():o&&o.code===C.RESOURCE_EXHAUSTED?(_r(o.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),c.rr.Yi()):o&&o.code===C.UNAUTHENTICATED&&c.credentialsProvider.invalidateToken(),null!==c.stream&&(c.mr(),c.stream.close(),c.stream=null),c.state=n,yield c.listener.Ci(o)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),o=this.sr;this.credentialsProvider.getToken().then(c=>{this.sr===o&&this.yr(c)},c=>{n(()=>{const h=new b(C.UNKNOWN,"Fetching auth token failed: "+c.message);return this.pr(h)})})}yr(n){const o=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{o(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(c=>{o(()=>this.pr(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}ur(){var n=this;this.state=4,this.rr.Xi((0,ae.Z)(function*(){n.state=0,n.start()}))}pr(n){return Ht("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return o=>{this.Oe.enqueueAndForget(()=>this.sr===n?o():(Ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kE extends w_{constructor(n,o,c,h,_){super(n,"listen_stream_connection_backoff","listen_stream_idle",o,c,_),this.N=h}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const o=function(a,n){let o;if("targetChange"in n){const c="NO_CHANGE"===(W=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:fn(),h=n.targetChange.targetIds||[],_=function(W,ue){return W.D?(Dn(void 0===ue||"string"==typeof ue),Ui.fromBase64String(ue||"")):(Dn(void 0===ue||ue instanceof Uint8Array),Ui.fromUint8Array(ue||new Uint8Array))}(a,n.targetChange.resumeToken),D=n.targetChange.cause,k=D&&function(W){const ue=void 0===W.code?C.UNKNOWN:uh(W.code);return new b(ue,W.message||"")}(D);o=new ud(c,h,_,k||null)}else if("documentChange"in n){const c=n.documentChange,h=Js(a,c.document.name),_=Xi(c.document.updateTime),D=new Ji({mapValue:{fields:c.document.fields}}),k=Ar.newFoundDocument(h,_,D);o=new Lc(c.targetIds||[],c.removedTargetIds||[],k.key,k)}else if("documentDelete"in n){const c=n.documentDelete,h=Js(a,c.document),_=c.readTime?Xi(c.readTime):Tn.min(),D=Ar.newNoDocument(h,_);o=new Lc([],c.removedTargetIds||[],D.key,D)}else if("documentRemove"in n){const c=n.documentRemove,h=Js(a,c.document);o=new Lc([],c.removedTargetIds||[],h,null)}else{if(!("filter"in n))return fn();{const c=n.filter,_=new Kf(c.count||0);o=new Yf(c.targetId,_)}}var W;return o}(this.N,n),c=function(h){if(!("targetChange"in h))return Tn.min();const _=h.targetChange;return _.targetIds&&_.targetIds.length?Tn.min():_.readTime?Xi(_.readTime):Tn.min()}(n);return this.listener.Tr(o,c)}Ir(n){const o={};o.database=Vc(this.N),o.addTarget=function(h,_){let D;const k=_.target;return D=X(k)?{documents:jc(h,k)}:{query:gh(h,k)},D.targetId=_.targetId,_.resumeToken.approximateByteSize()>0?D.resumeToken=hh(h,_.resumeToken):_.snapshotVersion.compareTo(Tn.min())>0&&(D.readTime=tc(h,_.snapshotVersion.toTimestamp())),D}(this.N,n);const c=function(a,n){const o=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fn()}}(0,n.purpose);return null==o?null:{"goog-listen-tags":o}}(0,n);c&&(o.labels=c),this.wr(o)}Ar(n){const o={};o.database=Vc(this.N),o.removeTarget=n,this.wr(o)}}class LE extends w_{constructor(n,o,c,h,_){super(n,"write_stream_connection_backoff","write_stream_idle",o,c,_),this.N=h,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(Dn(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const o=function(a,n){return a&&a.length>0?(Dn(void 0!==n),a.map(o=>function(c,h){let _=Xi(c.updateTime?c.updateTime:h);return _.isEqual(Tn.min())&&(_=Xi(h)),new Nc(_,c.transformResults||[])}(o,n))):[]}(n.writeResults,n.commitTime),c=Xi(n.commitTime);return this.listener.vr(c,o)}return Dn(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=Vc(this.N),this.wr(n)}Pr(n){const o={streamToken:this.lastStreamToken,writes:n.map(c=>Cl(this.N,c))};this.wr(o)}}class VE extends class{}{constructor(n,o,c){super(),this.credentials=n,this.nr=o,this.N=c,this.Dr=!1}Cr(){if(this.Dr)throw new b(C.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,o,c){return this.Cr(),this.credentials.getToken().then(h=>this.nr.Li(n,o,c,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===C.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new b(C.UNKNOWN,h.toString())})}Ki(n,o,c){return this.Cr(),this.credentials.getToken().then(h=>this.nr.Ki(n,o,c,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===C.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new b(C.UNKNOWN,h.toString())})}terminate(){this.Dr=!0}}class lc{constructor(n,o){this.asyncQueue=n,this.onlineStateHandler=o,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const o=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(_r(o),this.$r=!1):Ht("OnlineStateTracker",o)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class hp{constructor(n,o,c,h,_){var D=this;this.localStore=n,this.datastore=o,this.asyncQueue=c,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=_,this.Qr.Ei(k=>{c.enqueueAndForget((0,ae.Z)(function*(){var W;hu(D)&&(Ht("RemoteStore","Restarting streams for network reachability change."),yield(W=(0,ae.Z)(function*(ue){const we=Jt(ue);we.Kr.add(4),yield dc(we),we.Wr.set("Unknown"),we.Kr.delete(4),yield Dd(we)}),function(ue){return W.apply(this,arguments)})(D))}))}),this.Wr=new lc(c,h)}}function Dd(a){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,ae.Z)(function*(a){if(hu(a))for(const n of a.jr)yield n(!0)})).apply(this,arguments)}function dc(a){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,ae.Z)(function*(a){for(const n of a.jr)yield n(!1)})).apply(this,arguments)}function Fl(a,n){const o=Jt(a);o.qr.has(n.targetId)||(o.qr.set(n.targetId,n),Mm(o)?pp(o):Es(o).cr()&&du(o,n))}function Td(a,n){const o=Jt(a),c=Es(o);o.qr.delete(n),c.cr()&&fp(o,n),0===o.qr.size&&(c.cr()?c.lr():hu(o)&&o.Wr.set("Unknown"))}function du(a,n){a.Gr.Y(n.targetId),Es(a).Ir(n)}function fp(a,n){a.Gr.Y(n),Es(a).Ar(n)}function pp(a){a.Gr=new ld({getRemoteKeysForTarget:n=>a.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>a.qr.get(n)||null}),Es(a).start(),a.Wr.Or()}function Mm(a){return hu(a)&&!Es(a).ar()&&a.qr.size>0}function hu(a){return 0===Jt(a).Kr.size}function Rm(a){a.Gr=void 0}function Pm(a){return gp.apply(this,arguments)}function gp(){return(gp=(0,ae.Z)(function*(a){a.qr.forEach((n,o)=>{du(a,n)})})).apply(this,arguments)}function C_(a,n){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,ae.Z)(function*(a,n){Rm(a),Mm(a)?(a.Wr.Lr(n),pp(a)):a.Wr.set("Unknown")})).apply(this,arguments)}function kl(a,n,o){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,ae.Z)(function*(a,n,o){if(a.Wr.set("Online"),n instanceof ud&&2===n.state&&n.cause)try{yield(c=(0,ae.Z)(function*(h,_){const D=_.cause;for(const k of _.targetIds)h.qr.has(k)&&(yield h.remoteSyncer.rejectListen(k,D),h.qr.delete(k),h.Gr.removeTarget(k))}),function(h,_){return c.apply(this,arguments)})(a,n)}catch(c){Ht("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),c),yield Pu(a,c)}else if(n instanceof Lc?a.Gr.rt(n):n instanceof Yf?a.Gr.ft(n):a.Gr.ct(n),!o.isEqual(Tn.min()))try{const c=yield rp(a.localStore);o.compareTo(c)>=0&&(yield function(h,_){const D=h.Gr._t(_);return D.targetChanges.forEach((k,W)=>{if(k.resumeToken.approximateByteSize()>0){const ue=h.qr.get(W);ue&&h.qr.set(W,ue.withResumeToken(k.resumeToken,_))}}),D.targetMismatches.forEach(k=>{const W=h.qr.get(k);if(!W)return;h.qr.set(k,W.withResumeToken(Ui.EMPTY_BYTE_STRING,W.snapshotVersion)),fp(h,k);const ue=new Ki(W.target,k,1,W.sequenceNumber);du(h,ue)}),h.remoteSyncer.applyRemoteEvent(D)}(a,o))}catch(c){Ht("RemoteStore","Failed to raise snapshot:",c),yield Pu(a,c)}var c})).apply(this,arguments)}function Pu(a,n,o){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,ae.Z)(function*(a,n,o){if(!fa(n))throw n;a.Kr.add(1),yield dc(a),a.Wr.set("Offline"),o||(o=()=>rp(a.localStore)),a.asyncQueue.enqueueRetryable((0,ae.Z)(function*(){Ht("RemoteStore","Retrying IndexedDB access"),yield o(),a.Kr.delete(1),yield Dd(a)}))})).apply(this,arguments)}function Xc(a,n){return n().catch(o=>Pu(a,o,n))}function Ll(a){return jh.apply(this,arguments)}function jh(){return(jh=(0,ae.Z)(function*(a){const n=Jt(a),o=hc(n);let c=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;Nm(n);)try{const h=yield v_(n.localStore,c);if(null===h){0===n.Ur.length&&o.lr();break}c=h.batchId,mp(n,h)}catch(h){yield Pu(n,h)}$h(n)&&yp(n)})).apply(this,arguments)}function Nm(a){return hu(a)&&a.Ur.length<10}function mp(a,n){a.Ur.push(n);const o=hc(a);o.cr()&&o.br&&o.Pr(n.mutations)}function $h(a){return hu(a)&&!hc(a).ar()&&a.Ur.length>0}function yp(a){hc(a).start()}function Hh(a){return _p.apply(this,arguments)}function _p(){return(_p=(0,ae.Z)(function*(a){hc(a).Sr()})).apply(this,arguments)}function Fm(a){return km.apply(this,arguments)}function km(){return(km=(0,ae.Z)(function*(a){const n=hc(a);for(const o of a.Ur)n.Pr(o.mutations)})).apply(this,arguments)}function Lm(a,n,o){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,ae.Z)(function*(a,n,o){const c=a.Ur.shift(),h=bh.from(c,n,o);yield Xc(a,()=>a.remoteSyncer.applySuccessfulWrite(h)),yield Ll(a)})).apply(this,arguments)}function I_(a,n){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,ae.Z)(function*(a,n){var o;n&&hc(a).br&&(yield(o=(0,ae.Z)(function*(c,h){if(Fa(_=h.code)&&_!==C.ABORTED){const D=c.Ur.shift();hc(c).hr(),yield Xc(c,()=>c.remoteSyncer.rejectFailedWrite(D.batchId,h)),yield Ll(c)}var _}),function(c,h){return o.apply(this,arguments)})(a,n)),$h(a)&&yp(a)})).apply(this,arguments)}function vp(a,n){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,ae.Z)(function*(a,n){const o=Jt(a);n?(o.Kr.delete(2),yield Dd(o)):n||(o.Kr.add(2),yield dc(o),o.Wr.set("Unknown"))})).apply(this,arguments)}function Es(a){return a.zr||(a.zr=function(n,o,c){const h=Jt(n);return h.Cr(),new kE(o,h.nr,h.credentials,h.N,c)}(a.datastore,a.asyncQueue,{Si:Pm.bind(null,a),Ci:C_.bind(null,a),Tr:kl.bind(null,a)}),a.jr.push(function(){var n=(0,ae.Z)(function*(o){o?(a.zr.hr(),Mm(a)?pp(a):a.Wr.set("Unknown")):(yield a.zr.stop(),Rm(a))});return function(o){return n.apply(this,arguments)}}())),a.zr}function hc(a){return a.Hr||(a.Hr=function(n,o,c){const h=Jt(n);return h.Cr(),new LE(o,h.nr,h.credentials,h.N,c)}(a.datastore,a.asyncQueue,{Si:Hh.bind(null,a),Ci:I_.bind(null,a),Vr:Fm.bind(null,a),vr:Lm.bind(null,a)}),a.jr.push(function(){var n=(0,ae.Z)(function*(o){o?(a.Hr.hr(),yield Ll(a)):(yield a.Hr.stop(),a.Ur.length>0&&(Ht("RemoteStore",`Stopping write stream with ${a.Ur.length} pending writes`),a.Ur=[]))});return function(o){return n.apply(this,arguments)}}())),a.Hr}class bp{constructor(n,o,c,h,_){this.asyncQueue=n,this.timerId=o,this.targetTimeMs=c,this.op=h,this.removalCallback=_,this.deferred=new w,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(n,o,c,h,_){const D=Date.now()+c,k=new bp(n,o,D,h,_);return k.start(c),k}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(C.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sd(a,n){if(_r("AsyncQueue",`${n}: ${a}`),fa(a))return new b(C.UNAVAILABLE,`${n}: ${a}`);throw a}class Od{constructor(n){this.comparator=n?(o,c)=>n(o,c)||pn.comparator(o.key,c.key):(o,c)=>pn.comparator(o.key,c.key),this.keyedMap=ad(),this.sortedSet=new zi(this.comparator)}static emptySet(n){return new Od(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const o=this.keyedMap.get(n);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((o,c)=>(n(o),!1))}add(n){const o=this.delete(n.key);return o.copy(o.keyedMap.insert(n.key,n),o.sortedSet.insert(n,null))}delete(n){const o=this.get(n);return o?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(o)):this}isEqual(n){if(!(n instanceof Od)||this.size!==n.size)return!1;const o=this.sortedSet.getIterator(),c=n.sortedSet.getIterator();for(;o.hasNext();){const h=o.getNext().key,_=c.getNext().key;if(!h.isEqual(_))return!1}return!0}toString(){const n=[];return this.forEach(o=>{n.push(o.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,o){const c=new Od;return c.comparator=this.comparator,c.keyedMap=n,c.sortedSet=o,c}}class wp{constructor(){this.Jr=new zi(pn.comparator)}track(n){const o=n.doc.key,c=this.Jr.get(o);c?0!==n.type&&3===c.type?this.Jr=this.Jr.insert(o,n):3===n.type&&1!==c.type?this.Jr=this.Jr.insert(o,{type:c.type,doc:n.doc}):2===n.type&&2===c.type?this.Jr=this.Jr.insert(o,{type:2,doc:n.doc}):2===n.type&&0===c.type?this.Jr=this.Jr.insert(o,{type:0,doc:n.doc}):1===n.type&&0===c.type?this.Jr=this.Jr.remove(o):1===n.type&&2===c.type?this.Jr=this.Jr.insert(o,{type:1,doc:c.doc}):0===n.type&&1===c.type?this.Jr=this.Jr.insert(o,{type:2,doc:n.doc}):fn():this.Jr=this.Jr.insert(o,n)}Yr(){const n=[];return this.Jr.inorderTraversal((o,c)=>{n.push(c)}),n}}class xd{constructor(n,o,c,h,_,D,k,W){this.query=n,this.docs=o,this.oldDocs=c,this.docChanges=h,this.mutatedKeys=_,this.fromCache=D,this.syncStateChanged=k,this.excludesMetadataChanges=W}static fromInitialDocuments(n,o,c,h){const _=[];return o.forEach(D=>{_.push({type:0,doc:D})}),new xd(n,o,Od.emptySet(o),_,c,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Zu(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const o=this.docChanges,c=n.docChanges;if(o.length!==c.length)return!1;for(let h=0;h<o.length;h++)if(o[h].type!==c[h].type||!o[h].doc.isEqual(c[h].doc))return!1;return!0}}class D_{constructor(){this.Xr=void 0,this.listeners=[]}}class Cp{constructor(){this.queries=new Zc(n=>$f(n),Zu),this.onlineState="Unknown",this.Zr=new Set}}function zh(a,n){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,ae.Z)(function*(a,n){const o=Jt(a),c=n.query;let h=!1,_=o.queries.get(c);if(_||(h=!0,_=new D_),h)try{_.Xr=yield o.onListen(c)}catch(D){const k=Sd(D,`Initialization of query '${su(n.query)}' failed`);return void n.onError(k)}o.queries.set(c,_),_.listeners.push(n),n.eo(o.onlineState),_.Xr&&n.no(_.Xr)&&Kh(o)})).apply(this,arguments)}function Dp(a,n){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,ae.Z)(function*(a,n){const o=Jt(a),c=n.query;let h=!1;const _=o.queries.get(c);if(_){const D=_.listeners.indexOf(n);D>=0&&(_.listeners.splice(D,1),h=0===_.listeners.length)}if(h)return o.queries.delete(c),o.onUnlisten(c)})).apply(this,arguments)}function Vm(a,n){const o=Jt(a);let c=!1;for(const h of n){const D=o.queries.get(h.query);if(D){for(const k of D.listeners)k.no(h)&&(c=!0);D.Xr=h}}c&&Kh(o)}function T_(a,n,o){const c=Jt(a),h=c.queries.get(n);if(h)for(const _ of h.listeners)_.onError(o);c.queries.delete(n)}function Kh(a){a.Zr.forEach(n=>{n.next()})}class Ap{constructor(n,o,c){this.query=n,this.so=o,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=c||{}}no(n){if(!this.options.includeMetadataChanges){const c=[];for(const h of n.docChanges)3!==h.type&&c.push(h);n=new xd(n.query,n.docs,n.oldDocs,c,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let o=!1;return this.io?this.oo(n)&&(this.so.next(n),o=!0):this.ao(n,this.onlineState)&&(this.co(n),o=!0),this.ro=n,o}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let o=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),o=!0),o}ao(n,o){return!n.fromCache||!(this.options.uo&&"Offline"!==o||n.docs.isEmpty()&&"Offline"!==o)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=xd.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class A_{constructor(n,o){this.payload=n,this.byteLength=o}ho(){return"metadata"in this.payload}}class Sp{constructor(n){this.N=n}zn(n){return Js(this.N,n)}Hn(n){return n.metadata.exists?Bc(this.N,n.document,!1):Ar.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return Xi(n)}}class Um{constructor(n,o,c){this.lo=n,this.localStore=o,this.N=c,this.queries=[],this.documents=[],this.progress=Bm(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let o=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++o):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++o),o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}wo(n){const o=new Map,c=new Sp(this.N);for(const h of n)if(h.metadata.queries){const _=c.zn(h.metadata.name);for(const D of h.metadata.queries){const k=(o.get(D)||Or()).add(_);o.set(D,k)}}return o}complete(){var n=this;return(0,ae.Z)(function*(){const o=yield function(a,n,o,c){return Go.apply(this,arguments)}(n.localStore,new Sp(n.N),n.documents,n.lo.id),c=n.wo(n.documents);for(const h of n.queries)yield Dm(n.localStore,h,c.get(h.name));return n.progress.taskState="Success",new ym(Object.assign({},n.progress),o)})()}}function Bm(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class Ua{constructor(n){this.key=n}}class qh{constructor(n){this.key=n}}class jm{constructor(n,o){this.query=n,this._o=o,this.mo=null,this.current=!1,this.yo=Or(),this.mutatedKeys=Or(),this.po=Yu(n),this.Eo=new Od(this.po)}get To(){return this._o}Io(n,o){const c=o?o.Ao:new wp,h=o?o.Eo:this.Eo;let _=o?o.mutatedKeys:this.mutatedKeys,D=h,k=!1;const W=qu(this.query)&&h.size===this.query.limit?h.last():null,ue=fi(this.query)&&h.size===this.query.limit?h.first():null;if(n.inorderTraversal((we,We)=>{const _t=h.get(we),Ot=Ds(this.query,We)?We:null,Zt=!!_t&&this.mutatedKeys.has(_t.key),On=!!Ot&&(Ot.hasLocalMutations||this.mutatedKeys.has(Ot.key)&&Ot.hasCommittedMutations);let er=!1;_t&&Ot?_t.data.isEqual(Ot.data)?Zt!==On&&(c.track({type:3,doc:Ot}),er=!0):this.Ro(_t,Ot)||(c.track({type:2,doc:Ot}),er=!0,(W&&this.po(Ot,W)>0||ue&&this.po(Ot,ue)<0)&&(k=!0)):!_t&&Ot?(c.track({type:0,doc:Ot}),er=!0):_t&&!Ot&&(c.track({type:1,doc:_t}),er=!0,(W||ue)&&(k=!0)),er&&(Ot?(D=D.add(Ot),_=On?_.add(we):_.delete(we)):(D=D.delete(we),_=_.delete(we)))}),qu(this.query)||fi(this.query))for(;D.size>this.query.limit;){const we=qu(this.query)?D.last():D.first();D=D.delete(we.key),_=_.delete(we.key),c.track({type:1,doc:we})}return{Eo:D,Ao:c,Ln:k,mutatedKeys:_}}Ro(n,o){return n.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(n,o,c){const h=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const _=n.Ao.Yr();_.sort((ue,we)=>function(We,_t){const Ot=Zt=>{switch(Zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fn()}};return Ot(We)-Ot(_t)}(ue.type,we.type)||this.po(ue.doc,we.doc)),this.bo(c);const D=o?this.Po():[],k=0===this.yo.size&&this.current?1:0,W=k!==this.mo;return this.mo=k,0!==_.length||W?{snapshot:new xd(this.query,n.Eo,h,_,n.mutatedKeys,0===k,W,!1),vo:D}:{vo:D}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new wp,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(o=>this._o=this._o.add(o)),n.modifiedDocuments.forEach(o=>{}),n.removedDocuments.forEach(o=>this._o=this._o.delete(o)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=Or(),this.Eo.forEach(c=>{this.Vo(c.key)&&(this.yo=this.yo.add(c.key))});const o=[];return n.forEach(c=>{this.yo.has(c)||o.push(new qh(c))}),this.yo.forEach(c=>{n.has(c)||o.push(new Ua(c))}),o}So(n){this._o=n.Gn,this.yo=Or();const o=this.Io(n.documents);return this.applyChanges(o,!0)}Do(){return xd.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class S_{constructor(n,o,c){this.query=n,this.targetId=o,this.view=c}}class UE{constructor(n){this.key=n,this.Co=!1}}class $m{constructor(n,o,c,h,_,D){this.localStore=n,this.remoteStore=o,this.eventManager=c,this.sharedClientState=h,this.currentUser=_,this.maxConcurrentLimboResolutions=D,this.No={},this.xo=new Zc(k=>$f(k),Zu),this.ko=new Map,this.$o=new Set,this.Oo=new zi(pn.comparator),this.Fo=new Map,this.Mo=new Va,this.Lo={},this.Bo=new Map,this.Uo=Kc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function O_(a,n){return Op.apply(this,arguments)}function Op(){return(Op=(0,ae.Z)(function*(a,n){const o=jp(a);let c,h;const _=o.xo.get(n);if(_)c=_.targetId,o.sharedClientState.addLocalQueryTarget(c),h=_.view.Do();else{const D=yield Rl(o.localStore,Qs(n)),k=o.sharedClientState.addLocalQueryTarget(D.targetId);c=D.targetId,h=yield xp(o,n,c,"current"===k),o.isPrimaryClient&&Fl(o.remoteStore,D)}return h})).apply(this,arguments)}function xp(a,n,o,c){return Md.apply(this,arguments)}function Md(){return(Md=(0,ae.Z)(function*(a,n,o,c){a.Ko=(we,We,_t)=>{return(Ot=(0,ae.Z)(function*(Zt,On,er,xi){let _a=On.view.Io(er);_a.Ln&&(_a=yield Mh(Zt.localStore,On.query,!1).then(({documents:Lu})=>On.view.Io(Lu,_a)));const Ga=xi&&xi.targetChanges.get(On.targetId),gu=On.view.applyChanges(_a,Zt.isPrimaryClient,Ga);return Vl(Zt,On.targetId,gu.vo),gu.snapshot}),function(Zt,On,er,xi){return Ot.apply(this,arguments)})(a,we,We,_t);var Ot};const h=yield Mh(a.localStore,n,!0),_=new jm(n,h.Gn),D=_.Io(h.documents),k=uu.createSynthesizedTargetChangeForCurrentChange(o,c&&"Offline"!==a.onlineState),W=_.applyChanges(D,a.isPrimaryClient,k);Vl(a,o,W.vo);const ue=new S_(n,o,_);return a.xo.set(n,ue),a.ko.has(o)?a.ko.get(o).push(n):a.ko.set(o,[n]),W.snapshot})).apply(this,arguments)}function x_(a,n){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,ae.Z)(function*(a,n){const o=Jt(a),c=o.xo.get(n),h=o.ko.get(c.targetId);if(h.length>1)return o.ko.set(c.targetId,h.filter(_=>!Zu(_,n))),void o.xo.delete(n);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Yc(o.localStore,c.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(c.targetId),Td(o.remoteStore,c.targetId),el(o,c.targetId)}).catch(cc))):(el(o,c.targetId),yield Yc(o.localStore,c.targetId,!0))})).apply(this,arguments)}function Rd(){return(Rd=(0,ae.Z)(function*(a,n,o){const c=$p(a);try{const h=yield function(_,D){const k=Jt(_),W=or.now(),ue=D.reduce((We,_t)=>We.add(_t.key),Or());let we;return k.persistence.runTransaction("Locally write mutations","readwrite",We=>k.Qn.Pn(We,ue).next(_t=>{we=_t;const Ot=[];for(const Zt of D){const On=El(Zt,we.get(Zt.key));null!=On&&Ot.push(new Na(Zt.key,On,th(On.value.mapValue),Ii.exists(!0)))}return k.In.addMutationBatch(We,W,Ot,D)})).then(We=>(We.applyToLocalDocumentSet(we),{batchId:We.batchId,changes:we}))}(c.localStore,n);c.sharedClientState.addPendingMutation(h.batchId),function(_,D,k){let W=_.Lo[_.currentUser.toKey()];W||(W=new zi(dn)),W=W.insert(D,k),_.Lo[_.currentUser.toKey()]=W}(c,h.batchId,o),yield fc(c,h.changes),yield Ll(c.remoteStore)}catch(h){const _=Sd(h,"Failed to persist write");o.reject(_)}})).apply(this,arguments)}function Hm(a,n){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,ae.Z)(function*(a,n){const o=Jt(a);try{const c=yield __(o.localStore,n);n.targetChanges.forEach((h,_)=>{const D=o.Fo.get(_);D&&(Dn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?D.Co=!0:h.modifiedDocuments.size>0?Dn(D.Co):h.removedDocuments.size>0&&(Dn(D.Co),D.Co=!1))}),yield fc(o,c,n)}catch(c){yield cc(c)}})).apply(this,arguments)}function Yh(a,n,o){const c=Jt(a);if(c.isPrimaryClient&&0===o||!c.isPrimaryClient&&1===o){const h=[];c.xo.forEach((_,D)=>{const k=D.view.eo(n);k.snapshot&&h.push(k.snapshot)}),function(_,D){const k=Jt(_);k.onlineState=D;let W=!1;k.queries.forEach((ue,we)=>{for(const We of we.listeners)We.eo(D)&&(W=!0)}),W&&Kh(k)}(c.eventManager,n),h.length&&c.No.Tr(h),c.onlineState=n,c.isPrimaryClient&&c.sharedClientState.setOnlineState(n)}}function Gm(a,n,o){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,ae.Z)(function*(a,n,o){const c=Jt(a);c.sharedClientState.updateQueryState(n,"rejected",o);const h=c.Fo.get(n),_=h&&h.key;if(_){let D=new zi(pn.comparator);D=D.insert(_,Ar.newNoDocument(_,Tn.min()));const k=Or().add(_),W=new Tu(Tn.min(),new Map,new ri(dn),D,k);yield Hm(c,W),c.Oo=c.Oo.remove(_),c.Fo.delete(n),Np(c)}else yield Yc(c.localStore,n,!1).then(()=>el(c,n,o)).catch(cc)})).apply(this,arguments)}function M_(a,n){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,ae.Z)(function*(a,n){const o=Jt(a),c=n.batch.batchId;try{const h=yield y_(o.localStore,n);Xh(o,c,null),Jh(o,c),o.sharedClientState.updateMutationState(c,"acknowledged"),yield fc(o,h)}catch(h){yield cc(h)}})).apply(this,arguments)}function BE(a,n,o){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,ae.Z)(function*(a,n,o){const c=Jt(a);try{const h=yield function(_,D){const k=Jt(_);return k.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let ue;return k.In.lookupMutationBatch(W,D).next(we=>(Dn(null!==we),ue=we.keys(),k.In.removeMutationBatch(W,we))).next(()=>k.In.performConsistencyCheck(W)).next(()=>k.Qn.Pn(W,ue))})}(c.localStore,n);Xh(c,n,o),Jh(c,n),c.sharedClientState.updateMutationState(n,"rejected",o),yield fc(c,h)}catch(h){yield cc(h)}})).apply(this,arguments)}function Qh(){return(Qh=(0,ae.Z)(function*(a,n){const o=Jt(a);hu(o.remoteStore)||Ht("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(_){const D=Jt(_);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>D.In.getHighestUnacknowledgedBatchId(k))}(o.localStore);if(-1===c)return void n.resolve();const h=o.Bo.get(c)||[];h.push(n),o.Bo.set(c,h)}catch(c){const h=Sd(c,"Initialization of waitForPendingWrites() operation failed");n.reject(h)}})).apply(this,arguments)}function Jh(a,n){(a.Bo.get(n)||[]).forEach(o=>{o.resolve()}),a.Bo.delete(n)}function Xh(a,n,o){const c=Jt(a);let h=c.Lo[c.currentUser.toKey()];if(h){const _=h.get(n);_&&(o?_.reject(o):_.resolve(),h=h.remove(n)),c.Lo[c.currentUser.toKey()]=h}}function el(a,n,o=null){a.sharedClientState.removeLocalQueryTarget(n);for(const c of a.ko.get(n))a.xo.delete(c),o&&a.No.jo(c,o);a.ko.delete(n),a.isPrimaryClient&&a.Mo.cs(n).forEach(c=>{a.Mo.containsKey(c)||fu(a,c)})}function fu(a,n){a.$o.delete(n.path.canonicalString());const o=a.Oo.get(n);null!==o&&(Td(a.remoteStore,o),a.Oo=a.Oo.remove(n),a.Fo.delete(o),Np(a))}function Vl(a,n,o){for(const c of o)c instanceof Ua?(a.Mo.addReference(c.key,n),R_(a,c)):c instanceof qh?(Ht("SyncEngine","Document no longer in limbo: "+c.key),a.Mo.removeReference(c.key,n),a.Mo.containsKey(c.key)||fu(a,c.key)):fn()}function R_(a,n){const o=n.key,c=o.path.canonicalString();a.Oo.get(o)||a.$o.has(c)||(Ht("SyncEngine","New document in limbo: "+o),a.$o.add(c),Np(a))}function Np(a){for(;a.$o.size>0&&a.Oo.size<a.maxConcurrentLimboResolutions;){const n=a.$o.values().next().value;a.$o.delete(n);const o=new pn(Ir.fromString(n)),c=a.Uo.next();a.Fo.set(c,new UE(o)),a.Oo=a.Oo.insert(o,c),Fl(a.remoteStore,new Ki(Qs(Co(o.path)),c,2,Kt.T))}}function fc(a,n,o){return pc.apply(this,arguments)}function pc(){return(pc=(0,ae.Z)(function*(a,n,o){const c=Jt(a),h=[],_=[],D=[];var k;c.xo.isEmpty()||(c.xo.forEach((k,W)=>{D.push(c.Ko(W,n,o).then(ue=>{if(ue){c.isPrimaryClient&&c.sharedClientState.updateQueryState(W.targetId,ue.fromCache?"not-current":"current"),h.push(ue);const we=xh.kn(W.targetId,ue);_.push(we)}}))}),yield Promise.all(D),c.No.Tr(h),yield(k=(0,ae.Z)(function*(W,ue){const we=Jt(W);try{yield we.persistence.runTransaction("notifyLocalViewChanges","readwrite",We=>at.forEach(ue,_t=>at.forEach(_t.Nn,Ot=>we.persistence.referenceDelegate.addReference(We,_t.targetId,Ot)).next(()=>at.forEach(_t.xn,Ot=>we.persistence.referenceDelegate.removeReference(We,_t.targetId,Ot)))))}catch(We){if(!fa(We))throw We;Ht("LocalStore","Failed to update sequence numbers: "+We)}for(const We of ue){const _t=We.targetId;if(!We.fromCache){const Ot=we.Un.get(_t),On=Ot.withLastLimboFreeSnapshotVersion(Ot.snapshotVersion);we.Un=we.Un.insert(_t,On)}}}),function(W,ue){return k.apply(this,arguments)})(c.localStore,_))})).apply(this,arguments)}function zm(a,n){return tl.apply(this,arguments)}function tl(){return(tl=(0,ae.Z)(function*(a,n){const o=Jt(a);if(!o.currentUser.isEqual(n)){Ht("SyncEngine","User change. New user:",n.toKey());const c=yield bm(o.localStore,n);o.currentUser=n,(h=o).Bo.forEach(D=>{D.forEach(k=>{k.reject(new b(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Bo.clear(),o.sharedClientState.handleUserChange(n,c.removedBatchIds,c.addedBatchIds),yield fc(o,c.Wn)}var h})).apply(this,arguments)}function Fd(a,n){const o=Jt(a),c=o.Fo.get(n);if(c&&c.Co)return Or().add(c.key);{let h=Or();const _=o.ko.get(n);if(!_)return h;for(const D of _){const k=o.xo.get(D);h=h.unionWith(k.view.To)}return h}}function P_(a,n){return kd.apply(this,arguments)}function kd(){return(kd=(0,ae.Z)(function*(a,n){const o=Jt(a),c=yield Mh(o.localStore,n.query,!0),h=n.view.So(c);return o.isPrimaryClient&&Vl(o,n.targetId,h.vo),h})).apply(this,arguments)}function Km(a){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,ae.Z)(function*(a){const n=Jt(a);return Kn(n.localStore).then(o=>fc(n,o))})).apply(this,arguments)}function qm(a,n,o,c){return kp.apply(this,arguments)}function kp(){return(kp=(0,ae.Z)(function*(a,n,o,c){const h=Jt(a),_=yield function(D,k){const W=Jt(D),ue=Jt(W.In);return W.persistence.runTransaction("Lookup mutation documents","readonly",we=>ue.Xt(we,k).next(We=>We?W.Qn.Pn(we,We):at.resolve(null)))}(h.localStore,n);var k;null!==_?("pending"===o?yield Ll(h.remoteStore):"acknowledged"===o||"rejected"===o?(Xh(h,n,c||null),Jh(h,n),k=n,Jt(Jt(h.localStore).In).te(k)):fn(),yield fc(h,_)):Ht("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function Vp(){return(Vp=(0,ae.Z)(function*(a,n){const o=Jt(a);if(jp(o),$p(o),!0===n&&!0!==o.qo){const c=o.sharedClientState.getAllActiveQueryTargets(),h=yield Zm(o,c.toArray());o.qo=!0,yield vp(o.remoteStore,!0);for(const _ of h)Fl(o.remoteStore,_)}else if(!1===n&&!1!==o.qo){const c=[];let h=Promise.resolve();o.ko.forEach((_,D)=>{o.sharedClientState.isLocalQueryTarget(D)?c.push(D):h=h.then(()=>(el(o,D),Yc(o.localStore,D,!0))),Td(o.remoteStore,D)}),yield h,yield Zm(o,c),function(_){const D=Jt(_);D.Fo.forEach((k,W)=>{Td(D.remoteStore,W)}),D.Mo.us(),D.Fo=new Map,D.Oo=new zi(pn.comparator)}(o),o.qo=!1,yield vp(o.remoteStore,!1)}})).apply(this,arguments)}function Zm(a,n,o){return ef.apply(this,arguments)}function ef(){return(ef=(0,ae.Z)(function*(a,n,o){const c=Jt(a),h=[],_=[];for(const D of n){let k;const W=c.ko.get(D);if(W&&0!==W.length){k=yield Rl(c.localStore,Qs(W[0]));for(const ue of W){const we=c.xo.get(ue),We=yield P_(c,we);We.snapshot&&_.push(We.snapshot)}}else{const ue=yield Cm(c.localStore,D);k=yield Rl(c.localStore,ue),yield xp(c,nl(ue),D,!1)}h.push(k)}return c.No.Tr(_),h})).apply(this,arguments)}function nl(a){return iu(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function Ym(a){const n=Jt(a);return Jt(Jt(n.localStore).persistence).pn()}function N_(a,n,o,c){return Up.apply(this,arguments)}function Up(){return(Up=(0,ae.Z)(function*(a,n,o,c){const h=Jt(a);if(h.qo)Ht("SyncEngine","Ignoring unexpected query state notification.");else if(h.ko.has(n))switch(o){case"current":case"not-current":{const _=yield Kn(h.localStore),D=Tu.createSynthesizedRemoteEventForCurrentChange(n,"current"===o);yield fc(h,_,D);break}case"rejected":yield Yc(h.localStore,n,!0),el(h,n,c);break;default:fn()}})).apply(this,arguments)}function Ul(a,n,o){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,ae.Z)(function*(a,n,o){const c=jp(a);if(c.qo){for(const h of n){if(c.ko.has(h)){Ht("SyncEngine","Adding an already active target "+h);continue}const _=yield Cm(c.localStore,h),D=yield Rl(c.localStore,_);yield xp(c,nl(_),D.targetId,!1),Fl(c.remoteStore,D)}for(const h of o)c.ko.has(h)&&(yield Yc(c.localStore,h,!1).then(()=>{Td(c.remoteStore,h),el(c,h)}).catch(cc))}})).apply(this,arguments)}function jp(a){const n=Jt(a);return n.remoteStore.remoteSyncer.applyRemoteEvent=Hm.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fd.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Gm.bind(null,n),n.No.Tr=Vm.bind(null,n.eventManager),n.No.jo=T_.bind(null,n.eventManager),n}function $p(a){const n=Jt(a);return n.remoteStore.remoteSyncer.applySuccessfulWrite=M_.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=BE.bind(null,n),n}class k_{constructor(){this.synchronizeTabs=!1}initialize(n){var o=this;return(0,ae.Z)(function*(){o.N=Vh(n.databaseInfo.databaseId),o.sharedClientState=o.Wo(n),o.persistence=o.Go(n),yield o.persistence.start(),o.gcScheduler=o.zo(n),o.localStore=o.Ho(n)})()}zo(n){return null}Ho(n){return Em(this.persistence,new _m,n.initialUser,this.N)}Go(n){return new RE(Pl.Ns,this.N)}Wo(n){return new lp}terminate(){var n=this;return(0,ae.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class Qm extends k_{constructor(n,o,c){super(),this.Jo=n,this.cacheSizeBytes=o,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(n){var o=()=>super.initialize,c=this;return(0,ae.Z)(function*(){yield o().call(c,n),yield function(a){return Rh.apply(this,arguments)}(c.localStore),yield c.Jo.initialize(c,n),yield $p(c.Jo.syncEngine),yield Ll(c.Jo.remoteStore),yield c.persistence.nn(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(c.localStore),Promise.resolve()))})()}Ho(n){return Em(this.persistence,new _m,n.initialUser,this.N)}zo(n){return new hm(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const o=Cd(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?Do.withCacheSize(this.cacheSizeBytes):Do.DEFAULT;return new np(this.synchronizeTabs,o,n.clientId,c,n.asyncQueue,b_(),dp(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new lp}}class Jm extends Qm{constructor(n,o){super(n,o,!1),this.Jo=n,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(n){var o=()=>super.initialize,c=this;return(0,ae.Z)(function*(){yield o().call(c,n);const h=c.Jo.syncEngine;c.sharedClientState instanceof kh&&(c.sharedClientState.syncEngine={_i:qm.bind(null,h),mi:N_.bind(null,h),gi:Ul.bind(null,h),pn:Ym.bind(null,h),wi:Km.bind(null,h)},yield c.sharedClientState.start()),yield c.persistence.nn(function(){var _=(0,ae.Z)(function*(D){yield function(a,n){return Vp.apply(this,arguments)}(c.Jo.syncEngine,D),c.gcScheduler&&(D&&!c.gcScheduler.started?c.gcScheduler.start(c.localStore):D||c.gcScheduler.stop())});return function(D){return _.apply(this,arguments)}}())})()}Wo(n){const o=b_();if(!kh.bt(o))throw new b(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=Cd(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new kh(o,n.asyncQueue,c,n.clientId,n.initialUser)}}class ii{initialize(n,o){var c=this;return(0,ae.Z)(function*(){c.localStore||(c.localStore=n.localStore,c.sharedClientState=n.sharedClientState,c.datastore=c.createDatastore(o),c.remoteStore=c.createRemoteStore(o),c.eventManager=c.createEventManager(o),c.syncEngine=c.createSyncEngine(o,!n.synchronizeTabs),c.sharedClientState.onlineStateHandler=h=>Yh(c.syncEngine,h,1),c.remoteStore.remoteSyncer.handleCredentialChange=zm.bind(null,c.syncEngine),yield vp(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(n){return new Cp}createDatastore(n){const o=Vh(n.databaseInfo.databaseId),c=new FE(n.databaseInfo);return new VE(n.credentials,c,o)}createRemoteStore(n){return o=this.localStore,c=this.datastore,h=n.asyncQueue,_=k=>Yh(this.syncEngine,k,0),D=Lh.bt()?new Lh:new E_,new hp(o,c,h,_,D);var o,c,h,_,D}createSyncEngine(n,o){return function(c,h,_,D,k,W,ue){const we=new $m(c,h,_,D,k,W);return ue&&(we.qo=!0),we}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,o)}terminate(){return(n=(0,ae.Z)(function*(o){const c=Jt(o);Ht("RemoteStore","RemoteStore shutting down."),c.Kr.add(5),yield dc(c),c.Qr.shutdown(),c.Wr.set("Unknown")}),function(o){return n.apply(this,arguments)})(this.remoteStore);var n}}function tf(a,n=10240){let o=0;return{read:()=>(0,ae.Z)(function*(){if(o<a.byteLength){const c={value:a.slice(o,o+n),done:!1};return o+=n,c}return{done:!0}})(),cancel:()=>(0,ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Hp{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,o){this.muted||setTimeout(()=>{this.muted||n(o)},0)}}class Nu{constructor(n,o){this.Zo=n,this.N=o,this.metadata=new w,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(c=>{c&&c.ho()?this.metadata.resolve(c.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==c?void 0:c.payload)}`))},c=>this.metadata.reject(c))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,ae.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,ae.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,ae.Z)(function*(){const o=yield n.na();if(null===o)return null;const c=n.ta.decode(o),h=Number(c);isNaN(h)&&n.sa(`length string (${c}) is not valid number`);const _=yield n.ia(h);return new A_(JSON.parse(_),o.length+h)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,ae.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const o=n.ra();o<0&&n.sa("Reached the end of bundle when a length string is expected.");const c=n.buffer.slice(0,o);return n.buffer=n.buffer.slice(o),c})()}ia(n){var o=this;return(0,ae.Z)(function*(){for(;o.buffer.length<n;)(yield o.oa())&&o.sa("Reached the end of bundle when more is expected.");const c=o.ta.decode(o.buffer.slice(0,n));return o.buffer=o.buffer.slice(n),c})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,ae.Z)(function*(){const o=yield n.Zo.read();if(!o.done){const c=new Uint8Array(n.buffer.length+o.value.length);c.set(n.buffer),c.set(o.value,n.buffer.length),n.buffer=c}return o.done})()}}class Gp{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var o=this;return(0,ae.Z)(function*(){if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new b(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(h=(0,ae.Z)(function*(_,D){const k=Jt(_),W=Vc(k.N)+"/documents",ue={documents:D.map(Ot=>nc(k.N,Ot))},we=yield k.Ki("BatchGetDocuments",W,ue),We=new Map;we.forEach(Ot=>{const Zt=function(a,n){return"found"in n?function(o,c){Dn(!!c.found);const h=Js(o,c.found.name),_=Xi(c.found.updateTime),D=new Ji({mapValue:{fields:c.found.fields}});return Ar.newFoundDocument(h,_,D)}(a,n):"missing"in n?function(o,c){Dn(!!c.missing),Dn(!!c.readTime);const h=Js(o,c.missing),_=Xi(c.readTime);return Ar.newNoDocument(h,_)}(a,n):fn()}(k.N,Ot);We.set(Zt.key.toString(),Zt)});const _t=[];return D.forEach(Ot=>{const Zt=We.get(Ot.toString());Dn(!!Zt),_t.push(Zt)}),_t}),function(_,D){return h.apply(this,arguments)})(o.datastore,n);var h;return c.forEach(h=>o.recordVersion(h)),c})()}set(n,o){this.write(o.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,o){try{this.write(o.toMutation(n,this.preconditionForUpdate(n)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(n.toString())}delete(n){this.write(new Fc(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,ae.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const o=n.readVersions;var c;n.mutations.forEach(c=>{o.delete(c.key.toString())}),o.forEach((c,h)=>{const _=pn.fromPath(h);n.mutations.push(new sd(_,n.precondition(_)))}),yield(c=(0,ae.Z)(function*(h,_){const D=Jt(h),k=Vc(D.N)+"/documents",W={writes:_.map(ue=>Cl(D.N,ue))};yield D.Li("Commit",k,W)}),function(h,_){return c.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let o;if(n.isFoundDocument())o=n.version;else{if(!n.isNoDocument())throw fn();o=Tn.min()}const c=this.readVersions.get(n.key.toString());if(c){if(!o.isEqual(c))throw new b(C.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),o)}precondition(n){const o=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&o?Ii.updateTime(o):Ii.none()}preconditionForUpdate(n){const o=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&o){if(o.isEqual(Tn.min()))throw new b(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ii.updateTime(o)}return Ii.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class Wp{constructor(n,o,c,h){this.asyncQueue=n,this.datastore=o,this.updateFunction=c,this.deferred=h,this.aa=5,this.rr=new xm(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,ae.Z)(function*(){const o=new Gp(n.datastore),c=n.ua(o);c&&c.then(h=>{n.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{n.deferred.resolve(h)}).catch(_=>{n.ha(_)}))}).catch(h=>{n.ha(h)})}))}ua(n){try{const o=this.updateFunction(n);return!sa(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const o=n.code;return"aborted"===o||"failed-precondition"===o||!Fa(o)}return!1}}class jE{constructor(n,o,c){var h=this;this.credentials=n,this.asyncQueue=o,this.databaseInfo=c,this.user=ti.UNAUTHENTICATED,this.clientId=An.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(o,function(){var _=(0,ae.Z)(function*(D){Ht("FirestoreClient","Received user=",D.uid),yield h.credentialListener(D),h.user=D});return function(D){return _.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,ae.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const o=new w;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ae.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),o.resolve()}catch(c){const h=Sd(c,"Failed to shutdown persistence");o.reject(h)}})),o.promise}}function Xm(a,n){return zp.apply(this,arguments)}function zp(){return(zp=(0,ae.Z)(function*(a,n){a.asyncQueue.verifyOperationInProgress(),Ht("FirestoreClient","Initializing OfflineComponentProvider");const o=yield a.getConfiguration();yield n.initialize(o);let c=o.initialUser;a.setCredentialChangeListener(function(){var h=(0,ae.Z)(function*(_){c.isEqual(_)||(yield bm(n.localStore,_),c=_)});return function(_){return h.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>a.terminate()),a.offlineComponents=n})).apply(this,arguments)}function Kp(a,n){return nf.apply(this,arguments)}function nf(){return(nf=(0,ae.Z)(function*(a,n){a.asyncQueue.verifyOperationInProgress();const o=yield rf(a);Ht("FirestoreClient","Initializing OnlineComponentProvider");const c=yield a.getConfiguration();yield n.initialize(o,c),a.setCredentialChangeListener(h=>{return(_=(0,ae.Z)(function*(D,k){const W=Jt(D);W.asyncQueue.verifyOperationInProgress(),Ht("RemoteStore","RemoteStore received new credentials");const ue=hu(W);W.Kr.add(3),yield dc(W),ue&&W.Wr.set("Unknown"),yield W.remoteSyncer.handleCredentialChange(k),W.Kr.delete(3),yield Dd(W)}),function(D,k){return _.apply(this,arguments)})(n.remoteStore,h);var _}),a.onlineComponents=n})).apply(this,arguments)}function rf(a){return sf.apply(this,arguments)}function sf(){return(sf=(0,ae.Z)(function*(a){return a.offlineComponents||(Ht("FirestoreClient","Using default OfflineComponentProvider"),yield Xm(a,new k_)),a.offlineComponents})).apply(this,arguments)}function af(a){return qp.apply(this,arguments)}function qp(){return(qp=(0,ae.Z)(function*(a){return a.onlineComponents||(Ht("FirestoreClient","Using default OnlineComponentProvider"),yield Kp(a,new ii)),a.onlineComponents})).apply(this,arguments)}function Bl(a){return rf(a).then(n=>n.persistence)}function Ld(a){return rf(a).then(n=>n.localStore)}function Zp(a){return af(a).then(n=>n.remoteStore)}function uf(a){return af(a).then(n=>n.syncEngine)}function rl(a){return cf.apply(this,arguments)}function cf(){return(cf=(0,ae.Z)(function*(a){const n=yield af(a),o=n.eventManager;return o.onListen=O_.bind(null,n.syncEngine),o.onUnlisten=x_.bind(null,n.syncEngine),o})).apply(this,arguments)}function ey(a,n,o={}){const c=new w;return a.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function(h,_,D,k,W){const ue=new Hp({next:We=>{_.enqueueAndForget(()=>Dp(h,we));const _t=We.docs.has(D);!_t&&We.fromCache?W.reject(new b(C.UNAVAILABLE,"Failed to get document because the client is offline.")):_t&&We.fromCache&&k&&"server"===k.source?W.reject(new b(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(We)},error:We=>W.reject(We)}),we=new Ap(Co(D.path),ue,{includeMetadataChanges:!0,uo:!0});return zh(h,we)}(yield rl(a),a.asyncQueue,n,o,c)})),c.promise}function B_(a,n,o={}){const c=new w;return a.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function(h,_,D,k,W){const ue=new Hp({next:We=>{_.enqueueAndForget(()=>Dp(h,we)),We.fromCache&&"server"===k.source?W.reject(new b(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(We)},error:We=>W.reject(We)}),we=new Ap(D,ue,{includeMetadataChanges:!0,uo:!0});return zh(h,we)}(yield rl(a),a.asyncQueue,n,o,c)})),c.promise}class HE{constructor(n,o,c,h,_,D,k,W){this.databaseId=n,this.appId=o,this.persistenceKey=c,this.host=h,this.ssl=_,this.forceLongPolling=D,this.autoDetectLongPolling=k,this.useFetchStreams=W}}class gc{constructor(n,o){this.projectId=n,this.database=o||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof gc&&n.projectId===this.projectId&&n.database===this.database}}const ry=new Map;function lf(a,n,o){if(!o)throw new b(C.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${n}.`)}function Yp(a,n,o,c){if(!0===n&&!0===c)throw new b(C.INVALID_ARGUMENT,`${a} and ${o} cannot be used together.`)}function H_(a){if(!pn.isDocumentKey(a))throw new b(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function pa(a){if(pn.isDocumentKey(a))throw new b(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Qp(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const n=(o=a).constructor?o.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var o;return"function"==typeof a?"a function":fn()}function xr(a,n){if("_delegate"in a&&(a=a._delegate),!(a instanceof n)){if(n.name===a.constructor.name)throw new b(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=Qp(a);throw new b(C.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${o}`)}}return a}function G_(a,n){if(n<=0)throw new b(C.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${n}.`)}class Jp{constructor(n){var o;if(void 0===n.host){if(void 0!==n.ssl)throw new b(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(o=n.ssl)||void 0===o||o;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new b(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,Yp("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class jl{constructor(n,o){this._credentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jp({}),this._settingsFrozen=!1,n instanceof gc?this._databaseId=n:(this._app=n,this._databaseId=function(c){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new b(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(c.options.projectId)}(n))}get app(){if(!this._app)throw new b(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new b(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jp(n),void 0!==n.credentials&&(this._credentials=function(o){if(!o)return new U;switch(o.type){case"gapi":const c=o.client;return Dn(!("object"!=typeof c||null===c||!c.auth||!c.auth.getAuthHeaderValueForFirstParty)),new Ct(c,o.sessionIndex||"0",o.iamToken||null);case"provider":return o.client;default:throw new b(C.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=ry.get(n);o&&(Ht("ComponentProvider","Removing Datastore"),ry.delete(n),o.terminate())}(this),Promise.resolve()}}class gi{constructor(n,o,c){this.converter=o,this._key=c,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new gi(this.firestore,n,this._key)}}class no{constructor(n,o,c){this.converter=o,this._query=c,this.type="query",this.firestore=n}withConverter(n){return new no(this.firestore,n,this._query)}}class Ba extends no{constructor(n,o,c){super(n,o,Co(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new gi(this.firestore,null,new pn(n))}withConverter(n){return new Ba(this.firestore,n,this._path)}}function df(a,n,...o){if(a=(0,lt.m9)(a),lf("collection","path",n),a instanceof jl){const c=Ir.fromString(n,...o);return pa(c),new Ba(a,null,c)}{if(!(a instanceof gi||a instanceof Ba))throw new b(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=a._path.child(Ir.fromString(n,...o));return pa(c),new Ba(a.firestore,null,c)}}function $l(a,n,...o){if(a=(0,lt.m9)(a),1===arguments.length&&(n=An.I()),lf("doc","path",n),a instanceof jl){const c=Ir.fromString(n,...o);return H_(c),new gi(a,null,new pn(c))}{if(!(a instanceof gi||a instanceof Ba))throw new b(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=a._path.child(Ir.fromString(n,...o));return H_(c),new gi(a.firestore,a instanceof Ba?a.converter:null,new pn(c))}}function sy(a,n){return a=(0,lt.m9)(a),n=(0,lt.m9)(n),(a instanceof gi||a instanceof Ba)&&(n instanceof gi||n instanceof Ba)&&a.firestore===n.firestore&&a.path===n.path&&a.converter===n.converter}function oy(a,n){return a=(0,lt.m9)(a),n=(0,lt.m9)(n),a instanceof no&&n instanceof no&&a.firestore===n.firestore&&Zu(a._query,n._query)&&a.converter===n.converter}class z_{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new xm(this,"async_queue_retry"),this.Ea=()=>{const o=dp();o&&Ht("AsyncQueue","Visibility state changed to "+o.visibilityState),this.rr.tr()};const n=dp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const o=dp();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const o=new w;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,ae.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(o){if(!fa(o))throw o;Ht("AsyncQueue","Operation failed with retryable error: "+o)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const o=this.fa.then(()=>(this.ga=!0,n().catch(c=>{throw this.ma=c,this.ga=!1,_r("INTERNAL UNHANDLED ERROR: ",function(h){let _=h.message||"";return h.stack&&(_=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),_}(c)),c}).then(c=>(this.ga=!1,c))));return this.fa=o,o}enqueueAfterDelay(n,o,c){this.Ta(),this.pa.indexOf(n)>-1&&(o=0);const h=bp.createAndSchedule(this,n,o,c,_=>this.Ra(_));return this._a.push(h),h}Ta(){this.ma&&fn()}verifyOperationInProgress(){}ba(){var n=this;return(0,ae.Z)(function*(){let o;do{o=n.fa,yield o}while(o!==n.fa)})()}Pa(n){for(const o of this._a)if(o.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((o,c)=>o.targetTimeMs-c.targetTimeMs);for(const o of this._a)if(o.skipDelay(),"all"!==n&&o.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const o=this._a.indexOf(n);this._a.splice(o,1)}}function Xp(a){return function(n,o){if("object"!=typeof n||null===n)return!1;const c=n;for(const h of["next","error","complete"])if(h in c&&"function"==typeof c[h])return!0;return!1}(a)}class K_{constructor(){this._progressObserver={},this._taskCompletionResolver=new w,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,o,c){this._progressObserver={next:n,error:o,complete:c}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,o){return this._taskCompletionResolver.promise.then(n,o)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class mi extends jl{constructor(n,o){super(n,o),this.type="firestore",this._queue=new z_,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Hl(this),this._firestoreClient.terminate()}}function Wr(a){return a._firestoreClient||Hl(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function Hl(a){var n;const o=a._freezeSettings(),c=(_=(null===(n=a._app)||void 0===n?void 0:n.options.appId)||"",new HE(a._databaseId,_,a._persistenceKey,(k=o).host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,k.useFetchStreams));var _,k;a._firestoreClient=new jE(a._credentials,a._queue,c)}function hf(a,n,o){const c=new w;return a.asyncQueue.enqueue((0,ae.Z)(function*(){try{yield Xm(a,o),yield Kp(a,n),c.resolve()}catch(h){if(!("FirebaseError"===(_=h).name?_.code===C.FAILED_PRECONDITION||_.code===C.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),c.reject(h)}var _})).then(()=>c.promise)}function sl(a){if(a._initialized||a._terminated)throw new b(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class To{constructor(...n){for(let o=0;o<n.length;++o)if(0===n[o].length)throw new b(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qi(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class ro{constructor(n){this._byteString=n}static fromBase64String(n){try{return new ro(Ui.fromBase64String(n))}catch(o){throw new b(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(n){return new ro(Ui.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ma{constructor(n){this._methodName=n}}class Fu{constructor(n,o){if(!isFinite(n)||n<-90||n>90)throw new b(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(o)||o<-180||o>180)throw new b(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=n,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return dn(this._lat,n._lat)||dn(this._long,n._long)}}const Gl=/^__.*__$/;class Wl{constructor(n,o,c){this.data=n,this.fieldMask=o,this.fieldTransforms=c}toMutation(n,o){return null!==this.fieldMask?new Na(n,this.data,this.fieldMask,o,this.fieldTransforms):new Du(n,this.data,o,this.fieldTransforms)}}class ol{constructor(n,o,c){this.data=n,this.fieldMask=o,this.fieldTransforms=c}toMutation(n,o){return new Na(n,this.data,this.fieldMask,o,this.fieldTransforms)}}function ng(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fn()}}class jd{constructor(n,o,c,h,_,D){this.settings=n,this.databaseId=o,this.N=c,this.ignoreUndefinedProperties=h,void 0===_&&this.Sa(),this.fieldTransforms=_||[],this.fieldMask=D||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new jd(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var o;const c=null===(o=this.path)||void 0===o?void 0:o.child(n),h=this.Ca({path:c,xa:!1});return h.ka(n),h}$a(n){var o;const c=null===(o=this.path)||void 0===o?void 0:o.child(n),h=this.Ca({path:c,xa:!1});return h.Sa(),h}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return mf(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(o=>n.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>n.isPrefixOf(o.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(ng(this.Da)&&Gl.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class ay{constructor(n,o,c){this.databaseId=n,this.ignoreUndefinedProperties=o,this.N=c||Vh(n)}Ba(n,o,c,h=!1){return new jd({Da:n,methodName:o,La:c,path:Qi.emptyPath(),xa:!1,Ma:h},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function mc(a){const n=a._freezeSettings(),o=Vh(a._databaseId);return new ay(a._databaseId,!!n.ignoreUndefinedProperties,o)}function $d(a,n,o,c,h,_={}){const D=a.Ba(_.merge||_.mergeFields?2:0,n,o,h);gf("Data must be an object, but it was:",D,c);const k=X_(c,D);let W,ue;if(_.merge)W=new eu(D.fieldMask),ue=D.fieldTransforms;else if(_.mergeFields){const we=[];for(const We of _.mergeFields){const _t=og(n,We,o);if(!D.contains(_t))throw new b(C.INVALID_ARGUMENT,`Field '${_t}' is specified in your field mask but missing from your input data.`);ev(we,_t)||we.push(_t)}W=new eu(we),ue=D.fieldTransforms.filter(We=>W.covers(We.field))}else W=null,ue=D.fieldTransforms;return new Wl(new Ji(k),W,ue)}class zl extends ma{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof zl}}function rg(a,n,o){return new jd({Da:3,La:n.settings.La,methodName:a._methodName,xa:o},n.databaseId,n.N,n.ignoreUndefinedProperties)}class ff extends ma{_toFieldTransform(n){return new Pc(n.path,new Bo)}isEqual(n){return n instanceof ff}}class uy extends ma{constructor(n,o){super(n),this.Ua=o}_toFieldTransform(n){const o=rg(this,n,!0),c=this.Ua.map(_=>al(_,o)),h=new jo(c);return new Pc(n.path,h)}isEqual(n){return this===n}}class J_ extends ma{constructor(n,o){super(n),this.Ua=o}_toFieldTransform(n){const o=rg(this,n,!0),c=this.Ua.map(_=>al(_,o)),h=new Qu(c);return new Pc(n.path,h)}isEqual(n){return this===n}}class cy extends ma{constructor(n,o){super(n),this.qa=o}_toFieldTransform(n){const o=new Ju(n.N,Cu(n.N,this.qa));return new Pc(n.path,o)}isEqual(n){return this===n}}function ig(a,n,o,c){const h=a.Ba(1,n,o);gf("Data must be an object, but it was:",h,c);const _=[],D=Ji.empty();Ci(c,(W,ue)=>{const we=ag(n,W,o);ue=(0,lt.m9)(ue);const We=h.$a(we);if(ue instanceof zl)_.push(we);else{const _t=al(ue,We);null!=_t&&(_.push(we),D.set(we,_t))}});const k=new eu(_);return new ol(D,k,h.fieldTransforms)}function pf(a,n,o,c,h,_){const D=a.Ba(1,n,o),k=[og(n,c,o)],W=[h];if(_.length%2!=0)throw new b(C.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _t=0;_t<_.length;_t+=2)k.push(og(n,_[_t])),W.push(_[_t+1]);const ue=[],we=Ji.empty();for(let _t=k.length-1;_t>=0;--_t)if(!ev(ue,k[_t])){const Ot=k[_t];let Zt=W[_t];Zt=(0,lt.m9)(Zt);const On=D.$a(Ot);if(Zt instanceof zl)ue.push(Ot);else{const er=al(Zt,On);null!=er&&(ue.push(Ot),we.set(Ot,er))}}const We=new eu(ue);return new ol(we,We,D.fieldTransforms)}function sg(a,n,o,c=!1){return al(o,a.Ba(c?4:3,n))}function al(a,n){if(ly(a=(0,lt.m9)(a)))return gf("Unsupported field value:",n,a),X_(a,n);if(a instanceof ma)return function(o,c){if(!ng(c.Da))throw c.Fa(`${o._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Fa(`${o._methodName}() is not currently supported inside arrays`);const h=o._toFieldTransform(c);h&&c.fieldTransforms.push(h)}(a,n),null;if(void 0===a&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),a instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(o,c){const h=[];let _=0;for(const D of o){let k=al(D,c.Oa(_));null==k&&(k={nullValue:"NULL_VALUE"}),h.push(k),_++}return{arrayValue:{values:h}}}(a,n)}return function(o,c){if(null===(o=(0,lt.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Cu(c.N,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const h=or.fromDate(o);return{timestampValue:tc(c.N,h)}}if(o instanceof or){const h=new or(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:tc(c.N,h)}}if(o instanceof Fu)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ro)return{bytesValue:hh(c.N,o._byteString)};if(o instanceof gi){const h=c.databaseId,_=o.firestore._databaseId;if(!_.isEqual(h))throw c.Fa(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:wl(o.firestore._databaseId||c.databaseId,o._key.path)}}throw c.Fa(`Unsupported field value: ${Qp(o)}`)}(a,n)}function X_(a,n){const o={};return Vi(a)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Ci(a,(c,h)=>{const _=al(h,n.Na(c));null!=_&&(o[c]=_)}),{mapValue:{fields:o}}}function ly(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof or||a instanceof Fu||a instanceof ro||a instanceof gi||a instanceof ma)}function gf(a,n,o){if(!ly(o)||"object"!=typeof(c=o)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=Qp(o);throw n.Fa("an object"===c?a+" a custom object":a+" "+c)}var c}function og(a,n,o){if((n=(0,lt.m9)(n))instanceof To)return n._internalPath;if("string"==typeof n)return ag(a,n);throw mf("Field path arguments must be of type string or FieldPath.",a,!1,void 0,o)}const dy=new RegExp("[~\\*/\\[\\]]");function ag(a,n,o){if(n.search(dy)>=0)throw mf(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,o);try{return new To(...n.split("."))._internalPath}catch(c){throw mf(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,o)}}function mf(a,n,o,c,h){const _=c&&!c.isEmpty(),D=void 0!==h;let k=`Function ${n}() called with invalid data`;o&&(k+=" (via `toFirestore()`)"),k+=". ";let W="";return(_||D)&&(W+=" (found",_&&(W+=` in field ${c}`),D&&(W+=` in document ${h}`),W+=")"),new b(C.INVALID_ARGUMENT,k+a+W)}function ev(a,n){return a.some(o=>o.isEqual(n))}class Hd{constructor(n,o,c,h,_){this._firestore=n,this._userDataWriter=o,this._key=c,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new hy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const o=this._document.data.field(ug("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o)}}}class hy extends Hd{data(){return super.data()}}function ug(a,n){return"string"==typeof n?ag(a,n):n instanceof To?n._internalPath:n._delegate._internalPath}class Kl{constructor(n,o){this.hasPendingWrites=n,this.fromCache=o}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class yc extends Hd{constructor(n,o,c,h,_,D){super(n,o,c,h,D),this._firestore=n,this._firestoreImpl=n,this.metadata=_}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const o=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,o={}){if(this._document){const c=this._document.data.field(ug("DocumentSnapshot.get",n));if(null!==c)return this._userDataWriter.convertValue(c,o.serverTimestamps)}}}class Gd extends yc{data(n={}){return super.data(n)}}class ul{constructor(n,o,c,h){this._firestore=n,this._userDataWriter=o,this._snapshot=h,this.metadata=new Kl(h.hasPendingWrites,h.fromCache),this.query=c}get docs(){const n=[];return this.forEach(o=>n.push(o)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,o){this._snapshot.docs.forEach(c=>{n.call(o,new Gd(this._firestore,this._userDataWriter,c.key,c,new Kl(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const o=!!n.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new b(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(c,h){if(c._snapshot.oldDocs.isEmpty()){let _=0;return c._snapshot.docChanges.map(D=>({type:"added",doc:new Gd(c._firestore,c._userDataWriter,D.doc.key,D.doc,new Kl(c._snapshot.mutatedKeys.has(D.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:_++}))}{let _=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(D=>h||3!==D.type).map(D=>{const k=new Gd(c._firestore,c._userDataWriter,D.doc.key,D.doc,new Kl(c._snapshot.mutatedKeys.has(D.doc.key),c._snapshot.fromCache),c.query.converter);let W=-1,ue=-1;return 0!==D.type&&(W=_.indexOf(D.doc.key),_=_.delete(D.doc.key)),1!==D.type&&(_=_.add(D.doc),ue=_.indexOf(D.doc.key)),{type:tv(D.type),doc:k,oldIndex:W,newIndex:ue}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function tv(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fn()}}function fy(a,n){return a instanceof yc&&n instanceof yc?a._firestore===n._firestore&&a._key.isEqual(n._key)&&(null===a._document?null===n._document:a._document.isEqual(n._document))&&a._converter===n._converter:a instanceof ul&&n instanceof ul&&a._firestore===n._firestore&&oy(a.query,n.query)&&a.metadata.isEqual(n.metadata)&&a._snapshot.isEqual(n._snapshot)}function yf(a){if(fi(a)&&0===a.explicitOrderBy.length)throw new b(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cl{}function _c(a,...n){for(const o of n)a=o._apply(a);return a}class GE extends cl{constructor(n,o,c){super(),this.Ka=n,this.ja=o,this.Qa=c,this.type="where"}_apply(n){const o=mc(n.firestore),c=function(h,_,D,k,W,ue,we){let We;if(W.isKeyField()){if("array-contains"===ue||"array-contains-any"===ue)throw new b(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ue}' queries on FieldPath.documentId().`);if("in"===ue||"not-in"===ue){_y(we,ue);const Ot=[];for(const Zt of we)Ot.push(lg(k,h,Zt));We={arrayValue:{values:Ot}}}else We=lg(k,h,we)}else"in"!==ue&&"not-in"!==ue&&"array-contains-any"!==ue||_y(we,ue),We=sg(D,"where",we,"in"===ue||"not-in"===ue);const _t=pe.create(W,ue,We);return function(Ot,Zt){if(Zt.v()){const er=td(Ot);if(null!==er&&!er.isEqual(Zt.field))throw new b(C.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${er.toString()}' and '${Zt.field.toString()}'`);const xi=xc(Ot);null!==xi&&vy(0,Zt.field,xi)}const On=function(er,xi){for(const _a of er.filters)if(xi.indexOf(_a.op)>=0)return _a.op;return null}(Ot,function(er){switch(er){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Zt.op));if(null!==On)throw new b(C.INVALID_ARGUMENT,On===Zt.op?`Invalid query. You cannot use more than one '${Zt.op.toString()}' filter.`:`Invalid query. You cannot use '${Zt.op.toString()}' filters with '${On.toString()}' filters.`)}(h,_t),_t}(n._query,0,o,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new no(n.firestore,n.converter,function(h,_){const D=h.filters.concat([_]);return new os(h.path,h.collectionGroup,h.explicitOrderBy.slice(),D,h.limit,h.limitType,h.startAt,h.endAt)}(n._query,c))}}class zE extends cl{constructor(n,o){super(),this.Ka=n,this.Wa=o,this.type="orderBy"}_apply(n){const o=function(c,h,_){if(null!==c.startAt)throw new b(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new b(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const D=new aa(h,_);return function(k,W){if(null===xc(k)){const ue=td(k);null!==ue&&vy(0,ue,W.field)}}(c,D),D}(n._query,this.Ka,this.Wa);return new no(n.firestore,n.converter,function(c,h){const _=c.explicitOrderBy.concat([h]);return new os(c.path,c.collectionGroup,_,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n._query,o))}}class cg extends cl{constructor(n,o,c){super(),this.type=n,this.Ga=o,this.za=c}_apply(n){return new no(n.firestore,n.converter,Mc(n._query,this.Ga,this.za))}}class ll extends cl{constructor(n,o,c){super(),this.type=n,this.Ha=o,this.Ja=c}_apply(n){const o=yy(n,this.type,this.Ha,this.Ja);return new no(n.firestore,n.converter,(h=o,new os((c=n._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,h,c.endAt)));var c,h}}class gy extends cl{constructor(n,o,c){super(),this.type=n,this.Ha=o,this.Ja=c}_apply(n){const o=yy(n,this.type,this.Ha,this.Ja);return new no(n.firestore,n.converter,(h=o,new os((c=n._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,h)));var c,h}}function yy(a,n,o,c){if(o[0]=(0,lt.m9)(o[0]),o[0]instanceof Hd)return function(h,_,D,k,W){if(!k)throw new b(C.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const ue=[];for(const we of la(h))if(we.field.isKeyField())ue.push(Bi(_,k.key));else{const We=k.data.field(we.field);if(zu(We))throw new b(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+we.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===We){const _t=we.field.canonicalString();throw new b(C.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_t}' (used as the orderBy) does not exist.`)}ue.push(We)}return new Sr(ue,W)}(a._query,a.firestore._databaseId,n,o[0]._document,c);{const h=mc(a.firestore);return function(_,D,k,W,ue,we){const We=_.explicitOrderBy;if(ue.length>We.length)throw new b(C.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _t=[];for(let Ot=0;Ot<ue.length;Ot++){const Zt=ue[Ot];if(We[Ot].field.isKeyField()){if("string"!=typeof Zt)throw new b(C.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof Zt}`);if(!ca(_)&&-1!==Zt.indexOf("/"))throw new b(C.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${W}() must be a plain document ID, but '${Zt}' contains a slash.`);const On=_.path.child(Ir.fromString(Zt));if(!pn.isDocumentKey(On))throw new b(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${W}() must result in a valid document path, but '${On}' is not because it contains an odd number of segments.`);const er=new pn(On);_t.push(Bi(D,er))}else{const On=sg(k,W,Zt);_t.push(On)}}return new Sr(_t,we)}(a._query,a.firestore._databaseId,h,n,o,c)}}function lg(a,n,o){if("string"==typeof(o=(0,lt.m9)(o))){if(""===o)throw new b(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ca(n)&&-1!==o.indexOf("/"))throw new b(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const c=n.path.child(Ir.fromString(o));if(!pn.isDocumentKey(c))throw new b(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return Bi(a,new pn(c))}if(o instanceof gi)return Bi(a,o._key);throw new b(C.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qp(o)}.`)}function _y(a,n){if(!Array.isArray(a)||0===a.length)throw new b(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(a.length>10)throw new b(C.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function vy(a,n,o){if(!o.isEqual(n))throw new b(C.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class dg{convertValue(n,o="none"){switch(oa(n)){case 0:return null;case 1:return n.booleanValue;case 2:return hi(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,o);case 5:return n.stringValue;case 6:return this.convertBytes(wu(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,o);case 10:return this.convertObject(n.mapValue,o);default:throw fn()}}convertObject(n,o){const c={};return Ci(n.fields,(h,_)=>{c[h]=this.convertValue(_,o)}),c}convertGeoPoint(n){return new Fu(hi(n.latitude),hi(n.longitude))}convertArray(n,o){return(n.values||[]).map(c=>this.convertValue(c,o))}convertServerTimestamp(n,o){switch(o){case"previous":const c=ed(n);return null==c?null:this.convertValue(c,o);case"estimate":return this.convertTimestamp(xa(n));default:return null}}convertTimestamp(n){const o=Oa(n);return new or(o.seconds,o.nanos)}convertDocumentKey(n,o){const c=Ir.fromString(n);Dn(_s(c));const h=new gc(c.get(1),c.get(3)),_=new pn(c.popFirst(5));return h.isEqual(o)||_r(`Document ${_} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),_}}function vf(a,n,o){let c;return c=a?o&&(o.merge||o.mergeFields)?a.toFirestore(n,o):a.toFirestore(n):n,c}class sv extends dg{constructor(n){super(),this.firestore=n}convertBytes(n){return new ro(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new gi(this.firestore,null,o)}}class hg{constructor(n,o){this._firestore=n,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=mc(n)}set(n,o,c){this._verifyNotCommitted();const h=vc(n,this._firestore),_=vf(h.converter,o,c),D=$d(this._dataReader,"WriteBatch.set",h._key,_,null!==h.converter,c);return this._mutations.push(D.toMutation(h._key,Ii.none())),this}update(n,o,c,...h){this._verifyNotCommitted();const _=vc(n,this._firestore);let D;return D="string"==typeof(o=(0,lt.m9)(o))||o instanceof To?pf(this._dataReader,"WriteBatch.update",_._key,o,c,h):ig(this._dataReader,"WriteBatch.update",_._key,o),this._mutations.push(D.toMutation(_._key,Ii.exists(!0))),this}delete(n){this._verifyNotCommitted();const o=vc(n,this._firestore);return this._mutations=this._mutations.concat(new Fc(o._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new b(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vc(a,n){if((a=(0,lt.m9)(a)).firestore!==n)throw new b(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class Ec extends dg{constructor(n){super(),this.firestore=n}convertBytes(n){return new ro(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new gi(this.firestore,null,o)}}function ql(a,n,o){a=xr(a,gi);const c=xr(a.firestore,mi),h=vf(a.converter,n,o);return bc(c,[$d(mc(c),"setDoc",a._key,h,null!==a.converter,o).toMutation(a._key,Ii.none())])}function by(a,n,o,...c){a=xr(a,gi);const h=xr(a.firestore,mi),_=mc(h);let D;return D="string"==typeof(n=(0,lt.m9)(n))||n instanceof To?pf(_,"updateDoc",a._key,n,o,c):ig(_,"updateDoc",a._key,n),bc(h,[D.toMutation(a._key,Ii.exists(!0))])}function wy(a,...n){var o,c,h;a=(0,lt.m9)(a);let _={includeMetadataChanges:!1},D=0;"object"!=typeof n[D]||Xp(n[D])||(_=n[D],D++);const k={includeMetadataChanges:_.includeMetadataChanges};if(Xp(n[D])){const We=n[D];n[D]=null===(o=We.next)||void 0===o?void 0:o.bind(We),n[D+1]=null===(c=We.error)||void 0===c?void 0:c.bind(We),n[D+2]=null===(h=We.complete)||void 0===h?void 0:h.bind(We)}let W,ue,we;if(a instanceof gi)ue=xr(a.firestore,mi),we=Co(a._key.path),W={next:We=>{n[D]&&n[D](Ef(ue,a,We))},error:n[D+1],complete:n[D+2]};else{const We=xr(a,no);ue=xr(We.firestore,mi),we=We._query;const _t=new Ec(ue);W={next:Ot=>{n[D]&&n[D](new ul(ue,_t,We,Ot))},error:n[D+1],complete:n[D+2]},yf(a._query)}return function(We,_t,Ot,Zt){const On=new Hp(Zt),er=new Ap(_t,On,Ot);return We.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return zh(yield rl(We),er)})),()=>{On.Xo(),We.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return Dp(yield rl(We),er)}))}}(Wr(ue),we,k,W)}function bc(a,n){return function(o,c){const h=new w;return o.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function(a,n,o){return Rd.apply(this,arguments)}(yield uf(o),c,h)})),h.promise}(Wr(a),n)}function Ef(a,n,o){const c=o.docs.get(n._key),h=new Ec(a);return new yc(a,h,n._key,c,new Kl(o.hasPendingWrites,o.fromCache),n.converter)}class YE extends class{constructor(n,o){this._firestore=n,this._transaction=o,this._dataReader=mc(n)}get(n){const o=vc(n,this._firestore),c=new sv(this._firestore);return this._transaction.lookup([o._key]).then(h=>{if(!h||1!==h.length)return fn();const _=h[0];if(_.isFoundDocument())return new Hd(this._firestore,c,_.key,_,o.converter);if(_.isNoDocument())return new Hd(this._firestore,c,o._key,null,o.converter);throw fn()})}set(n,o,c){const h=vc(n,this._firestore),_=vf(h.converter,o,c),D=$d(this._dataReader,"Transaction.set",h._key,_,null!==h.converter,c);return this._transaction.set(h._key,D),this}update(n,o,c,...h){const _=vc(n,this._firestore);let D;return D="string"==typeof(o=(0,lt.m9)(o))||o instanceof To?pf(this._dataReader,"Transaction.update",_._key,o,c,h):ig(this._dataReader,"Transaction.update",_._key,o),this._transaction.update(_._key,D),this}delete(n){const o=vc(n,this._firestore);return this._transaction.delete(o._key),this}}{constructor(n,o){super(n,o),this._firestore=n}get(n){const o=vc(n,this._firestore),c=new Ec(this._firestore);return super.get(n).then(h=>new yc(this._firestore,c,o._key,h._document,new Kl(!1,!1),o.converter))}}function bg(a,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new b("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return n}function wg(){if("undefined"==typeof Uint8Array)throw new b("unimplemented","Uint8Arrays are not available in this environment.")}function Cg(){if("undefined"==typeof atob)throw new b("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(a){Sa=a})(Ye.SDK_VERSION),(0,Ye._registerComponent)(new Qe.wA("firestore",(a,{options:n})=>{const o=a.getProvider("app").getImmediate(),c=new mi(o,new _e(a.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),c._setSettings(n),c},"PUBLIC")),(0,Ye.registerVersion)("@firebase/firestore","3.1.0",void 0);class dl{constructor(n){this._delegate=n}static fromBase64String(n){return Cg(),new dl(ro.fromBase64String(n))}static fromUint8Array(n){return wg(),new dl(ro.fromUint8Array(n))}toBase64(){return Cg(),this._delegate.toBase64()}toUint8Array(){return wg(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bf(a){return function(a,n){if("object"!=typeof a||null===a)return!1;const o=a;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(a)}class dv{enableIndexedDbPersistence(n,o){return function(a,n){sl(a=xr(a,mi));const o=Wr(a),c=a._freezeSettings(),h=new ii;return hf(o,h,new Qm(h,c.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:o})}enableMultiTabIndexedDbPersistence(n){return function(a){sl(a=xr(a,mi));const n=Wr(a),o=a._freezeSettings(),c=new ii;return hf(n,c,new Jm(c,o.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(a){if(a._initialized&&!a._terminated)throw new b(C.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new w;return a._queue.enqueueAndForgetEvenWhileRestricted((0,ae.Z)(function*(){try{yield(o=(0,ae.Z)(function*(c){if(!Ti.bt())return Promise.resolve();const h=c+"main";yield Ti.delete(h)}),function(c){return o.apply(this,arguments)})(Cd(a._databaseId,a._persistenceKey)),n.resolve()}catch(o){n.reject(o)}var o})),n.promise}(n._delegate)}}class Ay{constructor(n,o,c){this._delegate=o,this._persistenceProvider=c,this.INTERNAL={delete:()=>this.terminate()},n instanceof gc||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const o=this._delegate._getSettings();!n.merge&&o.host!==n.host&&ni("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},o),n)).merge,this._delegate._setSettings(n)}useEmulator(n,o,c={}){!function(a,n,o,c={}){var h;const _=(a=xr(a,jl))._getSettings();if("firestore.googleapis.com"!==_.host&&_.host!==n&&ni("Host has been set in both settings() and useEmulator(), emulator host will be used"),a._setSettings(Object.assign(Object.assign({},_),{host:`${n}:${o}`,ssl:!1})),c.mockUserToken){let D,k;if("string"==typeof c.mockUserToken)D=c.mockUserToken,k=ti.MOCK_USER;else{D=(0,lt.Sg)(c.mockUserToken,null===(h=a._app)||void 0===h?void 0:h.options.projectId);const W=c.mockUserToken.sub||c.mockUserToken.user_id;if(!W)throw new b(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new ti(W)}a._credentials=new J(new N(D,k))}}(this._delegate,n,o,c)}enableNetwork(){return function(a){return function(a){return a.asyncQueue.enqueue((0,ae.Z)(function*(){const n=yield Bl(a),o=yield Zp(a);return n.setNetworkEnabled(!0),function(c){const h=Jt(c);return h.Kr.delete(0),Dd(h)}(o)}))}(Wr(a=xr(a,mi)))}(this._delegate)}disableNetwork(){return function(a){return function(a){return a.asyncQueue.enqueue((0,ae.Z)(function*(){const n=yield Bl(a),o=yield Zp(a);return n.setNetworkEnabled(!1),(c=(0,ae.Z)(function*(h){const _=Jt(h);_.Kr.add(0),yield dc(_),_.Wr.set("Offline")}),function(h){return c.apply(this,arguments)})(o);var c}))}(Wr(a=xr(a,mi)))}(this._delegate)}enablePersistence(n){let o=!1,c=!1;return n&&(o=!!n.synchronizeTabs,c=!!n.experimentalForceOwningTab,Yp("synchronizeTabs",o,"experimentalForceOwningTab",c)),o?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,c)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(a){return function(n){const o=new w;return n.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function(a,n){return Qh.apply(this,arguments)}(yield uf(n),o)})),o.promise}(Wr(a=xr(a,mi)))}(this._delegate)}onSnapshotsInSync(n){return function(a,n){return function(a,n){const o=new Hp(n);return a.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return c=yield rl(a),h=o,Jt(c).Zr.add(h),void h.next();var c,h})),()=>{o.Xo(),a.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return c=yield rl(a),h=o,void Jt(c).Zr.delete(h);var c,h}))}}(Wr(a=xr(a,mi)),Xp(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new b("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Yl(this,df(this._delegate,n))}catch(o){throw Ls(o,"collection()","Firestore.collection()")}}doc(n){try{return new Wo(this,$l(this._delegate,n))}catch(o){throw Ls(o,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new io(this,function(a,n){if(a=xr(a,jl),lf("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new b(C.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new no(a,null,(o=n,new os(Ir.emptyPath(),o)));var o}(this._delegate,n))}catch(o){throw Ls(o,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(a,n){return function(a,n){const o=new w;return a.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){const c=yield(h=a,af(h).then(_=>_.datastore));var h;new Wp(a.asyncQueue,c,n,o).run()})),o.promise}(Wr(a),o=>n(new YE(a,o)))}(this._delegate,o=>n(new Dg(this,o)))}batch(){return Wr(this._delegate),new Tg(new hg(this._delegate,n=>bc(this._delegate,n)))}loadBundle(n){return function(a,n){const o=Wr(a=xr(a,mi)),c=new K_;return function(a,n,o,c){const h=function(_,D){let k;return k="string"==typeof _?(new TextEncoder).encode(_):_,W=function(W,ue){if(W instanceof Uint8Array)return tf(W,void 0);if(W instanceof ArrayBuffer)return tf(new Uint8Array(W),void 0);if(W instanceof ReadableStream)return W.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new Nu(W,D);var W}(o,Vh(n));a.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){!function(a,n,o){const c=Jt(a);var h;(h=(0,ae.Z)(function*(_,D,k){try{const W=yield D.getMetadata();if(yield function(_t,Ot){const Zt=Jt(_t),On=Xi(Ot.createTime);return Zt.persistence.runTransaction("hasNewerBundle","readonly",er=>Zt.Je.getBundleMetadata(er,Ot.id)).then(er=>!!er&&er.createTime.compareTo(On)>=0)}(_.localStore,W))return yield D.close(),void k._completeWith((_t=W,{taskState:"Success",documentsLoaded:_t.totalDocuments,bytesLoaded:_t.totalBytes,totalDocuments:_t.totalDocuments,totalBytes:_t.totalBytes}));k._updateProgress(Bm(W));const ue=new Um(W,_.localStore,D.N);let we=yield D.Qo();for(;we;){const _t=yield ue.fo(we);_t&&k._updateProgress(_t),we=yield D.Qo()}const We=yield ue.complete();yield fc(_,We.Tn,void 0),yield function(_t,Ot){const Zt=Jt(_t);return Zt.persistence.runTransaction("Save bundle","readwrite",On=>Zt.Je.saveBundleMetadata(On,Ot))}(_.localStore,W),k._completeWith(We.progress)}catch(W){ni("SyncEngine",`Loading bundle failed with ${W}`),k._failWith(W)}var _t}),function(_,D,k){return h.apply(this,arguments)})(c,n,o).then(()=>{c.sharedClientState.notifyBundleLoaded()})}(yield uf(a),h,c)}))}(o,a._databaseId,n,c),c}(this._delegate,n)}namedQuery(n){return function(a,n){return function(a,n){return a.asyncQueue.enqueue((0,ae.Z)(function*(){return function(o,c){const h=Jt(o);return h.persistence.runTransaction("Get named query","readonly",_=>h.Je.getNamedQuery(_,c))}(yield Ld(a),n)}))}(Wr(a=xr(a,mi)),n).then(o=>o?new no(a,null,o.query):null)}(this._delegate,n).then(o=>o?new io(this,o):null)}}class Wd extends dg{constructor(n){super(),this.firestore=n}convertBytes(n){return new dl(new ro(n))}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return Wo.forKey(o,this.firestore,null)}}class Dg{constructor(n,o){this._firestore=n,this._delegate=o,this._userDataWriter=new Wd(n)}get(n){const o=yi(n);return this._delegate.get(o).then(c=>new Zl(this._firestore,new yc(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,o.converter)))}set(n,o,c){const h=yi(n);return c?(bg("Transaction.set",c),this._delegate.set(h,o,c)):this._delegate.set(h,o),this}update(n,o,c,...h){const _=yi(n);return 2===arguments.length?this._delegate.update(_,o):this._delegate.update(_,o,c,...h),this}delete(n){const o=yi(n);return this._delegate.delete(o),this}}class Tg{constructor(n){this._delegate=n}set(n,o,c){const h=yi(n);return c?(bg("WriteBatch.set",c),this._delegate.set(h,o,c)):this._delegate.set(h,o),this}update(n,o,c,...h){const _=yi(n);return 2===arguments.length?this._delegate.update(_,o):this._delegate.update(_,o,c,...h),this}delete(n){const o=yi(n);return this._delegate.delete(o),this}commit(){return this._delegate.commit()}}class wc{constructor(n,o,c){this._firestore=n,this._userDataWriter=o,this._delegate=c}fromFirestore(n,o){const c=new Gd(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new wf(this._firestore,c),null!=o?o:{})}toFirestore(n,o){return o?this._delegate.toFirestore(n,o):this._delegate.toFirestore(n)}static getInstance(n,o){const c=wc.INSTANCES;let h=c.get(n);h||(h=new WeakMap,c.set(n,h));let _=h.get(o);return _||(_=new wc(n,new Wd(n),o),h.set(o,_)),_}}wc.INSTANCES=new WeakMap;class Wo{constructor(n,o){this.firestore=n,this._delegate=o,this._userDataWriter=new Wd(n)}static forPath(n,o,c){if(n.length%2!=0)throw new b("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Wo(o,new gi(o._delegate,c,new pn(n)))}static forKey(n,o,c){return new Wo(o,new gi(o._delegate,c,n))}get id(){return this._delegate.id}get parent(){return new Yl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Yl(this.firestore,df(this._delegate,n))}catch(o){throw Ls(o,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,lt.m9)(n))instanceof gi&&sy(this._delegate,n)}set(n,o){o=bg("DocumentReference.set",o);try{return o?ql(this._delegate,n,o):ql(this._delegate,n)}catch(c){throw Ls(c,"setDoc()","DocumentReference.set()")}}update(n,o,...c){try{return 1===arguments.length?by(this._delegate,n):by(this._delegate,n,o,...c)}catch(h){throw Ls(h,"updateDoc()","DocumentReference.update()")}}delete(){return function(a){return bc(xr(a.firestore,mi),[new Fc(a._key,Ii.none())])}(this._delegate)}onSnapshot(...n){const o=Ag(n),c=Sg(n,h=>new Zl(this.firestore,new yc(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return wy(this._delegate,o,c)}get(n){let o;return o="cache"===(null==n?void 0:n.source)?function(a){a=xr(a,gi);const n=xr(a.firestore,mi),o=Wr(n),c=new Ec(n);return function(a,n){const o=new w;return a.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return(c=(0,ae.Z)(function*(h,_,D){try{const k=yield function(W,ue){const we=Jt(W);return we.persistence.runTransaction("read document","readonly",We=>we.Qn.An(We,ue))}(h,_);k.isFoundDocument()?D.resolve(k):k.isNoDocument()?D.resolve(null):D.reject(new b(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const W=Sd(k,`Failed to get document '${_} from cache`);D.reject(W)}}),function(h,_,D){return c.apply(this,arguments)})(yield Ld(a),n,o);var c})),o.promise}(o,a._key).then(h=>new yc(n,c,a._key,h,new Kl(null!==h&&h.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(a){a=xr(a,gi);const n=xr(a.firestore,mi);return ey(Wr(n),a._key,{source:"server"}).then(o=>Ef(n,a,o))}(this._delegate):function(a){a=xr(a,gi);const n=xr(a.firestore,mi);return ey(Wr(n),a._key).then(o=>Ef(n,a,o))}(this._delegate),o.then(c=>new Zl(this.firestore,new yc(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)))}withConverter(n){return new Wo(this.firestore,this._delegate.withConverter(n?wc.getInstance(this.firestore,n):null))}}function Ls(a,n,o){return a.message=a.message.replace(n,o),a}function Ag(a){for(const n of a)if("object"==typeof n&&!bf(n))return n;return{}}function Sg(a,n){var o,c;let h;return h=bf(a[0])?a[0]:bf(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:_=>{h.next&&h.next(n(_))},error:null===(o=h.error)||void 0===o?void 0:o.bind(h),complete:null===(c=h.complete)||void 0===c?void 0:c.bind(h)}}class Zl{constructor(n,o){this._firestore=n,this._delegate=o}get ref(){return new Wo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,o){return this._delegate.get(n,o)}isEqual(n){return fy(this._delegate,n._delegate)}}class wf extends Zl{data(n){const o=this._delegate.data(n);return function(a,n){a||fn()}(void 0!==o),o}}class io{constructor(n,o){this.firestore=n,this._delegate=o,this._userDataWriter=new Wd(n)}where(n,o,c){try{return new io(this.firestore,_c(this._delegate,function(a,n,o){const c=n,h=ug("where",a);return new GE(h,c,o)}(n,o,c)))}catch(h){throw Ls(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,o){try{return new io(this.firestore,_c(this._delegate,function(a,n="asc"){const o=n,c=ug("orderBy",a);return new zE(c,o)}(n,o)))}catch(c){throw Ls(c,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new io(this.firestore,_c(this._delegate,function(a){return G_("limit",a),new cg("limit",a,"F")}(n)))}catch(o){throw Ls(o,"limit()","Query.limit()")}}limitToLast(n){try{return new io(this.firestore,_c(this._delegate,function(a){return G_("limitToLast",a),new cg("limitToLast",a,"L")}(n)))}catch(o){throw Ls(o,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new io(this.firestore,_c(this._delegate,function(...a){return new ll("startAt",a,!0)}(...n)))}catch(o){throw Ls(o,"startAt()","Query.startAt()")}}startAfter(...n){try{return new io(this.firestore,_c(this._delegate,function(...a){return new ll("startAfter",a,!1)}(...n)))}catch(o){throw Ls(o,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new io(this.firestore,_c(this._delegate,function(...a){return new gy("endBefore",a,!0)}(...n)))}catch(o){throw Ls(o,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new io(this.firestore,_c(this._delegate,function(...a){return new gy("endAt",a,!1)}(...n)))}catch(o){throw Ls(o,"endAt()","Query.endAt()")}}isEqual(n){return oy(this._delegate,n._delegate)}get(n){let o;return o="cache"===(null==n?void 0:n.source)?function(a){a=xr(a,no);const n=xr(a.firestore,mi),o=Wr(n),c=new Ec(n);return function(a,n){const o=new w;return a.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return(c=(0,ae.Z)(function*(h,_,D){try{const k=yield Mh(h,_,!0),W=new jm(_,k.Gn),ue=W.Io(k.documents),we=W.applyChanges(ue,!1);D.resolve(we.snapshot)}catch(k){const W=Sd(k,`Failed to execute query '${_} against cache`);D.reject(W)}}),function(h,_,D){return c.apply(this,arguments)})(yield Ld(a),n,o);var c})),o.promise}(o,a._query).then(h=>new ul(n,c,a,h))}(this._delegate):"server"===(null==n?void 0:n.source)?function(a){a=xr(a,no);const n=xr(a.firestore,mi),o=Wr(n),c=new Ec(n);return B_(o,a._query,{source:"server"}).then(h=>new ul(n,c,a,h))}(this._delegate):function(a){a=xr(a,no);const n=xr(a.firestore,mi),o=Wr(n),c=new Ec(n);return yf(a._query),B_(o,a._query).then(h=>new ul(n,c,a,h))}(this._delegate),o.then(c=>new Cf(this.firestore,new ul(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)))}onSnapshot(...n){const o=Ag(n),c=Sg(n,h=>new Cf(this.firestore,new ul(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return wy(this._delegate,o,c)}withConverter(n){return new io(this.firestore,this._delegate.withConverter(n?wc.getInstance(this.firestore,n):null))}}class hv{constructor(n,o){this._firestore=n,this._delegate=o}get type(){return this._delegate.type}get doc(){return new wf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Cf{constructor(n,o){this._firestore=n,this._delegate=o}get query(){return new io(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new wf(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(o=>new hv(this._firestore,o))}forEach(n,o){this._delegate.forEach(c=>{n.call(o,new wf(this._firestore,c))})}isEqual(n){return fy(this._delegate,n._delegate)}}class Yl extends io{constructor(n,o){super(n,o),this.firestore=n,this._delegate=o}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Wo(this.firestore,n):null}doc(n){try{return new Wo(this.firestore,void 0===n?$l(this._delegate):$l(this._delegate,n))}catch(o){throw Ls(o,"doc()","CollectionReference.doc()")}}add(n){return function(a,n){const o=xr(a.firestore,mi),c=$l(a),h=vf(a.converter,n);return bc(o,[$d(mc(a.firestore),"addDoc",c._key,h,null!==a.converter,{}).toMutation(c._key,Ii.exists(!1))]).then(()=>c)}(this._delegate,n).then(o=>new Wo(this.firestore,o))}isEqual(n){return sy(this._delegate,n._delegate)}withConverter(n){return new Yl(this.firestore,this._delegate.withConverter(n?wc.getInstance(this.firestore,n):null))}}function yi(a){return xr(a,gi)}class If{constructor(...n){this._delegate=new To(...n)}static documentId(){return new If(Qi.keyField().canonicalString())}isEqual(n){return(n=(0,lt.m9)(n))instanceof To&&this._delegate._internalPath.isEqual(n._internalPath)}}class hl{constructor(n){this._delegate=n}static serverTimestamp(){const n=new ff("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new hl(n)}static delete(){const n=new zl("deleteField");return n._methodName="FieldValue.delete",new hl(n)}static arrayUnion(...n){const o=function(...a){return new uy("arrayUnion",a)}(...n);return o._methodName="FieldValue.arrayUnion",new hl(o)}static arrayRemove(...n){const o=function(...a){return new J_("arrayRemove",a)}(...n);return o._methodName="FieldValue.arrayRemove",new hl(o)}static increment(n){const o=function(a){return new cy("increment",a)}(n);return o._methodName="FieldValue.increment",new hl(o)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const fv={Firestore:Ay,GeoPoint:Fu,Timestamp:or,Blob:dl,Transaction:Dg,WriteBatch:Tg,DocumentReference:Wo,DocumentSnapshot:Zl,Query:io,QueryDocumentSnapshot:wf,QuerySnapshot:Cf,CollectionReference:Yl,FieldPath:If,FieldValue:hl,setLogLevel:function(a){!function(a){Ps.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};!function(a){(function(a,n){a.INTERNAL.registerComponent(new Qe.wA("firestore-compat",o=>((n,o)=>new Ay(n,o,new dv))(o.getProvider("app-compat").getImmediate(),o.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},fv)))})(a),a.registerVersion("@firebase/firestore-compat","0.1.3")}(Fe.Z);var ku=S(2673),Oy=S(2965),Ql=S(7841);function xy(a,n){return function(a,n=R.z){return new H.y(o=>{let c;return null!=n?n.schedule(()=>{c=a.onSnapshot({includeMetadataChanges:!0},o)}):c=a.onSnapshot({includeMetadataChanges:!0},o),()=>{null!=c&&c()}})}(a,n)}function Og(a,n){return xy(a,n).pipe((0,z.U)(o=>({payload:o,type:"query"})))}function zd(a,n){return Og(a,n).pipe((0,K.O)(void 0),Y(),(0,z.U)(([o,c])=>{const h=c.payload.docChanges(),_=h.map(D=>({type:D.type,payload:D}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((D,k)=>{const W=h.find(we=>we.doc.ref.isEqual(D.ref)),ue=null==o?void 0:o.payload.docs.find(we=>we.ref.isEqual(D.ref));W&&JSON.stringify(W.doc.metadata)===JSON.stringify(D.metadata)||!W&&ue&&JSON.stringify(ue.metadata)===JSON.stringify(D.metadata)||_.push({type:"modified",payload:{oldIndex:k,newIndex:k,type:"modified",doc:D}})}),_}))}function mv(a,n,o){return zd(a,o).pipe((0,oe.R)((c,h)=>function(a,n,o){return n.forEach(c=>{o.indexOf(c.type)>-1&&(a=function(a,n){switch(n.type){case"added":if(!a[n.newIndex]||!a[n.newIndex].doc.ref.isEqual(n.doc.ref))return Kd(a,n.newIndex,0,n);break;case"modified":if(null==a[n.oldIndex]||a[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const o=a.slice();return o.splice(n.oldIndex,1),o.splice(n.newIndex,0,n),o}return Kd(a,n.newIndex,1,n)}break;case"removed":if(a[n.oldIndex]&&a[n.oldIndex].doc.ref.isEqual(n.doc.ref))return Kd(a,n.oldIndex,1)}return a}(a,c))}),a}(c,h.map(_=>_.payload),n),[]),(0,He.x)(),(0,z.U)(c=>c.map(h=>({type:h.type,payload:h}))))}function Kd(a,n,o,...c){const h=a.slice();return h.splice(n,o,...c),h}function Ry(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}class Py{constructor(n,o,c){this.ref=n,this.query=o,this.afs=c}stateChanges(n){let o=zd(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(o=o.pipe((0,z.U)(c=>c.filter(h=>n.indexOf(h.type)>-1)))),o.pipe((0,K.O)(void 0),Y(),(0,Le.h)(([c,h])=>h.length>0||!c),(0,z.U)(([c,h])=>h),$.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,oe.R)((o,c)=>[...o,...c],[]))}snapshotChanges(n){const o=Ry(n);return mv(this.query,o,this.afs.schedulers.outsideAngular).pipe($.iC)}valueChanges(n={}){return Og(this.query,this.afs.schedulers.outsideAngular).pipe((0,z.U)(o=>o.payload.docs.map(c=>n.idField?Object.assign(Object.assign({},c.data()),{[n.idField]:c.id}):c.data())),$.iC)}get(n){return(0,ge.D)(this.query.get(n)).pipe($.iC)}add(n){return this.ref.add(n)}doc(n){return new $a(this.ref.doc(n),this.afs)}}class $a{constructor(n,o){this.ref=n,this.afs=o}set(n,o){return this.ref.set(n,o)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,o){const c=this.ref.collection(n),{ref:h,query:_}=Fy(c,o);return new Py(h,_,this.afs)}snapshotChanges(){return function(a,n){return xy(a,n).pipe((0,K.O)(void 0),Y(),(0,z.U)(([o,c])=>c.exists?(null==o?void 0:o.exists)?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,z.U)(({payload:o})=>n.idField?Object.assign(Object.assign({},o.data()),{[n.idField]:o.id}):o.data()))}get(n){return(0,ge.D)(this.ref.get(n)).pipe($.iC)}}class Ha{constructor(n,o){this.query=n,this.afs=o}stateChanges(n){return n&&0!==n.length?zd(this.query,this.afs.schedulers.outsideAngular).pipe((0,z.U)(o=>o.filter(c=>n.indexOf(c.type)>-1)),(0,Le.h)(o=>o.length>0),$.iC):zd(this.query,this.afs.schedulers.outsideAngular).pipe($.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,oe.R)((o,c)=>[...o,...c],[]))}snapshotChanges(n){const o=Ry(n);return mv(this.query,o,this.afs.schedulers.outsideAngular).pipe($.iC)}valueChanges(n={}){return Og(this.query,this.afs.schedulers.outsideAngular).pipe((0,z.U)(c=>c.payload.docs.map(h=>n.idField?Object.assign({[n.idField]:h.id},h.data()):h.data())),$.iC)}get(n){return(0,ge.D)(this.query.get(n)).pipe($.iC)}}const ya=new y.OlP("angularfire2.enableFirestorePersistence"),Mg=new y.OlP("angularfire2.firestore.persistenceSettings"),Ny=new y.OlP("angularfire2.firestore.settings"),yv=new y.OlP("angularfire2.firestore.use-emulator");function Fy(a,n=(o=>o)){return{query:n(a),ref:a}}let ky=(()=>{class a{constructor(o,c,h,_,D,k,W,ue,we,We,_t,Ot,Zt,On,er,xi,_a){this.schedulers=W;const Ga=(0,Ae.on)(o,k,c),gu=we;We&&(0,ku.nw)(Ga,k,_t,Zt,On,er,Ot,xi),[this.firestore,this.persistenceEnabled$]=(0,Ae.cc)(`${Ga.name}.firestore`,"AngularFirestore",Ga.name,()=>{const Lu=k.runOutsideAngular(()=>Ga.firestore());if(_&&Lu.settings(_),gu&&Lu.useEmulator(...gu),h&&!(0,Ue.PM)(D)){const Df=()=>{try{return(0,ge.D)(Lu.enablePersistence(ue||void 0).then(()=>!0,()=>!1))}catch(vv){return"undefined"!=typeof console&&console.warn(vv),(0,ee.of)(!1)}};return[Lu,k.runOutsideAngular(Df)]}return[Lu,(0,ee.of)(!1)]},[_,gu,h])}collection(o,c){let h;h="string"==typeof o?this.firestore.collection(o):o;const{ref:_,query:D}=Fy(h,c),k=this.schedulers.ngZone.run(()=>_);return new Py(k,D,this)}collectionGroup(o,c){const h=c||(D=>D),_=this.firestore.collectionGroup(o);return new Ha(h(_),this)}doc(o){let c;c="string"==typeof o?this.firestore.doc(o):o;const h=this.schedulers.ngZone.run(()=>c);return new $a(h,this)}createId(){return this.firestore.collection("_").doc().id}}return a.\u0275fac=function(o){return new(o||a)(y.LFG(Ae.Dh),y.LFG(Ae.xv,8),y.LFG(ya,8),y.LFG(Ny,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG($.HU),y.LFG(Mg,8),y.LFG(yv,8),y.LFG(ku.zQ,8),y.LFG(ku.Qv,8),y.LFG(ku.L6,8),y.LFG(ku._Q,8),y.LFG(ku.rT,8),y.LFG(ku.lh,8),y.LFG(ku.f7,8),y.LFG(Oy.nm,8))},a.\u0275prov=y.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),_v=(()=>{class a{constructor(){Ql.Z.registerVersion("angularfire",$.q4.full,"fst-compat")}static enablePersistence(o){return{ngModule:a,providers:[{provide:ya,useValue:!0},{provide:Mg,useValue:o}]}}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=y.oAB({type:a}),a.\u0275inj=y.cJS({providers:[ky]}),a})()},8939:(Pe,de,S)=>{"use strict";S.d(de,{hO:()=>oe,xv:()=>q,Dh:()=>Y,GT:()=>$,cc:()=>He,on:()=>G,pX:()=>ee});var y=S(4788),R=S(7841),H=S(6643);Pe=S.hmd(Pe);const ge=["ngOnDestroy"],ee=(Ce,Fe,ae,Ye={})=>new Proxy(Ce,{get:(Qe,St)=>ae.runOutsideAngular(()=>{var lt;if(Ce[St])return(null===(lt=null==Ye?void 0:Ye.spy)||void 0===lt?void 0:lt.get)&&Ye.spy.get(St,Ce[St]),Ce[St];if(ge.indexOf(St)>-1)return()=>{};const ye=Fe.toPromise().then(it=>{const le=it&&it[St];return"function"==typeof le?le.bind(it):le&&le.then?le.then(qe=>ae.run(()=>qe)):ae.run(()=>le)});return new Proxy(()=>{},{get:(it,le)=>ye[le],apply:(it,le,qe)=>ye.then(be=>{var fe;const Oe=be&&be(...qe);return(null===(fe=null==Ye?void 0:Ye.spy)||void 0===fe?void 0:fe.apply)&&Ye.spy.apply(St,qe,Oe),Oe})})})}),$=(Ce,Fe)=>{Fe.forEach(ae=>{Object.getOwnPropertyNames(ae.prototype||ae).forEach(Ye=>{Object.defineProperty(Ce.prototype,Ye,Object.getOwnPropertyDescriptor(ae.prototype||ae,Ye))})})};class ne{constructor(Fe){return Fe}}const Y=new y.OlP("angularfire2.app.options"),q=new y.OlP("angularfire2.app.name");function G(Ce,Fe,ae){const Qe="object"==typeof ae&&ae||{};Qe.name=Qe.name||"string"==typeof ae&&ae||"[DEFAULT]";const lt=R.Z.apps.filter(ye=>ye&&ye.name===Qe.name)[0]||Fe.runOutsideAngular(()=>R.Z.initializeApp(Ce,Qe));try{JSON.stringify(Ce)!==JSON.stringify(lt.options)&&K("error",`${lt.name} Firebase App already initialized with different options${Pe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ye){}return new ne(lt)}const K=(Ce,...Fe)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[Ce](...Fe)},z={provide:ne,useFactory:G,deps:[Y,y.R0b,[new y.FiY,q]]};let oe=(()=>{class Ce{constructor(ae){R.Z.registerVersion("angularfire",H.q4.full,"core"),R.Z.registerVersion("angularfire",H.q4.full,"app-compat"),R.Z.registerVersion("angular",y.q4F.full,ae.toString())}static initializeApp(ae,Ye){return{ngModule:Ce,providers:[{provide:Y,useValue:ae},{provide:q,useValue:Ye}]}}}return Ce.\u0275fac=function(ae){return new(ae||Ce)(y.LFG(y.Lbi))},Ce.\u0275mod=y.oAB({type:Ce}),Ce.\u0275inj=y.cJS({providers:[z]}),Ce})();function He(Ce,Fe,ae,Ye,Qe){const[,St,lt]=globalThis.\u0275AngularfireInstanceCache.find(ye=>ye[0]===Ce)||[];if(St)return function(Ce,Fe){try{return Ce.toString()===Fe.toString()}catch(ae){return Ce===Fe}}(Qe,lt)||(Ue("error",`${Fe} was already initialized on the ${ae} Firebase App with different settings.${Ae?" You may need to reload as Firebase is not HMR aware.":""}`),Ue("warn",{is:Qe,was:lt})),St;{const ye=Ye();return globalThis.\u0275AngularfireInstanceCache.push([Ce,ye,Qe]),ye}}const Ae=!!Pe.hot,Ue=(Ce,...Fe)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[Ce](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(Pe,de,S)=>{"use strict";S.d(de,{q4:()=>ed,iC:()=>Ar,HU:()=>Vo,vb:()=>gs,JM:()=>Oc});var y=S(4788),R=S(2329),H=S(4553),ge=S(5452),ee=S(3854),$=S(6034),ne=S(5601),Y=S(6676);const G="0.5.1",z=`w:${G}`,oe="FIS_v2",Fe=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ae(x){return x instanceof ee.ZR&&x.code.includes("request-failed")}function Ye({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Qe(x){return{token:x.token,requestStatus:2,expiresIn:be(x.expiresIn),creationTime:Date.now()}}function St(x,V){return lt.apply(this,arguments)}function lt(){return(lt=(0,H.Z)(function*(x,V){const pe=(yield V.json()).error;return Fe.create("request-failed",{requestName:x,serverCode:pe.code,serverMessage:pe.message,serverStatus:pe.status})})).apply(this,arguments)}function ye({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function it(x,{refreshToken:V}){const X=ye(x);return X.append("Authorization",function(x){return`${oe} ${x}`}(V)),X}function le(x){return qe.apply(this,arguments)}function qe(){return(qe=(0,H.Z)(function*(x){const V=yield x();return V.status>=500&&V.status<600?x():V})).apply(this,arguments)}function be(x){return Number(x.replace("s","000"))}function Oe(x,V){return se.apply(this,arguments)}function se(){return(se=(0,H.Z)(function*(x,{fid:V}){const X=Ye(x),yt={method:"POST",headers:ye(x),body:JSON.stringify({fid:V,authVersion:oe,appId:x.appId,sdkVersion:z})},kt=yield le(()=>fetch(X,yt));if(kt.ok){const un=yield kt.json();return{fid:un.fid||V,registrationStatus:2,refreshToken:un.refreshToken,authToken:Qe(un.authToken)}}throw yield St("Create Installation",kt)})).apply(this,arguments)}function et(x){return new Promise(V=>{setTimeout(V,x)})}const Vt=/^[cdef][\w-]{21}$/;function Tt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const X=function(x){return function(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Vt.test(X)?X:""}catch(x){return""}}function tn(x){return`${x.appName}!${x.appId}`}const sn=new Map;function Gt(x,V){const X=tn(x);zt(X,V),function(x,V){const X=(!je&&"BroadcastChannel"in self&&(je=new BroadcastChannel("[Firebase] FID Change"),je.onmessage=x=>{zt(x.data.key,x.data.fid)}),je);X&&X.postMessage({key:x,fid:V}),0===sn.size&&je&&(je.close(),je=null)}(X,V)}function zt(x,V){const X=sn.get(x);if(X)for(const pe of X)pe(V)}let je=null;const xt="firebase-installations-store";let Wt=null;function ln(){return Wt||(Wt=(0,Y.openDb)("firebase-installations-database",1,x=>{switch(x.oldVersion){case 0:x.createObjectStore(xt)}})),Wt}function It(x,V){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,H.Z)(function*(x,V){const X=tn(x),Je=(yield ln()).transaction(xt,"readwrite"),yt=Je.objectStore(xt),kt=yield yt.get(X);return yield yt.put(V,X),yield Je.complete,(!kt||kt.fid!==V.fid)&&Gt(x,V.fid),V})).apply(this,arguments)}function Qn(x){return kn.apply(this,arguments)}function kn(){return(kn=(0,H.Z)(function*(x){const V=tn(x),pe=(yield ln()).transaction(xt,"readwrite");yield pe.objectStore(xt).delete(V),yield pe.complete})).apply(this,arguments)}function Yt(x,V){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,H.Z)(function*(x,V){const X=tn(x),Je=(yield ln()).transaction(xt,"readwrite"),yt=Je.objectStore(xt),kt=yield yt.get(X),un=V(kt);return void 0===un?yield yt.delete(X):yield yt.put(un,X),yield Je.complete,un&&(!kt||kt.fid!==un.fid)&&Gt(x,un.fid),un})).apply(this,arguments)}function Cn(x){return xn.apply(this,arguments)}function xn(){return(xn=(0,H.Z)(function*(x){let V;const X=yield Yt(x,pe=>{const Je=rr(pe),yt=Pn(x,Je);return V=yt.registrationPromise,yt.installationEntry});return""===X.fid?{installationEntry:yield V}:{installationEntry:X,registrationPromise:V}})).apply(this,arguments)}function rr(x){return Bn(x||{fid:Tt(),registrationStatus:0})}function Pn(x,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(Fe.create("app-offline"))};const X={fid:V.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:X,registrationPromise:function(x,V){return Ft.apply(this,arguments)}(x,X)}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:Mr(x)}:{installationEntry:V}}function Ft(){return(Ft=(0,H.Z)(function*(x,V){try{return It(x,yield Oe(x,V))}catch(X){throw ae(X)&&409===X.customData.serverCode?yield Qn(x):yield It(x,{fid:V.fid,registrationStatus:0}),X}})).apply(this,arguments)}function Mr(x){return hr.apply(this,arguments)}function hr(){return(hr=(0,H.Z)(function*(x){let V=yield Dr(x);for(;1===V.registrationStatus;)yield et(100),V=yield Dr(x);if(0===V.registrationStatus){const{installationEntry:X,registrationPromise:pe}=yield Cn(x);return pe||X}return V})).apply(this,arguments)}function Dr(x){return Yt(x,V=>{if(!V)throw Fe.create("installation-not-found");return Bn(V)})}function Bn(x){return function(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function $r(x,V){return xe.apply(this,arguments)}function xe(){return(xe=(0,H.Z)(function*({appConfig:x,platformLoggerProvider:V},X){const pe=me(x,X),Je=it(x,X),yt=V.getImmediate({optional:!0});yt&&Je.append("x-firebase-client",yt.getPlatformInfoString());const un={method:"POST",headers:Je,body:JSON.stringify({installation:{sdkVersion:z}})},cn=yield le(()=>fetch(pe,un));if(cn.ok)return Qe(yield cn.json());throw yield St("Generate Auth Token",cn)})).apply(this,arguments)}function me(x,{fid:V}){return`${Ye(x)}/${V}/authTokens:generate`}function Me(x){return vt.apply(this,arguments)}function vt(){return(vt=(0,H.Z)(function*(x,V=!1){let X;const pe=yield Yt(x.appConfig,yt=>{if(!$t(yt))throw Fe.create("not-registered");const kt=yt.authToken;if(!V&&En(kt))return yt;if(1===kt.requestStatus)return X=tt(x,V),yt;{if(!navigator.onLine)throw Fe.create("app-offline");const un=Jn(yt);return X=nt(x,un),un}});return X?yield X:pe.authToken})).apply(this,arguments)}function tt(x,V){return en.apply(this,arguments)}function en(){return(en=(0,H.Z)(function*(x,V){let X=yield Ne(x.appConfig);for(;1===X.authToken.requestStatus;)yield et(100),X=yield Ne(x.appConfig);const pe=X.authToken;return 0===pe.requestStatus?Me(x,V):pe})).apply(this,arguments)}function Ne(x){return Yt(x,V=>{if(!$t(V))throw Fe.create("not-registered");return function(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function nt(x,V){return ut.apply(this,arguments)}function ut(){return(ut=(0,H.Z)(function*(x,V){try{const X=yield $r(x,V),pe=Object.assign(Object.assign({},V),{authToken:X});return yield It(x.appConfig,pe),X}catch(X){if(!ae(X)||401!==X.customData.serverCode&&404!==X.customData.serverCode){const pe=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield It(x.appConfig,pe)}else yield Qn(x.appConfig);throw X}})).apply(this,arguments)}function $t(x){return void 0!==x&&2===x.registrationStatus}function En(x){return 2===x.requestStatus&&!function(x){const V=Date.now();return V<x.creationTime||x.creationTime+x.expiresIn<V+36e5}(x)}function Jn(x){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:V})}function yr(){return(yr=(0,H.Z)(function*(x){const V=x,{installationEntry:X,registrationPromise:pe}=yield Cn(V.appConfig);return pe?pe.catch(console.error):Me(V).catch(console.error),X.fid})).apply(this,arguments)}function vr(){return(vr=(0,H.Z)(function*(x,V=!1){const X=x;return yield fr(X.appConfig),(yield Me(X,V)).token})).apply(this,arguments)}function fr(x){return _n.apply(this,arguments)}function _n(){return(_n=(0,H.Z)(function*(x){const{registrationPromise:V}=yield Cn(x);V&&(yield V)})).apply(this,arguments)}function Vn(x){return Fe.create("missing-app-config-values",{valueName:x})}const pr="installations";(0,ge._registerComponent)(new $.wA(pr,x=>{const V=x.getProvider("app").getImmediate();return{app:V,appConfig:function(x){if(!x||!x.options)throw Vn("App Configuration");if(!x.name)throw Vn("App Name");const V=["projectId","apiKey","appId"];for(const X of V)if(!x.options[X])throw Vn(X);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(V),platformLoggerProvider:(0,ge._getProvider)(V,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ge._registerComponent)(new $.wA("installations-internal",x=>{const V=x.getProvider("app").getImmediate(),X=(0,ge._getProvider)(V,pr).getImmediate();return{getId:()=>function(x){return yr.apply(this,arguments)}(X),getToken:Je=>function(x){return vr.apply(this,arguments)}(X,Je)}},"PRIVATE")),(0,ge.registerVersion)("@firebase/installations",G);const _i="@firebase/remote-config",ur=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Kr{constructor(V,X,pe,Je){this.client=V,this.storage=X,this.storageCache=pe,this.logger=Je}isCachedDataFresh(V,X){if(!X)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-X,Je=pe<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${Je}.`),Je}fetch(V){var X=this;return(0,H.Z)(function*(){const[pe,Je]=yield Promise.all([X.storage.getLastSuccessfulFetchTimestampMillis(),X.storage.getLastSuccessfulFetchResponse()]);if(Je&&X.isCachedDataFresh(V.cacheMaxAgeMillis,pe))return Je;V.eTag=Je&&Je.eTag;const yt=yield X.client.fetch(V),kt=[X.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===yt.status&&kt.push(X.storage.setLastSuccessfulFetchResponse(yt)),yield Promise.all(kt),yt})()}}function Te(x=navigator){return x.languages&&x.languages[0]||x.language}class De{constructor(V,X,pe,Je,yt,kt){this.firebaseInstallations=V,this.sdkVersion=X,this.namespace=pe,this.projectId=Je,this.apiKey=yt,this.appId=kt}fetch(V){var X=this;return(0,H.Z)(function*(){const[pe,Je]=yield Promise.all([X.firebaseInstallations.getId(),X.firebaseInstallations.getToken()]),kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${X.projectId}/namespaces/${X.namespace}:fetch?key=${X.apiKey}`,un={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},cn={sdk_version:X.sdkVersion,app_instance_id:pe,app_instance_id_token:Je,app_id:X.appId,language_code:Te()},ar={method:"POST",headers:un,body:JSON.stringify(cn)},Lr=fetch(kt,ar),Wi=new Promise((wo,ua)=>{V.signal.addEventListener(()=>{const os=new Error("The operation was aborted.");os.name="AbortError",ua(os)})});let ms;try{yield Promise.race([Lr,Wi]),ms=yield Lr}catch(wo){let ua="fetch-client-network";throw"AbortError"===wo.name&&(ua="fetch-timeout"),ur.create(ua,{originalErrorMessage:wo.message})}let Sr=ms.status;const Ma=ms.headers.get("ETag")||void 0;let aa,Ra;if(200===ms.status){let wo;try{wo=yield ms.json()}catch(ua){throw ur.create("fetch-client-parse",{originalErrorMessage:ua.message})}aa=wo.entries,Ra=wo.state}if("INSTANCE_STATE_UNSPECIFIED"===Ra?Sr=500:"NO_CHANGE"===Ra?Sr=304:("NO_TEMPLATE"===Ra||"EMPTY_CONFIG"===Ra)&&(aa={}),304!==Sr&&200!==Sr)throw ur.create("fetch-status",{httpStatus:Sr});return{status:Sr,eTag:Ma,config:aa}})()}}class pt{constructor(V,X){this.client=V,this.storage=X}fetch(V){var X=this;return(0,H.Z)(function*(){const pe=(yield X.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return X.attemptFetch(V,pe)})()}attemptFetch(V,{throttleEndTimeMillis:X,backoffCount:pe}){var Je=this;return(0,H.Z)(function*(){yield function(x,V){return new Promise((X,pe)=>{const Je=Math.max(V-Date.now(),0),yt=setTimeout(X,Je);x.addEventListener(()=>{clearTimeout(yt),pe(ur.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,X);try{const yt=yield Je.client.fetch(V);return yield Je.storage.deleteThrottleMetadata(),yt}catch(yt){if(!function(x){if(!(x instanceof ee.ZR&&x.customData))return!1;const V=Number(x.customData.httpStatus);return 429===V||500===V||503===V||504===V}(yt))throw yt;const kt={throttleEndTimeMillis:Date.now()+(0,ee.$s)(pe),backoffCount:pe+1};return yield Je.storage.setThrottleMetadata(kt),Je.attemptFetch(V,kt)}})()}}class Cr{constructor(V,X,pe,Je,yt){this.app=V,this._client=X,this._storageCache=pe,this._storage=Je,this._logger=yt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lr(x,V){const X=x.target.error||void 0;return ur.create(V,{originalErrorMessage:X&&X.message})}const Xr="app_namespace_store";class xo{constructor(V,X,pe,Je=function(){return new Promise((x,V)=>{try{const X=indexedDB.open("firebase_remote_config",1);X.onerror=pe=>{V(lr(pe,"storage-open"))},X.onsuccess=pe=>{x(pe.target.result)},X.onupgradeneeded=pe=>{const Je=pe.target.result;switch(pe.oldVersion){case 0:Je.createObjectStore(Xr,{keyPath:"compositeKey"})}}}catch(X){V(ur.create("storage-open",{originalErrorMessage:X}))}})}()){this.appId=V,this.appName=X,this.namespace=pe,this.openDbPromise=Je}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var X=this;return(0,H.Z)(function*(){const pe=yield X.openDbPromise;return new Promise((Je,yt)=>{const un=pe.transaction([Xr],"readonly").objectStore(Xr),cn=X.createCompositeKey(V);try{const ar=un.get(cn);ar.onerror=Lr=>{yt(lr(Lr,"storage-get"))},ar.onsuccess=Lr=>{const Wi=Lr.target.result;Je(Wi?Wi.value:void 0)}}catch(ar){yt(ur.create("storage-get",{originalErrorMessage:ar&&ar.message}))}})})()}set(V,X){var pe=this;return(0,H.Z)(function*(){const Je=yield pe.openDbPromise;return new Promise((yt,kt)=>{const cn=Je.transaction([Xr],"readwrite").objectStore(Xr),ar=pe.createCompositeKey(V);try{const Lr=cn.put({compositeKey:ar,value:X});Lr.onerror=Wi=>{kt(lr(Wi,"storage-set"))},Lr.onsuccess=()=>{yt()}}catch(Lr){kt(ur.create("storage-set",{originalErrorMessage:Lr&&Lr.message}))}})})()}delete(V){var X=this;return(0,H.Z)(function*(){const pe=yield X.openDbPromise;return new Promise((Je,yt)=>{const un=pe.transaction([Xr],"readwrite").objectStore(Xr),cn=X.createCompositeKey(V);try{const ar=un.delete(cn);ar.onerror=Lr=>{yt(lr(Lr,"storage-delete"))},ar.onsuccess=()=>{Je()}}catch(ar){yt(ur.create("storage-delete",{originalErrorMessage:ar&&ar.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class vi{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,H.Z)(function*(){const X=V.storage.getLastFetchStatus(),pe=V.storage.getLastSuccessfulFetchTimestampMillis(),Je=V.storage.getActiveConfig(),yt=yield X;yt&&(V.lastFetchStatus=yt);const kt=yield pe;kt&&(V.lastSuccessfulFetchTimestampMillis=kt);const un=yield Je;un&&(V.activeConfig=un)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function oo(){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,H.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(x){return!1}})).apply(this,arguments)}(0,ge._registerComponent)(new $.wA("remote-config",function(V,{instanceIdentifier:X}){const pe=V.getProvider("app").getImmediate(),Je=V.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ur.create("registration-window");if(!(0,ee.hl)())throw ur.create("indexed-db-unavailable");const{projectId:yt,apiKey:kt,appId:un}=pe.options;if(!yt)throw ur.create("registration-project-id");if(!kt)throw ur.create("registration-api-key");if(!un)throw ur.create("registration-app-id");const cn=new xo(un,pe.name,X=X||"firebase"),ar=new vi(cn),Lr=new ne.Yd(_i);Lr.logLevel=ne.in.ERROR;const Wi=new De(Je,ge.SDK_VERSION,X,yt,kt,un),ms=new pt(Wi,cn),Sr=new Kr(ms,cn,ar,Lr),Ma=new Cr(pe,Sr,ar,cn,Lr);return function(x){const V=(0,ee.m9)(x);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(Ma),Ma},"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(_i,"0.3.0");const Si="/firebase-messaging-sw.js",ws="/firebase-cloud-messaging-push-scope",ji="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ni="google.c.a.c_id",ao="google.c.a.c_l",uo="google.c.a.ts",$i="google.c.a.e";var Ei=(()=>{return(x=Ei||(Ei={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",Ei;var x})();function Tr(x){const V=new Uint8Array(x);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Os(x){const X=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(X),Je=new Uint8Array(pe.length);for(let yt=0;yt<pe.length;++yt)Je[yt]=pe.charCodeAt(yt);return Je}const ui="fcm_token_details_db",co="fcm_token_object_Store";function Fi(x){return ds.apply(this,arguments)}function ds(){return(ds=(0,H.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(yt=>yt.name).includes(ui))return null;let V=null;return(yield(0,Y.openDb)(ui,5,function(){var pe=(0,H.Z)(function*(Je){var yt;if(Je.oldVersion<2||!Je.objectStoreNames.contains(co))return;const kt=Je.transaction.objectStore(co),un=yield kt.index("fcmSenderId").get(x);if(yield kt.clear(),un)if(2===Je.oldVersion){const cn=un;if(!cn.auth||!cn.p256dh||!cn.endpoint)return;V={token:cn.fcmToken,createTime:null!==(yt=cn.createTime)&&void 0!==yt?yt:Date.now(),subscriptionOptions:{auth:cn.auth,p256dh:cn.p256dh,endpoint:cn.endpoint,swScope:cn.swScope,vapidKey:"string"==typeof cn.vapidKey?cn.vapidKey:Tr(cn.vapidKey)}}}else if(3===Je.oldVersion){const cn=un;V={token:cn.fcmToken,createTime:cn.createTime,subscriptionOptions:{auth:Tr(cn.auth),p256dh:Tr(cn.p256dh),endpoint:cn.endpoint,swScope:cn.swScope,vapidKey:Tr(cn.vapidKey)}}}else if(4===Je.oldVersion){const cn=un;V={token:cn.fcmToken,createTime:cn.createTime,subscriptionOptions:{auth:Tr(cn.auth),p256dh:Tr(cn.p256dh),endpoint:cn.endpoint,swScope:cn.swScope,vapidKey:Tr(cn.vapidKey)}}}});return function(Je){return pe.apply(this,arguments)}}())).close(),yield(0,Y.deleteDb)(ui),yield(0,Y.deleteDb)("fcm_vapid_details_db"),yield(0,Y.deleteDb)("undefined"),ci(V)?V:null})).apply(this,arguments)}function ci(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:V}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const rs="firebase-messaging-store";let Mo=null;function P(){return Mo||(Mo=(0,Y.openDb)("firebase-messaging-database",1,x=>{switch(x.oldVersion){case 0:x.createObjectStore(rs)}})),Mo}function Z(x){return L.apply(this,arguments)}function L(){return(L=(0,H.Z)(function*(x){const V=F(x),pe=yield(yield P()).transaction(rs).objectStore(rs).get(V);if(pe)return pe;{const Je=yield Fi(x.appConfig.senderId);if(Je)return yield te(x,Je),Je}})).apply(this,arguments)}function te(x,V){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,H.Z)(function*(x,V){const X=F(x),Je=(yield P()).transaction(rs,"readwrite");return yield Je.objectStore(rs).put(V,X),yield Je.complete,V})).apply(this,arguments)}function ht(x){return bt.apply(this,arguments)}function bt(){return(bt=(0,H.Z)(function*(x){const V=F(x),pe=(yield P()).transaction(rs,"readwrite");yield pe.objectStore(rs).delete(V),yield pe.complete})).apply(this,arguments)}function F({appConfig:x}){return x.appId}const A=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Q(x,V){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,H.Z)(function*(x,V){const X=yield li(x),pe=yn(V),Je={method:"POST",headers:X,body:JSON.stringify(pe)};let yt;try{yt=yield(yield fetch(Nr(x.appConfig),Je)).json()}catch(kt){throw A.create("token-subscribe-failed",{errorInfo:kt})}if(yt.error)throw A.create("token-subscribe-failed",{errorInfo:yt.error.message});if(!yt.token)throw A.create("token-subscribe-no-token");return yt.token})).apply(this,arguments)}function Bt(x,V){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,H.Z)(function*(x,V){const X=yield li(x),pe=yn(V.subscriptionOptions),Je={method:"PATCH",headers:X,body:JSON.stringify(pe)};let yt;try{yt=yield(yield fetch(`${Nr(x.appConfig)}/${V.token}`,Je)).json()}catch(kt){throw A.create("token-update-failed",{errorInfo:kt})}if(yt.error)throw A.create("token-update-failed",{errorInfo:yt.error.message});if(!yt.token)throw A.create("token-update-no-token");return yt.token})).apply(this,arguments)}function nr(x,V){return bi.apply(this,arguments)}function bi(){return(bi=(0,H.Z)(function*(x,V){const pe={method:"DELETE",headers:yield li(x)};try{const yt=yield(yield fetch(`${Nr(x.appConfig)}/${V}`,pe)).json();if(yt.error)throw A.create("token-unsubscribe-failed",{errorInfo:yt.error.message})}catch(Je){throw A.create("token-unsubscribe-failed",{errorInfo:Je})}})).apply(this,arguments)}function Nr({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function li(x){return qr.apply(this,arguments)}function qr(){return(qr=(0,H.Z)(function*({appConfig:x,installations:V}){const X=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${X}`})})).apply(this,arguments)}function yn({p256dh:x,auth:V,endpoint:X,vapidKey:pe}){const Je={web:{endpoint:X,auth:V,p256dh:x}};return pe!==ji&&(Je.web.applicationPubKey=pe),Je}const lo=6048e5;function Ea(x){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,H.Z)(function*(x){const V=yield Qo(x.swRegistration,x.vapidKey),X={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:V.endpoint,auth:Tr(V.getKey("auth")),p256dh:Tr(V.getKey("p256dh"))},pe=yield Z(x.firebaseDependencies);if(pe){if(ho(pe.subscriptionOptions,X))return Date.now()>=pe.createTime+lo?Hu(x,{token:pe.token,createTime:Date.now(),subscriptionOptions:X}):pe.token;try{yield nr(x.firebaseDependencies,pe.token)}catch(Je){console.warn(Je)}return Nt(x.firebaseDependencies,X)}return Nt(x.firebaseDependencies,X)})).apply(this,arguments)}function Bs(x){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,H.Z)(function*(x){const V=yield Z(x.firebaseDependencies);V&&(yield nr(x.firebaseDependencies,V.token),yield ht(x.firebaseDependencies));const X=yield x.swRegistration.pushManager.getSubscription();return!X||X.unsubscribe()})).apply(this,arguments)}function Hu(x,V){return js.apply(this,arguments)}function js(){return(js=(0,H.Z)(function*(x,V){try{const X=yield Bt(x.firebaseDependencies,V),pe=Object.assign(Object.assign({},V),{token:X,createTime:Date.now()});return yield te(x.firebaseDependencies,pe),X}catch(X){throw yield Bs(x),X}})).apply(this,arguments)}function Nt(x,V){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,H.Z)(function*(x,V){const pe={token:yield Q(x,V),createTime:Date.now(),subscriptionOptions:V};return yield te(x,pe),pe.token})).apply(this,arguments)}function Qo(x,V){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,H.Z)(function*(x,V){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Os(V)})})).apply(this,arguments)}function ho(x,V){return V.vapidKey===x.vapidKey&&V.endpoint===x.endpoint&&V.auth===x.auth&&V.p256dh===x.p256dh}function $s(x){const V={from:x.from,collapseKey:x.collapse_key,messageId:x.fcm_message_id};return function(x,V){if(!V.notification)return;x.notification={};const X=V.notification.title;X&&(x.notification.title=X);const pe=V.notification.body;pe&&(x.notification.body=pe);const Je=V.notification.image;Je&&(x.notification.image=Je)}(V,x),function(x,V){!V.data||(x.data=V.data)}(V,x),function(x,V){if(!V.fcmOptions)return;x.fcmOptions={};const X=V.fcmOptions.link;X&&(x.fcmOptions.link=X);const pe=V.fcmOptions.analytics_label;pe&&(x.fcmOptions.analyticsLabel=pe)}(V,x),V}function pl(x){return"object"==typeof x&&!!x&&Ni in x}function Gu(x,V){const X=[];for(let pe=0;pe<x.length;pe++)X.push(x.charAt(pe)),pe<V.length&&X.push(V.charAt(pe));return X.join("")}function xs(x){return A.create("missing-app-config-values",{valueName:x})}Gu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Gu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ei{constructor(V,X,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Je=function(x){if(!x||!x.options)throw xs("App Configuration Object");if(!x.name)throw xs("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:X}=x;for(const pe of V)if(!X[pe])throw xs(pe);return{appName:x.name,projectId:X.projectId,apiKey:X.apiKey,appId:X.appId,senderId:X.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:Je,installations:X,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function is(x){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,H.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(Si,{scope:ws}),x.swRegistration.update().catch(()=>{})}catch(V){throw A.create("failed-service-worker-registration",{browserErrorMessage:V.message})}})).apply(this,arguments)}function Ms(x,V){return wi.apply(this,arguments)}function wi(){return(wi=(0,H.Z)(function*(x,V){if(!V&&!x.swRegistration&&(yield is(x)),V||!x.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw A.create("invalid-sw-registration");x.swRegistration=V}})).apply(this,arguments)}function Dc(x,V){return kr.apply(this,arguments)}function kr(){return(kr=(0,H.Z)(function*(x,V){V?x.vapidKey=V:x.vapidKey||(x.vapidKey=ji)})).apply(this,arguments)}function wa(){return(wa=(0,H.Z)(function*(x,V){if(!navigator)throw A.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw A.create("permission-blocked");return yield Dc(x,null==V?void 0:V.vapidKey),yield Ms(x,null==V?void 0:V.serviceWorkerRegistration),Ea(x)})).apply(this,arguments)}function Eu(x,V,X){return fo.apply(this,arguments)}function fo(){return(fo=(0,H.Z)(function*(x,V,X){const pe=Tc(V);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:X[Ni],message_name:X[ao],message_time:X[uo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Tc(x){switch(x){case Ei.NOTIFICATION_CLICKED:return"notification_open";case Ei.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Jo(){return(Jo=(0,H.Z)(function*(x,V){const X=V.data;if(!X.isFirebaseMessaging)return;x.onMessageHandler&&X.messageType===Ei.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler($s(X)):x.onMessageHandler.next($s(X)));const pe=X.data;pl(pe)&&"1"===pe[$i]&&(yield Eu(x,X.messageType,pe))})).apply(this,arguments)}function hs(){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,H.Z)(function*(){return"undefined"!=typeof window&&(0,ee.hl)()&&(yield(0,ee.eu)())&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ge._registerComponent)(new $.wA("messaging",x=>{const V=new ei(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",X=>function(x,V){return Jo.apply(this,arguments)}(V,X)),V},"PUBLIC")),(0,ge._registerComponent)(new $.wA("messaging-internal",x=>{const V=x.getProvider("messaging").getImmediate();return{getToken:pe=>function(x,V){return wa.apply(this,arguments)}(V,pe)}},"PRIVATE"));const ea="analytics",ta="firebase_id",yo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_o="https://www.googletagmanager.com/gtag/js",Gr=new ne.Yd("@firebase/analytics");function Fo(x){return Promise.all(x.map(V=>V.catch(X=>X)))}function Ka(x,V){const X=document.createElement("script");X.src=`${_o}?l=${x}&id=${V}`,X.async=!0,document.head.appendChild(X)}function qa(x,V,X,pe,Je,yt){return ki.apply(this,arguments)}function ki(){return(ki=(0,H.Z)(function*(x,V,X,pe,Je,yt){const kt=pe[Je];try{if(kt)yield V[kt];else{const cn=(yield Fo(X)).find(ar=>ar.measurementId===Je);cn&&(yield V[cn.appId])}}catch(un){Gr.error(un)}x("config",Je,yt)})).apply(this,arguments)}function Yi(x,V,X,pe,Je){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,H.Z)(function*(x,V,X,pe,Je){try{let yt=[];if(Je&&Je.send_to){let kt=Je.send_to;Array.isArray(kt)||(kt=[kt]);const un=yield Fo(X);for(const cn of kt){const ar=un.find(Wi=>Wi.measurementId===cn),Lr=ar&&V[ar.appId];if(!Lr){yt=[];break}yt.push(Lr)}}0===yt.length&&(yt=Object.values(V)),yield Promise.all(yt),x("event",pe,Je||{})}catch(yt){Gr.error(yt)}})).apply(this,arguments)}function Za(){const x=window.document.getElementsByTagName("script");for(const V of Object.values(x))if(V.src&&V.src.includes(_o))return V;return null}const Ur=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ya=new class{constructor(V={},X=1e3){this.throttleMetadata=V,this.intervalMillis=X}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,X){this.throttleMetadata[V]=X}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function Ta(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function zs(x){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,H.Z)(function*(x){var V;const{appId:X,apiKey:pe}=x,Je={method:"GET",headers:Ta(pe)},yt=yo.replace("{app-id}",X),kt=yield fetch(yt,Je);if(200!==kt.status&&304!==kt.status){let un="";try{const cn=yield kt.json();(null===(V=cn.error)||void 0===V?void 0:V.message)&&(un=cn.error.message)}catch(cn){}throw Ur.create("config-fetch-failed",{httpStatus:kt.status,responseMessage:un})}return kt.json()})).apply(this,arguments)}function Zr(x){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,H.Z)(function*(x,V=Ya,X){const{appId:pe,apiKey:Je,measurementId:yt}=x.options;if(!pe)throw Ur.create("no-app-id");if(!Je){if(yt)return{measurementId:yt,appId:pe};throw Ur.create("no-api-key")}const kt=V.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},un=new Sa;return setTimeout((0,H.Z)(function*(){un.abort()}),void 0!==X?X:6e4),Qa({appId:pe,apiKey:Je,measurementId:yt},kt,un,V)})).apply(this,arguments)}function Qa(x,V,X){return Is.apply(this,arguments)}function Is(){return(Is=(0,H.Z)(function*(x,{throttleEndTimeMillis:V,backoffCount:X},pe,Je=Ya){const{appId:yt,measurementId:kt}=x;try{yield Aa(pe,V)}catch(un){if(kt)return Gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kt} provided in the "measurementId" field in the local Firebase config. [${un.message}]`),{appId:yt,measurementId:kt};throw un}try{const un=yield zs(x);return Je.deleteThrottleMetadata(yt),un}catch(un){if(!ti(un)){if(Je.deleteThrottleMetadata(yt),kt)return Gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kt} provided in the "measurementId" field in the local Firebase config. [${un.message}]`),{appId:yt,measurementId:kt};throw un}const cn=503===Number(un.customData.httpStatus)?(0,ee.$s)(X,Je.intervalMillis,30):(0,ee.$s)(X,Je.intervalMillis),ar={throttleEndTimeMillis:Date.now()+cn,backoffCount:X+1};return Je.setThrottleMetadata(yt,ar),Gr.debug(`Calling attemptFetch again in ${cn} millis`),Qa(x,ar,pe,Je)}})).apply(this,arguments)}function Aa(x,V){return new Promise((X,pe)=>{const Je=Math.max(V-Date.now(),0),yt=setTimeout(X,Je);x.addEventListener(()=>{clearTimeout(yt),pe(Ur.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function ti(x){if(!(x instanceof ee.ZR&&x.customData))return!1;const V=Number(x.customData.httpStatus);return 429===V||500===V||503===V||504===V}class Sa{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}function Ps(){return ko.apply(this,arguments)}function ko(){return(ko=(0,H.Z)(function*(){if(!(0,ee.hl)())return Gr.warn(Ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(x){return Gr.warn(Ur.create("indexeddb-unavailable",{errorInfo:x}).message),!1}return!0})).apply(this,arguments)}function Ht(){return(Ht=(0,H.Z)(function*(x,V,X,pe,Je,yt,kt){var un;const cn=Zr(x);cn.then(Sr=>{X[Sr.measurementId]=Sr.appId,x.options.measurementId&&Sr.measurementId!==x.options.measurementId&&Gr.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Sr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Sr=>Gr.error(Sr)),V.push(cn);const ar=Ps().then(Sr=>{if(Sr)return pe.getId()}),[Lr,Wi]=yield Promise.all([cn,ar]);Za()||Ka(yt,Lr.measurementId),Je("js",new Date);const ms=null!==(un=null==kt?void 0:kt.config)&&void 0!==un?un:{};return ms.origin="firebase",ms.update=!0,null!=Wi&&(ms[ta]=Wi),Je("config",Lr.measurementId,ms),Lr.measurementId})).apply(this,arguments)}class _r{constructor(V){this.app=V}_delete(){return delete ni[this.app.options.appId],Promise.resolve()}}let ni={},ia=[];const fn={};let Jt,C,Dn="dataLayer",b=!1;function U(x,V,X){!function(){const x=[];if((0,ee.ru)()&&x.push("This is a browser extension environment."),(0,ee.zI)()||x.push("Cookies are not available."),x.length>0){const V=x.map((pe,Je)=>`(${Je+1}) ${pe}`).join(" "),X=Ur.create("invalid-analytics-context",{errorInfo:V});Gr.warn(X.message)}}();const pe=x.options.appId;if(!pe)throw Ur.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Ur.create("no-api-key");Gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ni[pe])throw Ur.create("already-exists",{id:pe});if(!b){!function(x){let V=[];Array.isArray(window[x])?V=window[x]:window[x]=V}(Dn);const{wrappedGtag:yt,gtagCore:kt}=function(x,V,X,pe,Je){let yt=function(...kt){window[pe].push(arguments)};return window[Je]&&"function"==typeof window[Je]&&(yt=window[Je]),window[Je]=function(x,V,X,pe){function yt(){return(yt=(0,H.Z)(function*(kt,un,cn){try{"event"===kt?yield Yi(x,V,X,un,cn):"config"===kt?yield qa(x,V,X,pe,un,cn):x("set",un)}catch(ar){Gr.error(ar)}})).apply(this,arguments)}return function(kt,un,cn){return yt.apply(this,arguments)}}(yt,x,V,X),{gtagCore:yt,wrappedGtag:window[Je]}}(ni,ia,fn,Dn,"gtag");C=yt,Jt=kt,b=!0}return ni[pe]=function(x,V,X,pe,Je,yt,kt){return Ht.apply(this,arguments)}(x,ia,fn,V,Jt,Dn,X),new _r(x)}function _e(){return(_e=(0,H.Z)(function*(x,V,X,pe,Je){if(Je&&Je.global)x("event",X,pe);else{const yt=yield V;x("event",X,Object.assign(Object.assign({},pe),{send_to:yt}))}})).apply(this,arguments)}function Ns(){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,H.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(x){return!1}})).apply(this,arguments)}(0,ge._registerComponent)(new $.wA(ea,(V,{options:X})=>U(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),X),"PUBLIC")),(0,ge._registerComponent)(new $.wA("analytics-internal",function(V){try{const X=V.getProvider(ea).getImmediate();return{logEvent:(pe,Je,yt)=>function(x,V,X,pe){x=(0,ee.m9)(x),function(x,V,X,pe,Je){return _e.apply(this,arguments)}(C,ni[x.app.options.appId],V,X,pe).catch(Je=>Gr.error(Je))}(X,pe,Je,yt)}}catch(X){throw Ur.create("interop-component-reg-failed",{reason:X})}},"PRIVATE")),(0,ge.registerVersion)("@firebase/analytics","0.7.1");var ml=S(7771),Oa=S(3637),hi=S(3342),wu=S(3101),zu=S(9746);const ed=new y.GfV("7.1.0"),sa="__angularfire_symbol__analyticsIsSupported",nu="__angularfire_symbol__remoteConfigIsSupported",oa="__angularfire_symbol__messagingIsSupported";function Oc(x,V,X){if(V){if(1===V.length)return V[0];const yt=V.filter(kt=>kt.app===X);if(1===yt.length)return yt[0]}return X.container.getProvider(x).getImmediate({optional:!0})}globalThis[sa]||(globalThis[sa]=Ns().then(x=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=x)),globalThis[oa]||(globalThis[oa]=hs().then(x=>globalThis.__angularfire_symbol__messagingIsSupportedValue=x)),globalThis[nu]||(globalThis[nu]=oo().then(x=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=x));const gs=(x,V)=>{const X=V?[V]:(0,R.C6)(),pe=[];return X.forEach(Je=>{Je.container.getProvider(x).instances.forEach(kt=>{pe.includes(kt)||pe.push(kt)})}),pe};function Bi(){}class Lo{constructor(V,X=ml.N){this.zone=V,this.delegate=X}now(){return this.delegate.now()}schedule(V,X,pe){const Je=this.zone;return this.delegate.schedule(function(kt){Je.runGuarded(()=>{V.apply(this,[kt])})},X,pe)}}class bo{constructor(V){this.zone=V,this.task=null}call(V,X){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bi,{},Bi,Bi)),X.pipe((0,hi.b)({next:pe,complete:pe,error:pe})).subscribe(V).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vo=(()=>{class x{constructor(X){this.ngZone=X,this.outsideAngular=X.runOutsideAngular(()=>new Lo(Zone.current)),this.insideAngular=X.run(()=>new Lo(Zone.current,Oa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(X){return new(X||x)(y.LFG(y.R0b))},x.\u0275prov=y.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Uo(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Ar(x){return Uo(),function(x){return function(X){return(X=X.lift(new bo(x.ngZone))).pipe((0,wu.R)(x.outsideAngular),(0,zu.QV)(x.insideAngular))}}(Uo())(x)}},3738:(Pe,de,S)=>{"use strict";S.d(de,{Fj:()=>Ce,NI:()=>Nn,u:()=>bs,cw:()=>br,sg:()=>Ke,u5:()=>L,JU:()=>z,JJ:()=>kn,JL:()=>Yt,On:()=>Rt,wV:()=>ze,_:()=>Fn,UX:()=>te,Q7:()=>Tr,_Y:()=>Ut});var y=S(4788),R=S(2057),H=S(7574),ge=S(9796),ee=S(8002),$=S(1555),ne=S(5372);function q(F,O){return new H.y(A=>{const Q=F.length;if(0===Q)return void A.complete();const Ze=new Array(Q);let Bt=0,Sn=0;for(let nr=0;nr<Q;nr++){const bi=(0,ne.D)(F[nr]);let Nr=!1;A.add(bi.subscribe({next:li=>{Nr||(Nr=!0,Sn++),Ze[nr]=li},error:li=>A.error(li),complete:()=>{Bt++,(Bt===Q||!Nr)&&(Sn===Q&&A.next(O?O.reduce((li,qr,yn)=>(li[qr]=Ze[yn],li),{}):Ze),A.complete())}}))}})}let G=(()=>{class F{constructor(A,Q){this._renderer=A,this._elementRef=Q,this.onChange=Ze=>{},this.onTouched=()=>{}}setProperty(A,Q){this._renderer.setProperty(this._elementRef.nativeElement,A,Q)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return F.\u0275fac=function(A){return new(A||F)(y.Y36(y.Qsj),y.Y36(y.SBq))},F.\u0275dir=y.lG2({type:F}),F})(),K=(()=>{class F extends G{}return F.\u0275fac=function(){let O;return function(Q){return(O||(O=y.n5z(F)))(Q||F)}}(),F.\u0275dir=y.lG2({type:F,features:[y.qOj]}),F})();const z=new y.OlP("NgValueAccessor"),Le={provide:z,useExisting:(0,y.Gpc)(()=>Ce),multi:!0},Ue=new y.OlP("CompositionEventMode");let Ce=(()=>{class F extends G{constructor(A,Q,Ze){super(A,Q),this._compositionMode=Ze,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const F=(0,R.q)()?(0,R.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(A){this.setProperty("value",null==A?"":A)}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return F.\u0275fac=function(A){return new(A||F)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Ue,8))},F.\u0275dir=y.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,Q){1&A&&y.NdJ("input",function(Bt){return Q._handleInput(Bt.target.value)})("blur",function(){return Q.onTouched()})("compositionstart",function(){return Q._compositionStart()})("compositionend",function(Bt){return Q._compositionEnd(Bt.target.value)})},features:[y._Bn([Le]),y.qOj]}),F})();const Ye=new y.OlP("NgValidators"),Qe=new y.OlP("NgAsyncValidators");function gt(F){return null!=F}function Vt(F){const O=(0,y.QGY)(F)?(0,ne.D)(F):F;return(0,y.CqO)(O),O}function mt(F){let O={};return F.forEach(A=>{O=null!=A?Object.assign(Object.assign({},O),A):O}),0===Object.keys(O).length?null:O}function Tt(F,O){return O.map(A=>A(F))}function tn(F){return F.map(O=>function(F){return!F.validate}(O)?O:A=>O.validate(A))}function Gt(F){return null!=F?function(F){if(!F)return null;const O=F.filter(gt);return 0==O.length?null:function(A){return mt(Tt(A,O))}}(tn(F)):null}function hn(F){return null!=F?function(F){if(!F)return null;const O=F.filter(gt);return 0==O.length?null:function(A){return function(...F){if(1===F.length){const O=F[0];if((0,ge.k)(O))return q(O,null);if((0,$.K)(O)&&Object.getPrototypeOf(O)===Object.prototype){const A=Object.keys(O);return q(A.map(Q=>O[Q]),A)}}if("function"==typeof F[F.length-1]){const O=F.pop();return q(F=1===F.length&&(0,ge.k)(F[0])?F[0]:F,null).pipe((0,ee.U)(A=>O(...A)))}return q(F,null)}(Tt(A,O).map(Vt)).pipe((0,ee.U)(mt))}}(tn(F)):null}function zt(F,O){return null===F?[O]:Array.isArray(F)?[...F,O]:[F,O]}function Be(F){return F._rawValidators}function je(F){return F._rawAsyncValidators}function ve(F){return F?Array.isArray(F)?F:[F]:[]}function Re(F,O){return Array.isArray(F)?F.includes(O):F===O}function ft(F,O){const A=ve(O);return ve(F).forEach(Ze=>{Re(A,Ze)||A.push(Ze)}),A}function wt(F,O){return ve(O).filter(A=>!Re(F,A))}let xt=(()=>{class F{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(A){this._rawValidators=A||[],this._composedValidatorFn=Gt(this._rawValidators)}_setAsyncValidators(A){this._rawAsyncValidators=A||[],this._composedAsyncValidatorFn=hn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(A){this._onDestroyCallbacks.push(A)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(A=>A()),this._onDestroyCallbacks=[]}reset(A){this.control&&this.control.reset(A)}hasError(A,Q){return!!this.control&&this.control.hasError(A,Q)}getError(A,Q){return this.control?this.control.getError(A,Q):null}}return F.\u0275fac=function(A){return new(A||F)},F.\u0275dir=y.lG2({type:F}),F})(),Wt=(()=>{class F extends xt{get formDirective(){return null}get path(){return null}}return F.\u0275fac=function(){let O;return function(Q){return(O||(O=y.n5z(F)))(Q||F)}}(),F.\u0275dir=y.lG2({type:F,features:[y.qOj]}),F})();class ln extends xt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class It{constructor(O){this._cd=O}is(O){var A,Q,Ze;return"submitted"===O?!!(null===(A=this._cd)||void 0===A?void 0:A.submitted):!!(null===(Ze=null===(Q=this._cd)||void 0===Q?void 0:Q.control)||void 0===Ze?void 0:Ze[O])}}let kn=(()=>{class F extends It{constructor(A){super(A)}}return F.\u0275fac=function(A){return new(A||F)(y.Y36(ln,2))},F.\u0275dir=y.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,Q){2&A&&y.ekj("ng-untouched",Q.is("untouched"))("ng-touched",Q.is("touched"))("ng-pristine",Q.is("pristine"))("ng-dirty",Q.is("dirty"))("ng-valid",Q.is("valid"))("ng-invalid",Q.is("invalid"))("ng-pending",Q.is("pending"))},features:[y.qOj]}),F})(),Yt=(()=>{class F extends It{constructor(A){super(A)}}return F.\u0275fac=function(A){return new(A||F)(y.Y36(Wt,10))},F.\u0275dir=y.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,Q){2&A&&y.ekj("ng-untouched",Q.is("untouched"))("ng-touched",Q.is("touched"))("ng-pristine",Q.is("pristine"))("ng-dirty",Q.is("dirty"))("ng-valid",Q.is("valid"))("ng-invalid",Q.is("invalid"))("ng-pending",Q.is("pending"))("ng-submitted",Q.is("submitted"))},features:[y.qOj]}),F})();function $r(F,O){return[...O.path,F]}function xe(F,O){tt(F,O),O.valueAccessor.writeValue(F.value),function(F,O){O.valueAccessor.registerOnChange(A=>{F._pendingValue=A,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&ut(F,O)})}(F,O),function(F,O){const A=(Q,Ze)=>{O.valueAccessor.writeValue(Q),Ze&&O.viewToModelUpdate(Q)};F.registerOnChange(A),O._registerOnDestroy(()=>{F._unregisterOnChange(A)})}(F,O),function(F,O){O.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&ut(F,O),"submit"!==F.updateOn&&F.markAsTouched()})}(F,O),function(F,O){if(O.valueAccessor.setDisabledState){const A=Q=>{O.valueAccessor.setDisabledState(Q)};F.registerOnDisabledChange(A),O._registerOnDestroy(()=>{F._unregisterOnDisabledChange(A)})}}(F,O)}function me(F,O,A=!0){const Q=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(Q),O.valueAccessor.registerOnTouched(Q)),en(F,O),F&&(O._invokeOnDestroyCallbacks(),F._registerOnCollectionChange(()=>{}))}function Me(F,O){F.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(O)})}function tt(F,O){const A=Be(F);null!==O.validator?F.setValidators(zt(A,O.validator)):"function"==typeof A&&F.setValidators([A]);const Q=je(F);null!==O.asyncValidator?F.setAsyncValidators(zt(Q,O.asyncValidator)):"function"==typeof Q&&F.setAsyncValidators([Q]);const Ze=()=>F.updateValueAndValidity();Me(O._rawValidators,Ze),Me(O._rawAsyncValidators,Ze)}function en(F,O){let A=!1;if(null!==F){if(null!==O.validator){const Ze=Be(F);if(Array.isArray(Ze)&&Ze.length>0){const Bt=Ze.filter(Sn=>Sn!==O.validator);Bt.length!==Ze.length&&(A=!0,F.setValidators(Bt))}}if(null!==O.asyncValidator){const Ze=je(F);if(Array.isArray(Ze)&&Ze.length>0){const Bt=Ze.filter(Sn=>Sn!==O.asyncValidator);Bt.length!==Ze.length&&(A=!0,F.setAsyncValidators(Bt))}}}const Q=()=>{};return Me(O._rawValidators,Q),Me(O._rawAsyncValidators,Q),A}function ut(F,O){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function mr(F,O){if(!F.hasOwnProperty("model"))return!1;const A=F.model;return!!A.isFirstChange()||!Object.is(O,A.currentValue)}function vr(F,O){if(!O)return null;let A,Q,Ze;return Array.isArray(O),O.forEach(Bt=>{Bt.constructor===Ce?A=Bt:function(F){return Object.getPrototypeOf(F.constructor)===K}(Bt)?Q=Bt:Ze=Bt}),Ze||Q||A||null}function fr(F,O){const A=F.indexOf(O);A>-1&&F.splice(A,1)}const jn="VALID",Xn="INVALID",Gn="PENDING",Rr="DISABLED";function Er(F){return(pr(F)?F.validators:F)||null}function qt(F){return Array.isArray(F)?Gt(F):F||null}function bn(F,O){return(pr(O)?O.asyncValidators:F)||null}function Vn(F){return Array.isArray(F)?hn(F):F||null}function pr(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}class wn{constructor(O,A){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=A,this._composedValidatorFn=qt(this._rawValidators),this._composedAsyncValidatorFn=Vn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===jn}get invalid(){return this.status===Xn}get pending(){return this.status==Gn}get disabled(){return this.status===Rr}get enabled(){return this.status!==Rr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=qt(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=Vn(O)}addValidators(O){this.setValidators(ft(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(ft(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(wt(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(wt(O,this._rawAsyncValidators))}hasValidator(O){return Re(this._rawValidators,O)}hasAsyncValidator(O){return Re(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=Gn,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const A=this._parentMarkedDirty(O.onlySelf);this.status=Rr,this.errors=null,this._forEachChild(Q=>{Q.disable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:A})),this._onDisabledChange.forEach(Q=>Q(!0))}enable(O={}){const A=this._parentMarkedDirty(O.onlySelf);this.status=jn,this._forEachChild(Q=>{Q.enable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:A})),this._onDisabledChange.forEach(Q=>Q(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jn||this.status===Gn)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rr:jn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=Gn,this._hasOwnPendingAsyncValidator=!0;const A=Vt(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(Q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Q,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,A={}){this.errors=O,this._updateControlsErrors(!1!==A.emitEvent)}get(O){return function(F,O,A){if(null==O||(Array.isArray(O)||(O=O.split(".")),Array.isArray(O)&&0===O.length))return null;let Q=F;return O.forEach(Ze=>{Q=Q instanceof br?Q.controls.hasOwnProperty(Ze)?Q.controls[Ze]:null:Q instanceof Wn&&Q.at(Ze)||null}),Q}(this,O)}getError(O,A){const Q=A?this.get(A):this;return Q&&Q.errors?Q.errors[O]:null}hasError(O,A){return!!this.getError(O,A)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?Rr:this.errors?Xn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gn)?Gn:this._anyControlsHaveStatus(Xn)?Xn:jn}_anyControlsHaveStatus(O){return this._anyControls(A=>A.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_isBoxedValue(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){pr(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Nn extends wn{constructor(O=null,A,Q){super(Er(A),bn(Q,A)),this._onChange=[],this._applyFormState(O),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(O,A={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(Q=>Q(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(O,A={}){this.setValue(O,A)}reset(O=null,A={}){this._applyFormState(O),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){fr(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){fr(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){this._isBoxedValue(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}}class br extends wn{constructor(O,A,Q){super(Er(A),bn(Q,A)),this.controls=O,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,A){return this.controls[O]?this.controls[O]:(this.controls[O]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(O,A,Q={}){this.registerControl(O,A),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}removeControl(O,A={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(O,A,Q={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],A&&this.registerControl(O,A),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,A={}){this._checkAllValuesPresent(O),Object.keys(O).forEach(Q=>{this._throwIfControlMissing(Q),this.controls[Q].setValue(O[Q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(O,A={}){null!=O&&(Object.keys(O).forEach(Q=>{this.controls[Q]&&this.controls[Q].patchValue(O[Q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(O={},A={}){this._forEachChild((Q,Ze)=>{Q.reset(O[Ze],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(O,A,Q)=>(O[Q]=A instanceof Nn?A.value:A.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(A,Q)=>!!Q._syncPendingControls()||A);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_throwIfControlMissing(O){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[O])throw new Error(`Cannot find form control with name: ${O}.`)}_forEachChild(O){Object.keys(this.controls).forEach(A=>{const Q=this.controls[A];Q&&O(Q,A)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const A of Object.keys(this.controls)){const Q=this.controls[A];if(this.contains(A)&&O(Q))return!0}return!1}_reduceValue(){return this._reduceChildren({},(O,A,Q)=>((A.enabled||this.disabled)&&(O[Q]=A.value),O))}_reduceChildren(O,A){let Q=O;return this._forEachChild((Ze,Bt)=>{Q=A(Q,Ze,Bt)}),Q}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(O){this._forEachChild((A,Q)=>{if(void 0===O[Q])throw new Error(`Must supply a value for form control with name: '${Q}'.`)})}}class Wn extends wn{constructor(O,A,Q){super(Er(A),bn(Q,A)),this.controls=O,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[O]}push(O,A={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}insert(O,A,Q={}){this.controls.splice(O,0,A),this._registerControl(A),this.updateValueAndValidity({emitEvent:Q.emitEvent})}removeAt(O,A={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),this.updateValueAndValidity({emitEvent:A.emitEvent})}setControl(O,A,Q={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),A&&(this.controls.splice(O,0,A),this._registerControl(A)),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,A={}){this._checkAllValuesPresent(O),O.forEach((Q,Ze)=>{this._throwIfControlMissing(Ze),this.at(Ze).setValue(Q,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(O,A={}){null!=O&&(O.forEach((Q,Ze)=>{this.at(Ze)&&this.at(Ze).patchValue(Q,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(O=[],A={}){this._forEachChild((Q,Ze)=>{Q.reset(O[Ze],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this.controls.map(O=>O instanceof Nn?O.value:O.getRawValue())}clear(O={}){this.controls.length<1||(this._forEachChild(A=>A._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_syncPendingControls(){let O=this.controls.reduce((A,Q)=>!!Q._syncPendingControls()||A,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_throwIfControlMissing(O){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(O))throw new Error(`Cannot find form control at index ${O}`)}_forEachChild(O){this.controls.forEach((A,Q)=>{O(A,Q)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(A=>A.enabled&&O(A))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_checkAllValuesPresent(O){this._forEachChild((A,Q)=>{if(void 0===O[Q])throw new Error(`Must supply a value for form control at index: ${Q}.`)})}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}}const rt={provide:ln,useExisting:(0,y.Gpc)(()=>Rt)},ct=(()=>Promise.resolve(null))();let Rt=(()=>{class F extends ln{constructor(A,Q,Ze,Bt){super(),this.control=new Nn,this._registered=!1,this.update=new y.vpe,this._parent=A,this._setValidators(Q),this._setAsyncValidators(Ze),this.valueAccessor=vr(0,Bt)}ngOnChanges(A){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in A&&this._updateDisabled(A),mr(A,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?$r(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xe(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(A){ct.then(()=>{this.control.setValue(A,{emitViewToModelChange:!1})})}_updateDisabled(A){const Q=A.isDisabled.currentValue,Ze=""===Q||Q&&"false"!==Q;ct.then(()=>{Ze&&!this.control.disabled?this.control.disable():!Ze&&this.control.disabled&&this.control.enable()})}}return F.\u0275fac=function(A){return new(A||F)(y.Y36(Wt,9),y.Y36(Ye,10),y.Y36(Qe,10),y.Y36(z,10))},F.\u0275dir=y.lG2({type:F,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([rt]),y.qOj,y.TTD]}),F})(),Ut=(()=>{class F{}return F.\u0275fac=function(A){return new(A||F)},F.\u0275dir=y.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),F})();const Ve={provide:z,useExisting:(0,y.Gpc)(()=>ze),multi:!0};let ze=(()=>{class F extends K{writeValue(A){this.setProperty("value",null==A?"":A)}registerOnChange(A){this.onChange=Q=>{A(""==Q?null:parseFloat(Q))}}}return F.\u0275fac=function(){let O;return function(Q){return(O||(O=y.n5z(F)))(Q||F)}}(),F.\u0275dir=y.lG2({type:F,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(A,Q){1&A&&y.NdJ("input",function(Bt){return Q.onChange(Bt.target.value)})("blur",function(){return Q.onTouched()})},features:[y._Bn([Ve]),y.qOj]}),F})();const ot={provide:z,useExisting:(0,y.Gpc)(()=>Fn),multi:!0};let Pt=(()=>{class F{}return F.\u0275fac=function(A){return new(A||F)},F.\u0275mod=y.oAB({type:F}),F.\u0275inj=y.cJS({}),F})(),nn=(()=>{class F{constructor(){this._accessors=[]}add(A,Q){this._accessors.push([A,Q])}remove(A){for(let Q=this._accessors.length-1;Q>=0;--Q)if(this._accessors[Q][1]===A)return void this._accessors.splice(Q,1)}select(A){this._accessors.forEach(Q=>{this._isSameGroup(Q,A)&&Q[1]!==A&&Q[1].fireUncheck(A.value)})}_isSameGroup(A,Q){return!!A[0].control&&A[0]._parent===Q._control._parent&&A[1].name===Q.name}}return F.\u0275fac=function(A){return new(A||F)},F.\u0275prov=(0,y.Yz7)({factory:function(){return new F},token:F,providedIn:Pt}),F})(),Fn=(()=>{class F extends K{constructor(A,Q,Ze,Bt){super(A,Q),this._registry=Ze,this._injector=Bt,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(ln),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(A){this._state=A===this.value,this.setProperty("checked",this._state)}registerOnChange(A){this._fn=A,this.onChange=()=>{A(this.value),this._registry.select(this)}}fireUncheck(A){this.writeValue(A)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return F.\u0275fac=function(A){return new(A||F)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(nn),y.Y36(y.zs3))},F.\u0275dir=y.lG2({type:F,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(A,Q){1&A&&y.NdJ("change",function(){return Q.onChange()})("blur",function(){return Q.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[y._Bn([ot]),y.qOj]}),F})();const Kr=new y.OlP("NgModelWithFormControlWarning"),he={provide:Wt,useExisting:(0,y.Gpc)(()=>Ke)};let Ke=(()=>{class F extends Wt{constructor(A,Q){super(),this.validators=A,this.asyncValidators=Q,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(A),this._setAsyncValidators(Q)}ngOnChanges(A){this._checkFormPresent(),A.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(en(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(A){const Q=this.form.get(A.path);return xe(Q,A),Q.updateValueAndValidity({emitEvent:!1}),this.directives.push(A),Q}getControl(A){return this.form.get(A.path)}removeControl(A){me(A.control||null,A,!1),fr(this.directives,A)}addFormGroup(A){this._setUpFormContainer(A)}removeFormGroup(A){this._cleanUpFormContainer(A)}getFormGroup(A){return this.form.get(A.path)}addFormArray(A){this._setUpFormContainer(A)}removeFormArray(A){this._cleanUpFormContainer(A)}getFormArray(A){return this.form.get(A.path)}updateModel(A,Q){this.form.get(A.path).setValue(Q)}onSubmit(A){return this.submitted=!0,function(F,O){F._syncPendingControls(),O.forEach(A=>{const Q=A.control;"submit"===Q.updateOn&&Q._pendingChange&&(A.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(A),!1}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_updateDomValue(){this.directives.forEach(A=>{const Q=A.control,Ze=this.form.get(A.path);Q!==Ze&&(me(Q||null,A),Ze instanceof Nn&&(xe(Ze,A),A.control=Ze))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(A){const Q=this.form.get(A.path);(function(F,O){tt(F,O)})(Q,A),Q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(A){if(this.form){const Q=this.form.get(A.path);Q&&function(F,O){return en(F,O)}(Q,A)&&Q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tt(this.form,this),this._oldForm&&en(this._oldForm,this)}_checkFormPresent(){}}return F.\u0275fac=function(A){return new(A||F)(y.Y36(Ye,10),y.Y36(Qe,10))},F.\u0275dir=y.lG2({type:F,selectors:[["","formGroup",""]],hostBindings:function(A,Q){1&A&&y.NdJ("submit",function(Bt){return Q.onSubmit(Bt)})("reset",function(){return Q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([he]),y.qOj,y.TTD]}),F})();const Xr={provide:ln,useExisting:(0,y.Gpc)(()=>bs)};let bs=(()=>{class F extends ln{constructor(A,Q,Ze,Bt,Sn){super(),this._ngModelWarningConfig=Sn,this._added=!1,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=A,this._setValidators(Q),this._setAsyncValidators(Ze),this.valueAccessor=vr(0,Bt)}set isDisabled(A){}ngOnChanges(A){this._added||this._setUpControl(),mr(A,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}get path(){return $r(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return F.\u0275fac=function(A){return new(A||F)(y.Y36(Wt,13),y.Y36(Ye,10),y.Y36(Qe,10),y.Y36(z,10),y.Y36(Kr,8))},F.\u0275dir=y.lG2({type:F,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([Xr]),y.qOj,y.TTD]}),F._ngModelWarningSentOnce=!1,F})();const za={provide:Ye,useExisting:(0,y.Gpc)(()=>Tr),multi:!0};let Tr=(()=>{class F{constructor(){this._required=!1}get required(){return this._required}set required(A){this._required=null!=A&&!1!==A&&"false"!=`${A}`,this._onChange&&this._onChange()}validate(A){return this.required?function(F){return function(F){return null==F||0===F.length}(F.value)?{required:!0}:null}(A):null}registerOnValidatorChange(A){this._onChange=A}}return F.\u0275fac=function(A){return new(A||F)},F.\u0275dir=y.lG2({type:F,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(A,Q){2&A&&y.uIk("required",Q.required?"":null)},inputs:{required:"required"},features:[y._Bn([za])]}),F})(),Z=(()=>{class F{}return F.\u0275fac=function(A){return new(A||F)},F.\u0275mod=y.oAB({type:F}),F.\u0275inj=y.cJS({imports:[[Pt]]}),F})(),L=(()=>{class F{}return F.\u0275fac=function(A){return new(A||F)},F.\u0275mod=y.oAB({type:F}),F.\u0275inj=y.cJS({imports:[Z]}),F})(),te=(()=>{class F{static withConfig(A){return{ngModule:F,providers:[{provide:Kr,useValue:A.warnOnNgModelWithFormControl}]}}}return F.\u0275fac=function(A){return new(A||F)},F.\u0275mod=y.oAB({type:F}),F.\u0275inj=y.cJS({imports:[Z]}),F})()},7716:(Pe,de,S)=>{"use strict";S.d(de,{gz:()=>Dt,gk:()=>xt,m2:()=>wt,Q3:()=>Wt,OD:()=>ft,F0:()=>di,rH:()=>Yi,Bz:()=>Aa,lC:()=>ra,R9:()=>ln});var y=S(2057),R=S(4788),H=S(4869),ge=S(9796),ee=S(5197),$=S(509),ne=S(6693);const Y={};class G{constructor(b){this.resultSelector=b}call(b,w){return w.subscribe(new K(b,this.resultSelector))}}class K extends ee.L{constructor(b,w){super(b),this.resultSelector=w,this.active=0,this.values=[],this.observables=[]}_next(b){this.values.push(Y),this.observables.push(b)}_complete(){const b=this.observables,w=b.length;if(0===w)this.destination.complete();else{this.active=w,this.toRespond=w;for(let N=0;N<w;N++)this.add((0,$.D)(this,b[N],void 0,N))}}notifyComplete(b){0==(this.active-=1)&&this.destination.complete()}notifyNext(b,w,N){const U=this.values,_e=this.toRespond?U[N]===Y?--this.toRespond:this.toRespond:0;U[N]=w,0===_e&&(this.resultSelector?this._tryResultSelector(U):this.destination.next(U.slice()))}_tryResultSelector(b){let w;try{w=this.resultSelector.apply(this,b)}catch(N){return void this.destination.error(N)}this.destination.next(w)}}var z=S(7574),oe=S(5372),He=S(9193);function Le(C){return new z.y(b=>{let w;try{w=C()}catch(U){return void b.error(U)}return(w?(0,oe.D)(w):(0,He.c)()).subscribe(b)})}var Ae=S(5917),Ue=S(6215),Ce=S(3410),Fe=S(8071),ae=S(2441),Ye=S(9765),Qe=S(5435),St=S(7393),lt=S(7108);function ye(C){return function(w){return 0===C?(0,He.c)():w.lift(new it(C))}}class it{constructor(b){if(this.total=b,this.total<0)throw new lt.W}call(b,w){return w.subscribe(new le(b,this.total))}}class le extends St.L{constructor(b,w){super(b),this.total=w,this.ring=new Array,this.count=0}_next(b){const w=this.ring,N=this.total,U=this.count++;w.length<N?w.push(b):w[U%N]=b}_complete(){const b=this.destination;let w=this.count;if(w>0){const N=this.count>=this.total?this.total:this.count,U=this.ring;for(let J=0;J<N;J++){const _e=w++%N;b.next(U[_e])}}b.complete()}}var qe=S(4635),be=S(5242),fe=S(4487),se=S(5319);class gt{constructor(b){this.callback=b}call(b,w){return w.subscribe(new Vt(b,this.callback))}}class Vt extends St.L{constructor(b,w){super(b),this.add(new se.w(w))}}var mt=S(8002),Tt=S(3190),Mt=S(5257),tn=S(9761),sn=S(2145),Gt=S(5304),on=S(4612),hn=S(8049),zt=S(9773),Be=S(3342),je=S(1307),ve=S(3282);class Re{constructor(b,w){this.id=b,this.url=w}}class ft extends Re{constructor(b,w,N="imperative",U=null){super(b,w),this.navigationTrigger=N,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wt extends Re{constructor(b,w,N){super(b,w),this.urlAfterRedirects=N}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xt extends Re{constructor(b,w,N){super(b,w),this.reason=N}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wt extends Re{constructor(b,w,N){super(b,w),this.error=N}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ln extends Re{constructor(b,w,N,U){super(b,w),this.urlAfterRedirects=N,this.state=U}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class It extends Re{constructor(b,w,N,U){super(b,w),this.urlAfterRedirects=N,this.state=U}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rn extends Re{constructor(b,w,N,U,J){super(b,w),this.urlAfterRedirects=N,this.state=U,this.shouldActivate=J}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qn extends Re{constructor(b,w,N,U){super(b,w),this.urlAfterRedirects=N,this.state=U}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kn extends Re{constructor(b,w,N,U){super(b,w),this.urlAfterRedirects=N,this.state=U}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yt{constructor(b){this.route=b}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qt{constructor(b){this.route=b}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cn{constructor(b){this.snapshot=b}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xn{constructor(b){this.snapshot=b}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rr{constructor(b){this.snapshot=b}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pn{constructor(b){this.snapshot=b}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lt{constructor(b,w,N){this.routerEvent=b,this.position=w,this.anchor=N}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class Mr{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const w=this.params[b];return Array.isArray(w)?w[0]:w}return null}getAll(b){if(this.has(b)){const w=this.params[b];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function hr(C){return new Mr(C)}const Dr="ngNavigationCancelingError";function Bn(C){const b=Error("NavigationCancelingError: "+C);return b[Dr]=!0,b}function $r(C,b,w){const N=w.path.split("/");if(N.length>C.length||"full"===w.pathMatch&&(b.hasChildren()||N.length<C.length))return null;const U={};for(let J=0;J<N.length;J++){const _e=N[J],ke=C[J];if(_e.startsWith(":"))U[_e.substring(1)]=ke;else if(_e!==ke.path)return null}return{consumed:C.slice(0,N.length),posParams:U}}function me(C,b){const w=C?Object.keys(C):void 0,N=b?Object.keys(b):void 0;if(!w||!N||w.length!=N.length)return!1;let U;for(let J=0;J<w.length;J++)if(U=w[J],!Me(C[U],b[U]))return!1;return!0}function Me(C,b){if(Array.isArray(C)&&Array.isArray(b)){if(C.length!==b.length)return!1;const w=[...C].sort(),N=[...b].sort();return w.every((U,J)=>N[J]===U)}return C===b}function vt(C){return Array.prototype.concat.apply([],C)}function tt(C){return C.length>0?C[C.length-1]:null}function Ne(C,b){for(const w in C)C.hasOwnProperty(w)&&b(C[w],w)}function nt(C){return(0,R.CqO)(C)?C:(0,R.QGY)(C)?(0,oe.D)(Promise.resolve(C)):(0,Ae.of)(C)}const $t={exact:function ir(C,b,w){if(!Gn(C.segments,b.segments)||!vr(C.segments,b.segments,w)||C.numberOfChildren!==b.numberOfChildren)return!1;for(const N in b.children)if(!C.children[N]||!ir(C.children[N],b.children[N],w))return!1;return!0},subset:yr},En={exact:function(C,b){return me(C,b)},subset:function(C,b){return Object.keys(b).length<=Object.keys(C).length&&Object.keys(b).every(w=>Me(C[w],b[w]))},ignored:()=>!0};function rn(C,b,w){return $t[w.paths](C.root,b.root,w.matrixParams)&&En[w.queryParams](C.queryParams,b.queryParams)&&!("exact"===w.fragment&&C.fragment!==b.fragment)}function yr(C,b,w){return Jr(C,b,b.segments,w)}function Jr(C,b,w,N){if(C.segments.length>w.length){const U=C.segments.slice(0,w.length);return!(!Gn(U,w)||b.hasChildren()||!vr(U,w,N))}if(C.segments.length===w.length){if(!Gn(C.segments,w)||!vr(C.segments,w,N))return!1;for(const U in b.children)if(!C.children[U]||!yr(C.children[U],b.children[U],N))return!1;return!0}{const U=w.slice(0,C.segments.length),J=w.slice(C.segments.length);return!!(Gn(C.segments,U)&&vr(C.segments,U,N)&&C.children[Ft])&&Jr(C.children[Ft],b,J,N)}}function vr(C,b,w){return b.every((N,U)=>En[w](C[U].parameters,N.parameters))}class fr{constructor(b,w,N){this.root=b,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hr(this.queryParams)),this._queryParamMap}toString(){return qt.serialize(this)}}class _n{constructor(b,w){this.segments=b,this.children=w,this.parent=null,Ne(w,(N,U)=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bn(this)}}class jn{constructor(b,w){this.path=b,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=hr(this.parameters)),this._parameterMap}toString(){return Mi(this)}}function Gn(C,b){return C.length===b.length&&C.every((w,N)=>w.path===b[N].path)}class si{}class Er{parse(b){const w=new Ee(b);return new fr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(b){var C;return`${`/${Vn(b.root,!0)}`}${function(C){const b=Object.keys(C).map(w=>{const N=C[w];return Array.isArray(N)?N.map(U=>`${wn(w)}=${wn(U)}`).join("&"):`${wn(w)}=${wn(N)}`}).filter(w=>!!w);return b.length?`?${b.join("&")}`:""}(b.queryParams)}${"string"==typeof b.fragment?`#${C=b.fragment,encodeURI(C)}`:""}`}}const qt=new Er;function bn(C){return C.segments.map(b=>Mi(b)).join("/")}function Vn(C,b){if(!C.hasChildren())return bn(C);if(b){const w=C.children[Ft]?Vn(C.children[Ft],!1):"",N=[];return Ne(C.children,(U,J)=>{J!==Ft&&N.push(`${J}:${Vn(U,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function(C,b){let w=[];return Ne(C.children,(N,U)=>{U===Ft&&(w=w.concat(b(N,U)))}),Ne(C.children,(N,U)=>{U!==Ft&&(w=w.concat(b(N,U)))}),w}(C,(N,U)=>U===Ft?[Vn(C.children[Ft],!1)]:[`${U}:${Vn(N,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Ft]?`${bn(C)}/${w[0]}`:`${bn(C)}/(${w.join("//")})`}}function pr(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wn(C){return pr(C).replace(/%3B/gi,";")}function br(C){return pr(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wn(C){return decodeURIComponent(C)}function _i(C){return Wn(C.replace(/\+/g,"%20"))}function Mi(C){return`${br(C.path)}${function(C){return Object.keys(C).map(b=>`;${br(b)}=${br(C[b])}`).join("")}(C.parameters)}`}const oi=/^[^\/()?;=#]+/;function ur(C){const b=C.match(oi);return b?b[0]:""}const Ai=/^[^=?&#]+/,Ri=/^[^?&#]+/;class Ee{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(b.length>0||Object.keys(w).length>0)&&(N[Ft]=new _n(b,w)),N}parseSegment(){const b=ur(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(b),new jn(Wn(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const w=ur(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const U=ur(this.remaining);U&&(N=U,this.capture(N))}b[Wn(w)]=Wn(N)}parseQueryParam(b){const w=function(C){const b=C.match(Ai);return b?b[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const _e=function(C){const b=C.match(Ri);return b?b[0]:""}(this.remaining);_e&&(N=_e,this.capture(N))}const U=_i(w),J=_i(N);if(b.hasOwnProperty(U)){let _e=b[U];Array.isArray(_e)||(_e=[_e],b[U]=_e),_e.push(J)}else b[U]=J}parseParens(b){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=ur(this.remaining),U=this.remaining[N.length];if("/"!==U&&")"!==U&&";"!==U)throw new Error(`Cannot parse url '${this.url}'`);let J;N.indexOf(":")>-1?(J=N.substr(0,N.indexOf(":")),this.capture(J),this.capture(":")):b&&(J=Ft);const _e=this.parseChildren();w[J]=1===Object.keys(_e).length?_e[Ft]:new _n([],_e),this.consumeOptional("//")}return w}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new Error(`Expected "${b}".`)}}class rt{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const w=this.pathFromRoot(b);return w.length>1?w[w.length-2]:null}children(b){const w=Xe(b,this._root);return w?w.children.map(N=>N.value):[]}firstChild(b){const w=Xe(b,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(b){const w=ct(b,this._root);return w.length<2?[]:w[w.length-2].children.map(U=>U.value).filter(U=>U!==b)}pathFromRoot(b){return ct(b,this._root).map(w=>w.value)}}function Xe(C,b){if(C===b.value)return b;for(const w of b.children){const N=Xe(C,w);if(N)return N}return null}function ct(C,b){if(C===b.value)return[b];for(const w of b.children){const N=ct(C,w);if(N.length)return N.unshift(b),N}return[]}class Rt{constructor(b,w){this.value=b,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ut(C){const b={};return C&&C.children.forEach(w=>b[w.value.outlet]=w),b}class Ve extends rt{constructor(b,w){super(b),this.snapshot=w,qn(this,b)}toString(){return this.snapshot.toString()}}function ze(C,b){const w=function(C,b){const _e=new Fn([],{},{},"",{},Ft,b,null,C.root,-1,{});return new In("",new Rt(_e,[]))}(C,b),N=new Ue.X([new jn("",{})]),U=new Ue.X({}),J=new Ue.X({}),_e=new Ue.X({}),ke=new Ue.X(""),Ct=new Dt(N,U,_e,ke,J,Ft,b,w.root);return Ct.snapshot=w.root,new Ve(new Rt(Ct,[]),w)}class Dt{constructor(b,w,N,U,J,_e,ke,Ct){this.url=b,this.params=w,this.queryParams=N,this.fragment=U,this.data=J,this.outlet=_e,this.component=ke,this._futureSnapshot=Ct}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(b=>hr(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(b=>hr(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pt(C,b="emptyOnly"){const w=C.pathFromRoot;let N=0;if("always"!==b)for(N=w.length-1;N>=1;){const U=w[N],J=w[N-1];if(U.routeConfig&&""===U.routeConfig.path)N--;else{if(J.component)break;N--}}return function(C){return C.reduce((b,w)=>({params:Object.assign(Object.assign({},b.params),w.params),data:Object.assign(Object.assign({},b.data),w.data),resolve:Object.assign(Object.assign({},b.resolve),w._resolvedData)}),{params:{},data:{},resolve:{}})}(w.slice(N))}class Fn{constructor(b,w,N,U,J,_e,ke,Ct,Kt,zn,An){this.url=b,this.params=w,this.queryParams=N,this.fragment=U,this.data=J,this.outlet=_e,this.component=ke,this.routeConfig=Ct,this._urlSegment=Kt,this._lastPathIndex=zn,this._resolve=An}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class In extends rt{constructor(b,w){super(w),this.url=b,qn(this,w)}toString(){return Kr(this._root)}}function qn(C,b){b.value._routerState=C,b.children.forEach(w=>qn(C,w))}function Kr(C){const b=C.children.length>0?` { ${C.children.map(Kr).join(", ")} } `:"";return`${C.value}${b}`}function Te(C){if(C.snapshot){const b=C.snapshot,w=C._futureSnapshot;C.snapshot=w,me(b.queryParams,w.queryParams)||C.queryParams.next(w.queryParams),b.fragment!==w.fragment&&C.fragment.next(w.fragment),me(b.params,w.params)||C.params.next(w.params),function(C,b){if(C.length!==b.length)return!1;for(let w=0;w<C.length;++w)if(!me(C[w],b[w]))return!1;return!0}(b.url,w.url)||C.url.next(w.url),me(b.data,w.data)||C.data.next(w.data)}else C.snapshot=C._futureSnapshot,C.data.next(C._futureSnapshot.data)}function De(C,b){return me(C.params,b.params)&&function(C,b){return Gn(C,b)&&C.every((w,N)=>me(w.parameters,b[N].parameters))}(C.url,b.url)&&!(!C.parent!=!b.parent)&&(!C.parent||De(C.parent,b.parent))}function Ke(C,b,w){if(w&&C.shouldReuseRoute(b.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=b.value;const U=function(C,b,w){return b.children.map(N=>{for(const U of w.children)if(C.shouldReuseRoute(N.value,U.value.snapshot))return Ke(C,N,U);return Ke(C,N)})}(C,b,w);return new Rt(N,U)}{if(C.shouldAttach(b.value)){const J=C.retrieve(b.value);if(null!==J){const _e=J.route;return pt(b,_e),_e}}const N=function(C){return new Dt(new Ue.X(C.url),new Ue.X(C.params),new Ue.X(C.queryParams),new Ue.X(C.fragment),new Ue.X(C.data),C.outlet,C.component,C)}(b.value),U=b.children.map(J=>Ke(C,J));return new Rt(N,U)}}function pt(C,b){if(C.value.routeConfig!==b.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(C.children.length!==b.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");b.value._futureSnapshot=C.value;for(let w=0;w<C.children.length;++w)pt(C.children[w],b.children[w])}function lr(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function Xr(C){return"object"==typeof C&&null!=C&&C.outlets}function bs(C,b,w,N,U){let J={};return N&&Ne(N,(_e,ke)=>{J[ke]=Array.isArray(_e)?_e.map(Ct=>`${Ct}`):`${_e}`}),new fr(w.root===C?b:so(w.root,C,b),J,U)}function so(C,b,w){const N={};return Ne(C.children,(U,J)=>{N[J]=U===b?w:so(U,b,w)}),new _n(C.segments,N)}class Oo{constructor(b,w,N){if(this.isAbsolute=b,this.numberOfDoubleDots=w,this.commands=N,b&&N.length>0&&lr(N[0]))throw new Error("Root segment cannot have matrix parameters");const U=N.find(Xr);if(U&&U!==tt(N))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vi{constructor(b,w,N){this.segmentGroup=b,this.processChildren=w,this.index=N}}function oo(C,b,w){if(C||(C=new _n([],{})),0===C.segments.length&&C.hasChildren())return Pi(C,b,w);const N=function(C,b,w){let N=0,U=b;const J={match:!1,pathIndex:0,commandIndex:0};for(;U<C.segments.length;){if(N>=w.length)return J;const _e=C.segments[U],ke=w[N];if(Xr(ke))break;const Ct=`${ke}`,Kt=N<w.length-1?w[N+1]:null;if(U>0&&void 0===Ct)break;if(Ct&&Kt&&"object"==typeof Kt&&void 0===Kt.outlets){if(!Ni(Ct,Kt,_e))return J;N+=2}else{if(!Ni(Ct,{},_e))return J;N++}U++}return{match:!0,pathIndex:U,commandIndex:N}}(C,b,w),U=w.slice(N.commandIndex);if(N.match&&N.pathIndex<C.segments.length){const J=new _n(C.segments.slice(0,N.pathIndex),{});return J.children[Ft]=new _n(C.segments.slice(N.pathIndex),C.children),Pi(J,0,U)}return N.match&&0===U.length?new _n(C.segments,{}):N.match&&!C.hasChildren()?ws(C,b,w):N.match?Pi(C,0,U):ws(C,b,w)}function Pi(C,b,w){if(0===w.length)return new _n(C.segments,{});{const N=function(C){return Xr(C[0])?C[0].outlets:{[Ft]:C}}(w),U={};return Ne(N,(J,_e)=>{"string"==typeof J&&(J=[J]),null!==J&&(U[_e]=oo(C.children[_e],b,J))}),Ne(C.children,(J,_e)=>{void 0===N[_e]&&(U[_e]=J)}),new _n(C.segments,U)}}function ws(C,b,w){const N=C.segments.slice(0,b);let U=0;for(;U<w.length;){const J=w[U];if(Xr(J)){const Ct=ji(J.outlets);return new _n(N,Ct)}if(0===U&&lr(w[0])){N.push(new jn(C.segments[b].path,ls(w[0]))),U++;continue}const _e=Xr(J)?J.outlets[Ft]:`${J}`,ke=U<w.length-1?w[U+1]:null;_e&&ke&&lr(ke)?(N.push(new jn(_e,ls(ke))),U+=2):(N.push(new jn(_e,{})),U++)}return new _n(N,{})}function ji(C){const b={};return Ne(C,(w,N)=>{"string"==typeof w&&(w=[w]),null!==w&&(b[N]=ws(new _n([],{}),0,w))}),b}function ls(C){const b={};return Ne(C,(w,N)=>b[N]=`${w}`),b}function Ni(C,b,w){return C==w.path&&me(b,w.parameters)}class uo{constructor(b,w,N,U){this.routeReuseStrategy=b,this.futureState=w,this.currState=N,this.forwardEvent=U}activate(b){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,b),Te(this.futureState.root),this.activateChildRoutes(w,N,b)}deactivateChildRoutes(b,w,N){const U=Ut(w);b.children.forEach(J=>{const _e=J.value.outlet;this.deactivateRoutes(J,U[_e],N),delete U[_e]}),Ne(U,(J,_e)=>{this.deactivateRouteAndItsChildren(J,N)})}deactivateRoutes(b,w,N){const U=b.value,J=w?w.value:null;if(U===J)if(U.component){const _e=N.getContext(U.outlet);_e&&this.deactivateChildRoutes(b,w,_e.children)}else this.deactivateChildRoutes(b,w,N);else J&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(b,w){this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,w):this.deactivateRouteAndOutlet(b,w)}detachAndStoreRouteSubtree(b,w){const N=w.getContext(b.value.outlet);if(N&&N.outlet){const U=N.outlet.detach(),J=N.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:U,route:b,contexts:J})}}deactivateRouteAndOutlet(b,w){const N=w.getContext(b.value.outlet),U=N&&b.value.component?N.children:w,J=Ut(b);for(const _e of Object.keys(J))this.deactivateRouteAndItsChildren(J[_e],U);N&&N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated(),N.attachRef=null,N.resolver=null,N.route=null)}activateChildRoutes(b,w,N){const U=Ut(w);b.children.forEach(J=>{this.activateRoutes(J,U[J.value.outlet],N),this.forwardEvent(new Pn(J.value.snapshot))}),b.children.length&&this.forwardEvent(new xn(b.value.snapshot))}activateRoutes(b,w,N){const U=b.value,J=w?w.value:null;if(Te(U),U===J)if(U.component){const _e=N.getOrCreateContext(U.outlet);this.activateChildRoutes(b,w,_e.children)}else this.activateChildRoutes(b,w,N);else if(U.component){const _e=N.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const ke=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),_e.children.onOutletReAttached(ke.contexts),_e.attachRef=ke.componentRef,_e.route=ke.route.value,_e.outlet&&_e.outlet.attach(ke.componentRef,ke.route.value),$i(ke.route)}else{const ke=function(C){for(let b=C.parent;b;b=b.parent){const w=b.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig;if(w&&w.component)return null}return null}(U.snapshot),Ct=ke?ke.module.componentFactoryResolver:null;_e.attachRef=null,_e.route=U,_e.resolver=Ct,_e.outlet&&_e.outlet.activateWith(U,Ct),this.activateChildRoutes(b,null,_e.children)}}else this.activateChildRoutes(b,null,N)}}function $i(C){Te(C.value),C.children.forEach($i)}class Ei{constructor(b,w){this.routes=b,this.module=w}}function Tr(C){return"function"==typeof C}function ui(C){return C instanceof fr}const ci=Symbol("INITIAL_VALUE");function Hi(){return(0,Tt.w)(C=>function(...C){let b,w;return(0,H.K)(C[C.length-1])&&(w=C.pop()),"function"==typeof C[C.length-1]&&(b=C.pop()),1===C.length&&(0,ge.k)(C[0])&&(C=C[0]),(0,ne.n)(C,w).lift(new G(b))}(C.map(b=>b.pipe((0,Mt.q)(1),(0,tn.O)(ci)))).pipe((0,sn.R)((b,w)=>{let N=!1;return w.reduce((U,J,_e)=>U!==ci?U:(J===ci&&(N=!0),N||!1!==J&&_e!==w.length-1&&!ui(J)?U:J),b)},ci),(0,Qe.h)(b=>b!==ci),(0,mt.U)(b=>ui(b)?b:!0===b),(0,Mt.q)(1)))}let Zi=(()=>{class C{}return C.\u0275fac=function(w){return new(w||C)},C.\u0275cmp=R.Xpm({type:C,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,N){1&w&&R._UZ(0,"router-outlet")},directives:function(){return[ra]},encapsulation:2}),C})();function rs(C,b=""){for(let w=0;w<C.length;w++){const N=C[w];Mo(N,P(b,N))}}function Mo(C,b){C.children&&rs(C.children,b)}function P(C,b){return b?C||b.path?C&&!b.path?`${C}/`:!C&&b.path?b.path:`${C}/${b.path}`:"":C}function Z(C){const b=C.children&&C.children.map(Z),w=b?Object.assign(Object.assign({},C),{children:b}):Object.assign({},C);return!w.component&&(b||w.loadChildren)&&w.outlet&&w.outlet!==Ft&&(w.component=Zi),w}function L(C){return C.outlet||Ft}function te(C,b){const w=C.filter(N=>L(N)===b);return w.push(...C.filter(N=>L(N)!==b)),w}const Ie={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ht(C,b,w){var N;if(""===b.path)return"full"===b.pathMatch&&(C.hasChildren()||w.length>0)?Object.assign({},Ie):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const J=(b.matcher||$r)(w,C,b);if(!J)return Object.assign({},Ie);const _e={};Ne(J.posParams,(Ct,Kt)=>{_e[Kt]=Ct.path});const ke=J.consumed.length>0?Object.assign(Object.assign({},_e),J.consumed[J.consumed.length-1].parameters):_e;return{matched:!0,consumedSegments:J.consumed,lastChild:J.consumed.length,parameters:ke,positionalParamSegments:null!==(N=J.posParams)&&void 0!==N?N:{}}}function bt(C,b,w,N,U="corrected"){if(w.length>0&&function(C,b,w){return w.some(N=>Ze(C,b,N)&&L(N)!==Ft)}(C,w,N)){const _e=new _n(b,function(C,b,w,N){const U={};U[Ft]=N,N._sourceSegment=C,N._segmentIndexShift=b.length;for(const J of w)if(""===J.path&&L(J)!==Ft){const _e=new _n([],{});_e._sourceSegment=C,_e._segmentIndexShift=b.length,U[L(J)]=_e}return U}(C,b,N,new _n(w,C.children)));return _e._sourceSegment=C,_e._segmentIndexShift=b.length,{segmentGroup:_e,slicedSegments:[]}}if(0===w.length&&function(C,b,w){return w.some(N=>Ze(C,b,N))}(C,w,N)){const _e=new _n(C.segments,function(C,b,w,N,U,J){const _e={};for(const ke of N)if(Ze(C,w,ke)&&!U[L(ke)]){const Ct=new _n([],{});Ct._sourceSegment=C,Ct._segmentIndexShift="legacy"===J?C.segments.length:b.length,_e[L(ke)]=Ct}return Object.assign(Object.assign({},U),_e)}(C,b,w,N,C.children,U));return _e._sourceSegment=C,_e._segmentIndexShift=b.length,{segmentGroup:_e,slicedSegments:w}}const J=new _n(C.segments,C.children);return J._sourceSegment=C,J._segmentIndexShift=b.length,{segmentGroup:J,slicedSegments:w}}function Ze(C,b,w){return(!(C.hasChildren()||b.length>0)||"full"!==w.pathMatch)&&""===w.path}function Bt(C,b,w,N){return!!(L(C)===N||N!==Ft&&Ze(b,w,C))&&("**"===C.path||ht(b,C,w).matched)}function Sn(C,b,w){return 0===b.length&&!C.children[w]}class nr{constructor(b){this.segmentGroup=b||null}}class bi{constructor(b){this.urlTree=b}}function Nr(C){return new z.y(b=>b.error(new nr(C)))}function li(C){return new z.y(b=>b.error(new bi(C)))}function qr(C){return new z.y(b=>b.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${C}'`)))}class Ea{constructor(b,w,N,U,J){this.configLoader=w,this.urlSerializer=N,this.urlTree=U,this.config=J,this.allowRedirects=!0,this.ngModule=b.get(R.h0i)}apply(){const b=bt(this.urlTree.root,[],[],this.config).segmentGroup,w=new _n(b.segments,b.children);return this.expandSegmentGroup(this.ngModule,this.config,w,Ft).pipe((0,mt.U)(J=>this.createUrlTree(Bs(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Gt.K)(J=>{if(J instanceof bi)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof nr?this.noMatchError(J):J}))}match(b){return this.expandSegmentGroup(this.ngModule,this.config,b.root,Ft).pipe((0,mt.U)(U=>this.createUrlTree(Bs(U),b.queryParams,b.fragment))).pipe((0,Gt.K)(U=>{throw U instanceof nr?this.noMatchError(U):U}))}noMatchError(b){return new Error(`Cannot match any routes. URL Segment: '${b.segmentGroup}'`)}createUrlTree(b,w,N){const U=b.segments.length>0?new _n([],{[Ft]:b}):b;return new fr(U,w,N)}expandSegmentGroup(b,w,N,U){return 0===N.segments.length&&N.hasChildren()?this.expandChildren(b,w,N).pipe((0,mt.U)(J=>new _n([],J))):this.expandSegment(b,N,w,N.segments,U,!0)}expandChildren(b,w,N){const U=[];for(const J of Object.keys(N.children))"primary"===J?U.unshift(J):U.push(J);return(0,oe.D)(U).pipe((0,on.b)(J=>{const _e=N.children[J],ke=te(w,J);return this.expandSegmentGroup(b,ke,_e,J).pipe((0,mt.U)(Ct=>({segment:Ct,outlet:J})))}),(0,sn.R)((J,_e)=>(J[_e.outlet]=_e.segment,J),{}),function(C,b){const w=arguments.length>=2;return N=>N.pipe(C?(0,Qe.h)((U,J)=>C(U,J,N)):fe.y,ye(1),w?(0,be.d)(b):(0,qe.T)(()=>new Ce.K))}())}expandSegment(b,w,N,U,J,_e){return(0,oe.D)(N).pipe((0,on.b)(ke=>this.expandSegmentAgainstRoute(b,w,N,ke,U,J,_e).pipe((0,Gt.K)(Kt=>{if(Kt instanceof nr)return(0,Ae.of)(null);throw Kt}))),(0,hn.P)(ke=>!!ke),(0,Gt.K)((ke,Ct)=>{if(ke instanceof Ce.K||"EmptyError"===ke.name){if(Sn(w,U,J))return(0,Ae.of)(new _n([],{}));throw new nr(w)}throw ke}))}expandSegmentAgainstRoute(b,w,N,U,J,_e,ke){return Bt(U,w,J,_e)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(b,w,U,J,_e):ke&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,w,N,U,J,_e):Nr(w):Nr(w)}expandSegmentAgainstRouteUsingRedirect(b,w,N,U,J,_e){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,N,U,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(b,w,N,U,J,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,w,N,U){const J=this.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?li(J):this.lineralizeSegments(N,J).pipe((0,zt.zg)(_e=>{const ke=new _n(_e,{});return this.expandSegment(b,ke,w,_e,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,w,N,U,J,_e){const{matched:ke,consumedSegments:Ct,lastChild:Kt,positionalParamSegments:zn}=ht(w,U,J);if(!ke)return Nr(w);const An=this.applyRedirectCommands(Ct,U.redirectTo,zn);return U.redirectTo.startsWith("/")?li(An):this.lineralizeSegments(U,An).pipe((0,zt.zg)(dn=>this.expandSegment(b,w,N,dn.concat(J.slice(Kt)),_e,!1)))}matchSegmentAgainstRoute(b,w,N,U,J){if("**"===N.path)return N.loadChildren?(N._loadedConfig?(0,Ae.of)(N._loadedConfig):this.configLoader.load(b.injector,N)).pipe((0,mt.U)(dn=>(N._loadedConfig=dn,new _n(U,{})))):(0,Ae.of)(new _n(U,{}));const{matched:_e,consumedSegments:ke,lastChild:Ct}=ht(w,N,U);if(!_e)return Nr(w);const Kt=U.slice(Ct);return this.getChildConfig(b,N,U).pipe((0,zt.zg)(An=>{const dn=An.module,$n=An.routes,{segmentGroup:Li,slicedSegments:or}=bt(w,ke,Kt,$n),Tn=new _n(Li.segments,Li.children);if(0===or.length&&Tn.hasChildren())return this.expandChildren(dn,$n,Tn).pipe((0,mt.U)(Eo=>new _n(ke,Eo)));if(0===$n.length&&0===or.length)return(0,Ae.of)(new _n(ke,{}));const Ns=L(N)===J;return this.expandSegment(dn,Tn,$n,or,Ns?Ft:J,!0).pipe((0,mt.U)(Vi=>new _n(ke.concat(Vi.segments),Vi.children)))}))}getChildConfig(b,w,N){return w.children?(0,Ae.of)(new Ei(w.children,b)):w.loadChildren?void 0!==w._loadedConfig?(0,Ae.of)(w._loadedConfig):this.runCanLoadGuards(b.injector,w,N).pipe((0,zt.zg)(U=>{return U?this.configLoader.load(b.injector,w).pipe((0,mt.U)(J=>(w._loadedConfig=J,J))):(C=w,new z.y(b=>b.error(Bn(`Cannot load children because the guard of the route "path: '${C.path}'" returned false`))));var C})):(0,Ae.of)(new Ei([],b))}runCanLoadGuards(b,w,N){const U=w.canLoad;if(!U||0===U.length)return(0,Ae.of)(!0);const J=U.map(_e=>{const ke=b.get(_e);let Ct;if((C=ke)&&Tr(C.canLoad))Ct=ke.canLoad(w,N);else{if(!Tr(ke))throw new Error("Invalid CanLoad guard");Ct=ke(w,N)}var C;return nt(Ct)});return(0,Ae.of)(J).pipe(Hi(),(0,Be.b)(_e=>{if(!ui(_e))return;const ke=Bn(`Redirecting to "${this.urlSerializer.serialize(_e)}"`);throw ke.url=_e,ke}),(0,mt.U)(_e=>!0===_e))}lineralizeSegments(b,w){let N=[],U=w.root;for(;;){if(N=N.concat(U.segments),0===U.numberOfChildren)return(0,Ae.of)(N);if(U.numberOfChildren>1||!U.children[Ft])return qr(b.redirectTo);U=U.children[Ft]}}applyRedirectCommands(b,w,N){return this.applyRedirectCreatreUrlTree(w,this.urlSerializer.parse(w),b,N)}applyRedirectCreatreUrlTree(b,w,N,U){const J=this.createSegmentGroup(b,w.root,N,U);return new fr(J,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(b,w){const N={};return Ne(b,(U,J)=>{if("string"==typeof U&&U.startsWith(":")){const ke=U.substring(1);N[J]=w[ke]}else N[J]=U}),N}createSegmentGroup(b,w,N,U){const J=this.createSegments(b,w.segments,N,U);let _e={};return Ne(w.children,(ke,Ct)=>{_e[Ct]=this.createSegmentGroup(b,ke,N,U)}),new _n(J,_e)}createSegments(b,w,N,U){return w.map(J=>J.path.startsWith(":")?this.findPosParam(b,J,U):this.findOrReturn(J,N))}findPosParam(b,w,N){const U=N[w.path.substring(1)];if(!U)throw new Error(`Cannot redirect to '${b}'. Cannot find '${w.path}'.`);return U}findOrReturn(b,w){let N=0;for(const U of w){if(U.path===b.path)return w.splice(N),U;N++}return b}}function Bs(C){const b={};for(const N of Object.keys(C.children)){const J=Bs(C.children[N]);(J.segments.length>0||J.hasChildren())&&(b[N]=J)}return function(C){if(1===C.numberOfChildren&&C.children[Ft]){const b=C.children[Ft];return new _n(C.segments.concat(b.segments),b.children)}return C}(new _n(C.segments,b))}class Hu{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class js{constructor(b,w){this.component=b,this.route=w}}function Nt(C,b,w){const N=C._root;return ho(N,b?b._root:null,w,[N.value])}function Qo(C,b,w){const N=function(C){if(!C)return null;for(let b=C.parent;b;b=b.parent){const w=b.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig}return null}(b);return(N?N.module.injector:w).get(C)}function ho(C,b,w,N,U={canDeactivateChecks:[],canActivateChecks:[]}){const J=Ut(b);return C.children.forEach(_e=>{(function(C,b,w,N,U={canDeactivateChecks:[],canActivateChecks:[]}){const J=C.value,_e=b?b.value:null,ke=w?w.getContext(C.value.outlet):null;if(_e&&J.routeConfig===_e.routeConfig){const Ct=function(C,b,w){if("function"==typeof w)return w(C,b);switch(w){case"pathParamsChange":return!Gn(C.url,b.url);case"pathParamsOrQueryParamsChange":return!Gn(C.url,b.url)||!me(C.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!De(C,b)||!me(C.queryParams,b.queryParams);case"paramsChange":default:return!De(C,b)}}(_e,J,J.routeConfig.runGuardsAndResolvers);Ct?U.canActivateChecks.push(new Hu(N)):(J.data=_e.data,J._resolvedData=_e._resolvedData),ho(C,b,J.component?ke?ke.children:null:w,N,U),Ct&&ke&&ke.outlet&&ke.outlet.isActivated&&U.canDeactivateChecks.push(new js(ke.outlet.component,_e))}else _e&&Hs(b,ke,U),U.canActivateChecks.push(new Hu(N)),ho(C,null,J.component?ke?ke.children:null:w,N,U)})(_e,J[_e.value.outlet],w,N.concat([_e.value]),U),delete J[_e.value.outlet]}),Ne(J,(_e,ke)=>Hs(_e,w.getContext(ke),U)),U}function Hs(C,b,w){const N=Ut(C),U=C.value;Ne(N,(J,_e)=>{Hs(J,U.component?b?b.children.getContext(_e):null:b,w)}),w.canDeactivateChecks.push(new js(U.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,U))}class Ms{}function wi(C){return new z.y(b=>b.error(C))}class kr{constructor(b,w,N,U,J,_e){this.rootComponentType=b,this.config=w,this.urlTree=N,this.url=U,this.paramsInheritanceStrategy=J,this.relativeLinkResolution=_e}recognize(){const b=bt(this.urlTree.root,[],[],this.config.filter(_e=>void 0===_e.redirectTo),this.relativeLinkResolution).segmentGroup,w=this.processSegmentGroup(this.config,b,Ft);if(null===w)return null;const N=new Fn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new Rt(N,w),J=new In(this.url,U);return this.inheritParamsAndData(J._root),J}inheritParamsAndData(b){const w=b.value,N=Pt(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),b.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(b,w,N){return 0===w.segments.length&&w.hasChildren()?this.processChildren(b,w):this.processSegment(b,w,w.segments,N)}processChildren(b,w){const N=[];for(const J of Object.keys(w.children)){const _e=w.children[J],ke=te(b,J),Ct=this.processSegmentGroup(ke,_e,J);if(null===Ct)return null;N.push(...Ct)}const U=fo(N);return U.sort((b,w)=>b.value.outlet===Ft?-1:w.value.outlet===Ft?1:b.value.outlet.localeCompare(w.value.outlet)),U}processSegment(b,w,N,U){for(const J of b){const _e=this.processSegmentAgainstRoute(J,w,N,U);if(null!==_e)return _e}return Sn(w,N,U)?[]:null}processSegmentAgainstRoute(b,w,N,U){if(b.redirectTo||!Bt(b,w,N,U))return null;let J,_e=[],ke=[];if("**"===b.path){const $n=N.length>0?tt(N).parameters:{};J=new Fn(N,$n,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xo(b),L(b),b.component,b,Ca(w),Jo(w)+N.length,po(b))}else{const $n=ht(w,b,N);if(!$n.matched)return null;_e=$n.consumedSegments,ke=N.slice($n.lastChild),J=new Fn(_e,$n.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xo(b),L(b),b.component,b,Ca(w),Jo(w)+_e.length,po(b))}const Ct=(C=b).children?C.children:C.loadChildren?C._loadedConfig.routes:[],{segmentGroup:Kt,slicedSegments:zn}=bt(w,_e,ke,Ct.filter($n=>void 0===$n.redirectTo),this.relativeLinkResolution);var C;if(0===zn.length&&Kt.hasChildren()){const $n=this.processChildren(Ct,Kt);return null===$n?null:[new Rt(J,$n)]}if(0===Ct.length&&0===zn.length)return[new Rt(J,[])];const An=L(b)===U,dn=this.processSegment(Ct,Kt,zn,An?Ft:U);return null===dn?null:[new Rt(J,dn)]}}function Eu(C){const b=C.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function fo(C){const b=[],w=new Set;for(const N of C){if(!Eu(N)){b.push(N);continue}const U=b.find(J=>N.value.routeConfig===J.value.routeConfig);void 0!==U?(U.children.push(...N.children),w.add(U)):b.push(N)}for(const N of w){const U=fo(N.children);b.push(new Rt(N.value,U))}return b.filter(N=>!w.has(N))}function Ca(C){let b=C;for(;b._sourceSegment;)b=b._sourceSegment;return b}function Jo(C){let b=C,w=b._segmentIndexShift?b._segmentIndexShift:0;for(;b._sourceSegment;)b=b._sourceSegment,w+=b._segmentIndexShift?b._segmentIndexShift:0;return w-1}function Xo(C){return C.data||{}}function po(C){return C.resolve||{}}function Po(C){return(0,Tt.w)(b=>{const w=C(b);return w?(0,oe.D)(w).pipe((0,mt.U)(()=>b)):(0,Ae.of)(b)})}class fs extends class{shouldDetach(b){return!1}store(b,w){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,w){return b.routeConfig===w.routeConfig}}{}const Hr=new R.OlP("ROUTES");class bu{constructor(b,w,N,U){this.loader=b,this.compiler=w,this.onLoadStartListener=N,this.onLoadEndListener=U}load(b,w){if(w._loader$)return w._loader$;this.onLoadStartListener&&this.onLoadStartListener(w);const U=this.loadModuleFactory(w.loadChildren).pipe((0,mt.U)(J=>{this.onLoadEndListener&&this.onLoadEndListener(w);const _e=J.create(b);return new Ei(vt(_e.injector.get(Hr,void 0,R.XFs.Self|R.XFs.Optional)).map(Z),_e)}),(0,Gt.K)(J=>{throw w._loader$=void 0,J}));return w._loader$=new ae.c(U,()=>new Ye.xQ).pipe((0,je.x)()),w._loader$}loadModuleFactory(b){return"string"==typeof b?(0,oe.D)(this.loader.load(b)):nt(b()).pipe((0,zt.zg)(w=>w instanceof R.YKP?(0,Ae.of)(w):(0,oe.D)(this.compiler.compileModuleAsync(w))))}}class ea{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ta,this.attachRef=null}}class ta{constructor(){this.contexts=new Map}onChildOutletCreated(b,w){const N=this.getOrCreateContext(b);N.outlet=w,this.contexts.set(b,N)}onChildOutletDestroyed(b){const w=this.getContext(b);w&&(w.outlet=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let w=this.getContext(b);return w||(w=new ea,this.contexts.set(b,w)),w}getContext(b){return this.contexts.get(b)||null}}class No{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,w){return b}}function yo(C){throw C}function _o(C,b,w){return b.parse("/")}function Gr(C,b){return(0,Ae.of)(null)}const Fo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ka={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let di=(()=>{class C{constructor(w,N,U,J,_e,ke,Ct,Kt){this.rootComponentType=w,this.urlSerializer=N,this.rootContexts=U,this.location=J,this.config=Kt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ye.xQ,this.errorHandler=yo,this.malformedUriErrorHandler=_o,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Gr,afterPreactivation:Gr},this.urlHandlingStrategy=new No,this.routeReuseStrategy=new fs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=_e.get(R.h0i),this.console=_e.get(R.c2e);const dn=_e.get(R.R0b);this.isNgZoneEnabled=dn instanceof R.R0b&&R.R0b.isInAngularZone(),this.resetConfig(Kt),this.currentUrlTree=new fr(new _n([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bu(ke,Ct,$n=>this.triggerEvent(new Yt($n)),$n=>this.triggerEvent(new Qt($n))),this.routerState=ze(this.currentUrlTree,this.rootComponentType),this.transitions=new Ue.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}setupNavigations(w){const N=this.events;return w.pipe((0,Qe.h)(U=>0!==U.id),(0,mt.U)(U=>Object.assign(Object.assign({},U),{extractedUrl:this.urlHandlingStrategy.extract(U.rawUrl)})),(0,Tt.w)(U=>{let J=!1,_e=!1;return(0,Ae.of)(U).pipe((0,Be.b)(ke=>{this.currentNavigation={id:ke.id,initialUrl:ke.currentRawUrl,extractedUrl:ke.extractedUrl,trigger:ke.source,extras:ke.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Tt.w)(ke=>{const Ct=this.browserUrlTree.toString(),Kt=!this.navigated||ke.extractedUrl.toString()!==Ct||Ct!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Kt)&&this.urlHandlingStrategy.shouldProcessUrl(ke.rawUrl))return ki(ke.source)&&(this.browserUrlTree=ke.extractedUrl),(0,Ae.of)(ke).pipe((0,Tt.w)(An=>{const dn=this.transitions.getValue();return N.next(new ft(An.id,this.serializeUrl(An.extractedUrl),An.source,An.restoredState)),dn!==this.transitions.getValue()?He.E:Promise.resolve(An)}),function(C,b,w,N){return(0,Tt.w)(U=>function(C,b,w,N,U){return new Ea(C,b,w,N,U).apply()}(C,b,w,U.extractedUrl,N).pipe((0,mt.U)(J=>Object.assign(Object.assign({},U),{urlAfterRedirects:J}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Be.b)(An=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:An.urlAfterRedirects})}),function(C,b,w,N,U){return(0,zt.zg)(J=>function(C,b,w,N,U="emptyOnly",J="legacy"){try{const _e=new kr(C,b,w,N,U,J).recognize();return null===_e?wi(new Ms):(0,Ae.of)(_e)}catch(_e){return wi(_e)}}(C,b,J.urlAfterRedirects,w(J.urlAfterRedirects),N,U).pipe((0,mt.U)(_e=>Object.assign(Object.assign({},J),{targetSnapshot:_e}))))}(this.rootComponentType,this.config,An=>this.serializeUrl(An),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Be.b)(An=>{"eager"===this.urlUpdateStrategy&&(An.extras.skipLocationChange||this.setBrowserUrl(An.urlAfterRedirects,An),this.browserUrlTree=An.urlAfterRedirects);const dn=new ln(An.id,this.serializeUrl(An.extractedUrl),this.serializeUrl(An.urlAfterRedirects),An.targetSnapshot);N.next(dn)}));if(Kt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:dn,extractedUrl:$n,source:Li,restoredState:or,extras:Tn}=ke,Ns=new ft(dn,this.serializeUrl($n),Li,or);N.next(Ns);const Ci=ze($n,this.rootComponentType).snapshot;return(0,Ae.of)(Object.assign(Object.assign({},ke),{targetSnapshot:Ci,urlAfterRedirects:$n,extras:Object.assign(Object.assign({},Tn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ke.rawUrl,this.browserUrlTree=ke.urlAfterRedirects,ke.resolve(null),He.E}),Po(ke=>{const{targetSnapshot:Ct,id:Kt,extractedUrl:zn,rawUrl:An,extras:{skipLocationChange:dn,replaceUrl:$n}}=ke;return this.hooks.beforePreactivation(Ct,{navigationId:Kt,appliedUrlTree:zn,rawUrlTree:An,skipLocationChange:!!dn,replaceUrl:!!$n})}),(0,Be.b)(ke=>{const Ct=new It(ke.id,this.serializeUrl(ke.extractedUrl),this.serializeUrl(ke.urlAfterRedirects),ke.targetSnapshot);this.triggerEvent(Ct)}),(0,mt.U)(ke=>Object.assign(Object.assign({},ke),{guards:Nt(ke.targetSnapshot,ke.currentSnapshot,this.rootContexts)})),function(C,b){return(0,zt.zg)(w=>{const{targetSnapshot:N,currentSnapshot:U,guards:{canActivateChecks:J,canDeactivateChecks:_e}}=w;return 0===_e.length&&0===J.length?(0,Ae.of)(Object.assign(Object.assign({},w),{guardsResult:!0})):function(C,b,w,N){return(0,oe.D)(C).pipe((0,zt.zg)(U=>function(C,b,w,N,U){const J=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,Ae.of)(!0);const _e=J.map(ke=>{const Ct=Qo(ke,b,U);let Kt;if(function(C){return C&&Tr(C.canDeactivate)}(Ct))Kt=nt(Ct.canDeactivate(C,b,w,N));else{if(!Tr(Ct))throw new Error("Invalid CanDeactivate guard");Kt=nt(Ct(C,b,w,N))}return Kt.pipe((0,hn.P)())});return(0,Ae.of)(_e).pipe(Hi())}(U.component,U.route,w,b,N)),(0,hn.P)(U=>!0!==U,!0))}(_e,N,U,C).pipe((0,zt.zg)(ke=>ke&&function(C){return"boolean"==typeof C}(ke)?function(C,b,w,N){return(0,oe.D)(b).pipe((0,on.b)(U=>(0,Fe.z)(function(C,b){return null!==C&&b&&b(new Cn(C)),(0,Ae.of)(!0)}(U.route.parent,N),function(C,b){return null!==C&&b&&b(new rr(C)),(0,Ae.of)(!0)}(U.route,N),function(C,b,w){const N=b[b.length-1],J=b.slice(0,b.length-1).reverse().map(_e=>function(C){const b=C.routeConfig?C.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:C,guards:b}:null}(_e)).filter(_e=>null!==_e).map(_e=>Le(()=>{const ke=_e.guards.map(Ct=>{const Kt=Qo(Ct,_e.node,w);let zn;if(function(C){return C&&Tr(C.canActivateChild)}(Kt))zn=nt(Kt.canActivateChild(N,C));else{if(!Tr(Kt))throw new Error("Invalid CanActivateChild guard");zn=nt(Kt(N,C))}return zn.pipe((0,hn.P)())});return(0,Ae.of)(ke).pipe(Hi())}));return(0,Ae.of)(J).pipe(Hi())}(C,U.path,w),function(C,b,w){const N=b.routeConfig?b.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Ae.of)(!0);const U=N.map(J=>Le(()=>{const _e=Qo(J,b,w);let ke;if(function(C){return C&&Tr(C.canActivate)}(_e))ke=nt(_e.canActivate(b,C));else{if(!Tr(_e))throw new Error("Invalid CanActivate guard");ke=nt(_e(b,C))}return ke.pipe((0,hn.P)())}));return(0,Ae.of)(U).pipe(Hi())}(C,U.route,w))),(0,hn.P)(U=>!0!==U,!0))}(N,J,C,b):(0,Ae.of)(ke)),(0,mt.U)(ke=>Object.assign(Object.assign({},w),{guardsResult:ke})))})}(this.ngModule.injector,ke=>this.triggerEvent(ke)),(0,Be.b)(ke=>{if(ui(ke.guardsResult)){const Kt=Bn(`Redirecting to "${this.serializeUrl(ke.guardsResult)}"`);throw Kt.url=ke.guardsResult,Kt}const Ct=new Rn(ke.id,this.serializeUrl(ke.extractedUrl),this.serializeUrl(ke.urlAfterRedirects),ke.targetSnapshot,!!ke.guardsResult);this.triggerEvent(Ct)}),(0,Qe.h)(ke=>!!ke.guardsResult||(this.restoreHistory(ke),this.cancelNavigationTransition(ke,""),!1)),Po(ke=>{if(ke.guards.canActivateChecks.length)return(0,Ae.of)(ke).pipe((0,Be.b)(Ct=>{const Kt=new Qn(Ct.id,this.serializeUrl(Ct.extractedUrl),this.serializeUrl(Ct.urlAfterRedirects),Ct.targetSnapshot);this.triggerEvent(Kt)}),(0,Tt.w)(Ct=>{let Kt=!1;return(0,Ae.of)(Ct).pipe(function(C,b){return(0,zt.zg)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:U}}=w;if(!U.length)return(0,Ae.of)(w);let J=0;return(0,oe.D)(U).pipe((0,on.b)(_e=>function(C,b,w,N){return function(C,b,w,N){const U=Object.keys(C);if(0===U.length)return(0,Ae.of)({});const J={};return(0,oe.D)(U).pipe((0,zt.zg)(_e=>function(C,b,w,N){const U=Qo(C,b,N);return nt(U.resolve?U.resolve(b,w):U(b,w))}(C[_e],b,w,N).pipe((0,Be.b)(ke=>{J[_e]=ke}))),ye(1),(0,zt.zg)(()=>Object.keys(J).length===U.length?(0,Ae.of)(J):He.E))}(C._resolve,C,b,N).pipe((0,mt.U)(J=>(C._resolvedData=J,C.data=Object.assign(Object.assign({},C.data),Pt(C,w).resolve),null)))}(_e.route,N,C,b)),(0,Be.b)(()=>J++),ye(1),(0,zt.zg)(_e=>J===U.length?(0,Ae.of)(w):He.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Be.b)({next:()=>Kt=!0,complete:()=>{Kt||(this.restoreHistory(Ct),this.cancelNavigationTransition(Ct,"At least one route resolver didn't emit any value."))}}))}),(0,Be.b)(Ct=>{const Kt=new kn(Ct.id,this.serializeUrl(Ct.extractedUrl),this.serializeUrl(Ct.urlAfterRedirects),Ct.targetSnapshot);this.triggerEvent(Kt)}))}),Po(ke=>{const{targetSnapshot:Ct,id:Kt,extractedUrl:zn,rawUrl:An,extras:{skipLocationChange:dn,replaceUrl:$n}}=ke;return this.hooks.afterPreactivation(Ct,{navigationId:Kt,appliedUrlTree:zn,rawUrlTree:An,skipLocationChange:!!dn,replaceUrl:!!$n})}),(0,mt.U)(ke=>{const Ct=function(C,b,w){const N=Ke(C,b._root,w?w._root:void 0);return new Ve(N,b)}(this.routeReuseStrategy,ke.targetSnapshot,ke.currentRouterState);return Object.assign(Object.assign({},ke),{targetRouterState:Ct})}),(0,Be.b)(ke=>{this.currentUrlTree=ke.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ke.urlAfterRedirects,ke.rawUrl),this.routerState=ke.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ke.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ke),this.browserUrlTree=ke.urlAfterRedirects)}),((C,b,w)=>(0,mt.U)(N=>(new uo(b,N.targetRouterState,N.currentRouterState,w).activate(C),N)))(this.rootContexts,this.routeReuseStrategy,ke=>this.triggerEvent(ke)),(0,Be.b)({next(){J=!0},complete(){J=!0}}),function(C){return b=>b.lift(new gt(C))}(()=>{if(!J&&!_e){const ke=`Navigation ID ${U.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(U),this.cancelNavigationTransition(U,ke)):this.cancelNavigationTransition(U,ke)}this.currentNavigation=null}),(0,Gt.K)(ke=>{if(_e=!0,function(C){return C&&C[Dr]}(ke)){const Ct=ui(ke.url);Ct||(this.navigated=!0,this.restoreHistory(U,!0));const Kt=new xt(U.id,this.serializeUrl(U.extractedUrl),ke.message);N.next(Kt),Ct?setTimeout(()=>{const zn=this.urlHandlingStrategy.merge(ke.url,this.rawUrlTree),An={skipLocationChange:U.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ki(U.source)};this.scheduleNavigation(zn,"imperative",null,An,{resolve:U.resolve,reject:U.reject,promise:U.promise})},0):U.resolve(!1)}else{this.restoreHistory(U,!0);const Ct=new Wt(U.id,this.serializeUrl(U.extractedUrl),ke);N.next(Ct);try{U.resolve(this.errorHandler(ke))}catch(Kt){U.reject(Kt)}}return He.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}getTransition(){const w=this.transitions.value;return w.urlAfterRedirects=this.browserUrlTree,w}setTransition(w){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),w))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N=this.extractLocationChangeInfoFromEvent(w);this.shouldScheduleNavigation(this.lastLocationChangeInfo,N)&&setTimeout(()=>{const{source:U,state:J,urlTree:_e}=N,ke={replaceUrl:!0};if(J){const Ct=Object.assign({},J);delete Ct.navigationId,delete Ct.\u0275routerPageId,0!==Object.keys(Ct).length&&(ke.state=Ct)}this.scheduleNavigation(_e,U,J,ke)},0),this.lastLocationChangeInfo=N}))}extractLocationChangeInfoFromEvent(w){var N;return{source:"popstate"===w.type?"popstate":"hashchange",urlTree:this.parseUrl(w.url),state:(null===(N=w.state)||void 0===N?void 0:N.navigationId)?w.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(w,N){if(!w)return!0;const U=N.urlTree.toString()===w.urlTree.toString();return N.transitionId!==w.transitionId||!U||!("hashchange"===N.source&&"popstate"===w.source||"popstate"===N.source&&"hashchange"===w.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){rs(w),this.config=w.map(Z),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,N={}){const{relativeTo:U,queryParams:J,fragment:_e,queryParamsHandling:ke,preserveFragment:Ct}=N,Kt=U||this.routerState.root,zn=Ct?this.currentUrlTree.fragment:_e;let An=null;switch(ke){case"merge":An=Object.assign(Object.assign({},this.currentUrlTree.queryParams),J);break;case"preserve":An=this.currentUrlTree.queryParams;break;default:An=J||null}return null!==An&&(An=this.removeEmptyProps(An)),function(C,b,w,N,U){if(0===w.length)return bs(b.root,b.root,b,N,U);const J=function(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new Oo(!0,0,C);let b=0,w=!1;const N=C.reduce((U,J,_e)=>{if("object"==typeof J&&null!=J){if(J.outlets){const ke={};return Ne(J.outlets,(Ct,Kt)=>{ke[Kt]="string"==typeof Ct?Ct.split("/"):Ct}),[...U,{outlets:ke}]}if(J.segmentPath)return[...U,J.segmentPath]}return"string"!=typeof J?[...U,J]:0===_e?(J.split("/").forEach((ke,Ct)=>{0==Ct&&"."===ke||(0==Ct&&""===ke?w=!0:".."===ke?b++:""!=ke&&U.push(ke))}),U):[...U,J]},[]);return new Oo(w,b,N)}(w);if(J.toRoot())return bs(b.root,new _n([],{}),b,N,U);const _e=function(C,b,w){if(C.isAbsolute)return new vi(b.root,!0,0);if(-1===w.snapshot._lastPathIndex){const J=w.snapshot._urlSegment;return new vi(J,J===b.root,0)}const N=lr(C.commands[0])?0:1;return function(C,b,w){let N=C,U=b,J=w;for(;J>U;){if(J-=U,N=N.parent,!N)throw new Error("Invalid number of '../'");U=N.segments.length}return new vi(N,!1,U-J)}(w.snapshot._urlSegment,w.snapshot._lastPathIndex+N,C.numberOfDoubleDots)}(J,b,C),ke=_e.processChildren?Pi(_e.segmentGroup,_e.index,J.commands):oo(_e.segmentGroup,_e.index,J.commands);return bs(_e.segmentGroup,ke,b,N,U)}(Kt,this.currentUrlTree,w,An,null!=zn?zn:null)}navigateByUrl(w,N={skipLocationChange:!1}){const U=ui(w)?w:this.parseUrl(w),J=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(J,"imperative",null,N)}navigate(w,N={skipLocationChange:!1}){return function(C){for(let b=0;b<C.length;b++){const w=C[b];if(null==w)throw new Error(`The requested path contains ${w} segment at index ${b}`)}}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(U){N=this.malformedUriErrorHandler(U,this.urlSerializer,w)}return N}isActive(w,N){let U;if(U=!0===N?Object.assign({},Fo):!1===N?Object.assign({},Ka):N,ui(w))return rn(this.currentUrlTree,w,U);const J=this.parseUrl(w);return rn(this.currentUrlTree,J,U)}removeEmptyProps(w){return Object.keys(w).reduce((N,U)=>{const J=w[U];return null!=J&&(N[U]=J),N},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new wt(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,N,U,J,_e){var ke,Ct;if(this.disposed)return Promise.resolve(!1);const Kt=this.getTransition(),zn=ki(N)&&Kt&&!ki(Kt.source),$n=(this.lastSuccessfulId===Kt.id||this.currentNavigation?Kt.rawUrl:Kt.urlAfterRedirects).toString()===w.toString();if(zn&&$n)return Promise.resolve(!0);let Li,or,Tn;_e?(Li=_e.resolve,or=_e.reject,Tn=_e.promise):Tn=new Promise((Vi,Eo)=>{Li=Vi,or=Eo});const Ns=++this.navigationId;let Ci;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(U=this.location.getState()),Ci=U&&U.\u0275routerPageId?U.\u0275routerPageId:J.replaceUrl||J.skipLocationChange?null!==(ke=this.browserPageId)&&void 0!==ke?ke:0:(null!==(Ct=this.browserPageId)&&void 0!==Ct?Ct:0)+1):Ci=0,this.setTransition({id:Ns,targetPageId:Ci,source:N,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:J,resolve:Li,reject:or,promise:Tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tn.catch(Vi=>Promise.reject(Vi))}setBrowserUrl(w,N){const U=this.urlSerializer.serialize(w),J=Object.assign(Object.assign({},N.extras.state),this.generateNgRouterState(N.id,N.targetPageId));this.location.isCurrentPathEqualTo(U)||N.extras.replaceUrl?this.location.replaceState(U,"",J):this.location.go(U,"",J)}restoreHistory(w,N=!1){var U,J;if("computed"===this.canceledNavigationResolution){const _e=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(U=this.currentNavigation)||void 0===U?void 0:U.finalUrl)||0===_e?this.currentUrlTree===(null===(J=this.currentNavigation)||void 0===J?void 0:J.finalUrl)&&0===_e&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(_e)}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,N){const U=new xt(w.id,this.serializeUrl(w.extractedUrl),N);this.triggerEvent(U),w.resolve(!1)}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}}return C.\u0275fac=function(w){return new(w||C)(R.LFG(R.DyG),R.LFG(si),R.LFG(ta),R.LFG(y.Ye),R.LFG(R.zs3),R.LFG(R.v3s),R.LFG(R.Sil),R.LFG(void 0))},C.\u0275prov=R.Yz7({token:C,factory:C.\u0275fac}),C})();function ki(C){return"imperative"!==C}let Yi=(()=>{class C{constructor(w,N,U,J,_e){this.router=w,this.route=N,this.commands=[],this.onChanges=new Ye.xQ,null==U&&J.setAttribute(_e.nativeElement,"tabindex","0")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:[]}onClick(){const w={skipLocationChange:vo(this.skipLocationChange),replaceUrl:vo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vo(this.preserveFragment)})}}return C.\u0275fac=function(w){return new(w||C)(R.Y36(di),R.Y36(Dt),R.$8M("tabindex"),R.Y36(R.Qsj),R.Y36(R.SBq))},C.\u0275dir=R.lG2({type:C,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,N){1&w&&R.NdJ("click",function(){return N.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[R.TTD]}),C})();function vo(C){return""===C||!!C}let ra=(()=>{class C{constructor(w,N,U,J,_e){this.parentContexts=w,this.location=N,this.resolver=U,this.changeDetector=_e,this.activated=null,this._activatedRoute=null,this.activateEvents=new R.vpe,this.deactivateEvents=new R.vpe,this.name=J||Ft,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;const _e=(N=N||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),ke=this.parentContexts.getOrCreateContext(this.name).children,Ct=new Ur(w,ke,this.location.injector);this.activated=this.location.createComponent(_e,this.location.length,Ct),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return C.\u0275fac=function(w){return new(w||C)(R.Y36(ta),R.Y36(R.s_b),R.Y36(R._Vd),R.$8M("name"),R.Y36(R.sBO))},C.\u0275dir=R.lG2({type:C,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),C})();class Ur{constructor(b,w,N){this.route=b,this.childContexts=w,this.parent=N}get(b,w){return b===Dt?this.route:b===ta?this.childContexts:this.parent.get(b,w)}}class Da{}class Oi{preload(b,w){return(0,Ae.of)(null)}}let Ya=(()=>{class C{constructor(w,N,U,J,_e){this.router=w,this.injector=J,this.preloadingStrategy=_e,this.loader=new bu(N,U,Kt=>w.triggerEvent(new Yt(Kt)),Kt=>w.triggerEvent(new Qt(Kt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Qe.h)(w=>w instanceof wt),(0,on.b)(()=>this.preload())).subscribe(()=>{})}preload(){const w=this.injector.get(R.h0i);return this.processRoutes(w,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const U=[];for(const J of N)if(J.loadChildren&&!J.canLoad&&J._loadedConfig){const _e=J._loadedConfig;U.push(this.processRoutes(_e.module,_e.routes))}else J.loadChildren&&!J.canLoad?U.push(this.preloadConfig(w,J)):J.children&&U.push(this.processRoutes(w,J.children));return(0,oe.D)(U).pipe((0,ve.J)(),(0,mt.U)(J=>{}))}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>(N._loadedConfig?(0,Ae.of)(N._loadedConfig):this.loader.load(w.injector,N)).pipe((0,zt.zg)(J=>(N._loadedConfig=J,this.processRoutes(J.module,J.routes)))))}}return C.\u0275fac=function(w){return new(w||C)(R.LFG(di),R.LFG(R.v3s),R.LFG(R.Sil),R.LFG(R.zs3),R.LFG(Da))},C.\u0275prov=R.Yz7({token:C,factory:C.\u0275fac}),C})(),Ta=(()=>{class C{constructor(w,N,U={}){this.router=w,this.viewportScroller=N,this.options=U,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},U.scrollPositionRestoration=U.scrollPositionRestoration||"disabled",U.anchorScrolling=U.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof ft?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof wt&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Lt&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.router.triggerEvent(new Lt(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return C.\u0275fac=function(w){return new(w||C)(R.LFG(di),R.LFG(y.EM),R.LFG(void 0))},C.\u0275prov=R.Yz7({token:C,factory:C.\u0275fac}),C})();const Rs=new R.OlP("ROUTER_CONFIGURATION"),Zr=new R.OlP("ROUTER_FORROOT_GUARD"),Qa=[y.Ye,{provide:si,useClass:Er},{provide:di,useFactory:function(C,b,w,N,U,J,_e,ke={},Ct,Kt){const zn=new di(null,C,b,w,N,U,J,vt(_e));return Ct&&(zn.urlHandlingStrategy=Ct),Kt&&(zn.routeReuseStrategy=Kt),function(C,b){C.errorHandler&&(b.errorHandler=C.errorHandler),C.malformedUriErrorHandler&&(b.malformedUriErrorHandler=C.malformedUriErrorHandler),C.onSameUrlNavigation&&(b.onSameUrlNavigation=C.onSameUrlNavigation),C.paramsInheritanceStrategy&&(b.paramsInheritanceStrategy=C.paramsInheritanceStrategy),C.relativeLinkResolution&&(b.relativeLinkResolution=C.relativeLinkResolution),C.urlUpdateStrategy&&(b.urlUpdateStrategy=C.urlUpdateStrategy)}(ke,zn),ke.enableTracing&&zn.events.subscribe(An=>{var dn,$n;null===(dn=console.group)||void 0===dn||dn.call(console,`Router Event: ${An.constructor.name}`),console.log(An.toString()),console.log(An),null===($n=console.groupEnd)||void 0===$n||$n.call(console)}),zn},deps:[si,ta,y.Ye,R.zs3,R.v3s,R.Sil,Hr,Rs,[class{},new R.FiY],[class{},new R.FiY]]},ta,{provide:Dt,useFactory:function(C){return C.routerState.root},deps:[di]},{provide:R.v3s,useClass:R.EAV},Ya,Oi,class{preload(b,w){return w().pipe((0,Gt.K)(()=>(0,Ae.of)(null)))}},{provide:Rs,useValue:{enableTracing:!1}}];function Is(){return new R.PXZ("Router",di)}let Aa=(()=>{class C{constructor(w,N){}static forRoot(w,N){return{ngModule:C,providers:[Qa,ko(w),{provide:Zr,useFactory:Ps,deps:[[di,new R.FiY,new R.tp0]]},{provide:Rs,useValue:N||{}},{provide:y.S$,useFactory:Sa,deps:[y.lw,[new R.tBr(y.mr),new R.FiY],Rs]},{provide:Ta,useFactory:ti,deps:[di,y.EM,Rs]},{provide:Da,useExisting:N&&N.preloadingStrategy?N.preloadingStrategy:Oi},{provide:R.PXZ,multi:!0,useFactory:Is},[ni,{provide:R.ip1,multi:!0,useFactory:ia,deps:[ni]},{provide:Dn,useFactory:fn,deps:[ni]},{provide:R.tb,multi:!0,useExisting:Dn}]]}}static forChild(w){return{ngModule:C,providers:[ko(w)]}}}return C.\u0275fac=function(w){return new(w||C)(R.LFG(Zr,8),R.LFG(di,8))},C.\u0275mod=R.oAB({type:C}),C.\u0275inj=R.cJS({}),C})();function ti(C,b,w){return w.scrollOffset&&b.setOffset(w.scrollOffset),new Ta(C,b,w)}function Sa(C,b,w={}){return w.useHash?new y.Do(C,b):new y.b0(C,b)}function Ps(C){return"guarded"}function ko(C){return[{provide:R.deG,multi:!0,useValue:C},{provide:Hr,multi:!0,useValue:C}]}let ni=(()=>{class C{constructor(w){this.injector=w,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ye.xQ}appInitializer(){return this.injector.get(y.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let N=null;const U=new Promise(ke=>N=ke),J=this.injector.get(di),_e=this.injector.get(Rs);return"disabled"===_e.initialNavigation?(J.setUpLocationChangeListener(),N(!0)):"enabled"===_e.initialNavigation||"enabledBlocking"===_e.initialNavigation?(J.hooks.afterPreactivation=()=>this.initNavigation?(0,Ae.of)(null):(this.initNavigation=!0,N(!0),this.resultOfPreactivationDone),J.initialNavigation()):N(!0),U})}bootstrapListener(w){const N=this.injector.get(Rs),U=this.injector.get(Ya),J=this.injector.get(Ta),_e=this.injector.get(di),ke=this.injector.get(R.z2F);w===ke.components[0]&&(("enabledNonBlocking"===N.initialNavigation||void 0===N.initialNavigation)&&_e.initialNavigation(),U.setUpPreloading(),J.init(),_e.resetRootComponentType(ke.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return C.\u0275fac=function(w){return new(w||C)(R.LFG(R.zs3))},C.\u0275prov=R.Yz7({token:C,factory:C.\u0275fac}),C})();function ia(C){return C.appInitializer.bind(C)}function fn(C){return C.bootstrapListener.bind(C)}const Dn=new R.OlP("Router Initializer")},4486:(Pe,de,S)=>{"use strict";S.d(de,{Z:()=>Le});var y=S(3854),R=S(6034),H=S(5452),ge=S(5601);class ee{constructor(Ue,Ce){this._delegate=Ue,this.firebase=Ce,(0,H._addComponent)(Ue,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=Ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this._delegate.automaticDataCollectionEnabled=Ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ue=>{this._delegate.checkDestroyed(),Ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Ue,Ce=H._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const ae=this._delegate.container.getProvider(Ue);return!ae.isInitialized()&&"EXPLICIT"===(null===(Fe=ae.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&ae.initialize(),ae.getImmediate({identifier:Ce})}_removeServiceInstance(Ue,Ce=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ue).clearInstance(Ce)}_addComponent(Ue){(0,H._addComponent)(this._delegate,Ue)}_addOrOverwriteComponent(Ue){(0,H._addOrOverwriteComponent)(this._delegate,Ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function q(){const Ae=function(Ae){const Ue={},Ce={__esModule:!0,initializeApp:function(ye,it={}){const le=H.initializeApp(ye,it);if((0,y.r3)(Ue,le.name))return Ue[le.name];const qe=new Ae(le,Ce);return Ue[le.name]=qe,qe},app:ae,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function(ye){const it=ye.name,le=it.replace("-compat","");if(H._registerComponent(ye)&&"PUBLIC"===ye.type){const qe=(be=ae())=>{if("function"!=typeof be[le])throw ne.create("invalid-app-argument",{appName:it});return be[le]()};void 0!==ye.serviceProps&&(0,y.ZB)(qe,ye.serviceProps),Ce[le]=qe,Ae.prototype[le]=function(...be){return this._getService.bind(this,it).apply(this,ye.multipleInstances?be:[])}}return"PUBLIC"===ye.type?Ce[le]:null},removeApp:function(ye){delete Ue[ye]},useAsService:function(ye,it){return"serverAuth"===it?null:it},modularAPIs:H}};function ae(ye){if(!(0,y.r3)(Ue,ye=ye||H._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:ye});return Ue[ye]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function(){return Object.keys(Ue).map(ye=>Ue[ye])}}),ae.App=Ae,Ce}(ee);return Ae.INTERNAL=Object.assign(Object.assign({},Ae.INTERNAL),{createFirebaseNamespace:q,extendNamespace:function(Ce){(0,y.ZB)(Ae,Ce)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),Ae}(),K=new ge.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ae=self.firebase.SDK_VERSION;Ae&&Ae.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=G;(0,H.registerVersion)("@firebase/app-compat","0.1.4",undefined)},5452:(Pe,de,S)=>{"use strict";S.r(de),S.d(de,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>Re,_DEFAULT_ENTRY_NAME:()=>Vt,_addComponent:()=>tn,_addOrOverwriteComponent:()=>sn,_apps:()=>Tt,_clearComponents:()=>zt,_components:()=>Mt,_getProvider:()=>on,_registerComponent:()=>Gt,_removeServiceInstance:()=>hn,deleteApp:()=>Wt,getApp:()=>wt,getApps:()=>xt,initializeApp:()=>ft,onLog:()=>Rn,registerVersion:()=>It,setLogLevel:()=>Qn});var y=S(4553),R=S(6034),H=S(5601),ge=S(3854);class ee{constructor(Qt){this.container=Qt}getPlatformInfoString(){return this.container.getProviders().map(Cn=>{if(function(Yt){const Qt=Yt.getComponent();return"VERSION"===(null==Qt?void 0:Qt.type)}(Cn)){const xn=Cn.getImmediate();return`${xn.library}/${xn.version}`}return null}).filter(Cn=>Cn).join(" ")}}const ne="@firebase/app",q=new H.Yd("@firebase/app"),Vt="[DEFAULT]",mt={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Tt=new Map,Mt=new Map;function tn(Yt,Qt){try{Yt.container.addComponent(Qt)}catch(Cn){q.debug(`Component ${Qt.name} failed to register with FirebaseApp ${Yt.name}`,Cn)}}function sn(Yt,Qt){Yt.container.addOrOverwriteComponent(Qt)}function Gt(Yt){const Qt=Yt.name;if(Mt.has(Qt))return q.debug(`There were multiple attempts to register component ${Qt}.`),!1;Mt.set(Qt,Yt);for(const Cn of Tt.values())tn(Cn,Yt);return!0}function on(Yt,Qt){return Yt.container.getProvider(Qt)}function hn(Yt,Qt,Cn=Vt){on(Yt,Qt).clearInstance(Cn)}function zt(){Mt.clear()}const je=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class ve{constructor(Qt,Cn,xn){this._isDeleted=!1,this._options=Object.assign({},Qt),this._config=Object.assign({},Cn),this._name=Cn.name,this._automaticDataCollectionEnabled=Cn.automaticDataCollectionEnabled,this._container=xn,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Qt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Qt){this._isDeleted=Qt}checkDestroyed(){if(this.isDeleted)throw je.create("app-deleted",{appName:this._name})}}const Re="9.1.2";function ft(Yt,Qt={}){"object"!=typeof Qt&&(Qt={name:Qt});const Cn=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},Qt),xn=Cn.name;if("string"!=typeof xn||!xn)throw je.create("bad-app-name",{appName:String(xn)});const rr=Tt.get(xn);if(rr){if((0,ge.vZ)(Yt,rr.options)&&(0,ge.vZ)(Cn,rr.config))return rr;throw je.create("duplicate-app",{appName:xn})}const Pn=new R.H0(xn);for(const Ft of Mt.values())Pn.addComponent(Ft);const Lt=new ve(Yt,Cn,Pn);return Tt.set(xn,Lt),Lt}function wt(Yt=Vt){const Qt=Tt.get(Yt);if(!Qt)throw je.create("no-app",{appName:Yt});return Qt}function xt(){return Array.from(Tt.values())}function Wt(Yt){return ln.apply(this,arguments)}function ln(){return(ln=(0,y.Z)(function*(Yt){const Qt=Yt.name;Tt.has(Qt)&&(Tt.delete(Qt),yield Promise.all(Yt.container.getProviders().map(Cn=>Cn.delete())),Yt.isDeleted=!0)})).apply(this,arguments)}function It(Yt,Qt,Cn){var xn;let rr=null!==(xn=mt[Yt])&&void 0!==xn?xn:Yt;Cn&&(rr+=`-${Cn}`);const Pn=rr.match(/\s|\//),Lt=Qt.match(/\s|\//);if(Pn||Lt){const Ft=[`Unable to register library "${rr}" with version "${Qt}":`];return Pn&&Ft.push(`library name "${rr}" contains illegal characters (whitespace or "/")`),Pn&&Lt&&Ft.push("and"),Lt&&Ft.push(`version name "${Qt}" contains illegal characters (whitespace or "/")`),void q.warn(Ft.join(" "))}Gt(new R.wA(`${rr}-version`,()=>({library:rr,version:Qt}),"VERSION"))}function Rn(Yt,Qt){if(null!==Yt&&"function"!=typeof Yt)throw je.create("invalid-log-argument");(0,H.Am)(Yt,Qt)}function Qn(Yt){(0,H.Ub)(Yt)}Gt(new R.wA("platform-logger",Qt=>new ee(Qt),"PRIVATE")),It(ne,"0.7.3",undefined),It("fire-js","")},6034:(Pe,de,S)=>{"use strict";S.d(de,{wA:()=>H,H0:()=>Y,zt:()=>ee});var y=S(4762),R=S(3854),H=function(){function q(G,K,z){this.name=G,this.instanceFactory=K,this.type=z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return q.prototype.setInstantiationMode=function(G){return this.instantiationMode=G,this},q.prototype.setMultipleInstances=function(G){return this.multipleInstances=G,this},q.prototype.setServiceProps=function(G){return this.serviceProps=G,this},q.prototype.setInstanceCreatedCallback=function(G){return this.onInstanceCreated=G,this},q}(),ge="[DEFAULT]",ee=function(){function q(G,K){this.name=G,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return q.prototype.get=function(G){var K=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(K)){var z=new R.BH;if(this.instancesDeferred.set(K,z),this.isInitialized(K)||this.shouldAutoInitialize())try{var oe=this.getOrInitializeService({instanceIdentifier:K});oe&&z.resolve(oe)}catch(He){}}return this.instancesDeferred.get(K).promise},q.prototype.getImmediate=function(G){var K,z=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),oe=null!==(K=null==G?void 0:G.optional)&&void 0!==K&&K;if(!this.isInitialized(z)&&!this.shouldAutoInitialize()){if(oe)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:z})}catch(He){if(oe)return null;throw He}},q.prototype.getComponent=function(){return this.component},q.prototype.setComponent=function(G){var K,z;if(G.name!==this.name)throw Error("Mismatching Component "+G.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=G,this.shouldAutoInitialize()){if(function(q){return"EAGER"===q.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ge})}catch(ae){}try{for(var oe=(0,y.XA)(this.instancesDeferred.entries()),He=oe.next();!He.done;He=oe.next()){var Le=(0,y.CR)(He.value,2),Ue=Le[1],Ce=this.normalizeInstanceIdentifier(Le[0]);try{var Fe=this.getOrInitializeService({instanceIdentifier:Ce});Ue.resolve(Fe)}catch(ae){}}}catch(ae){K={error:ae}}finally{try{He&&!He.done&&(z=oe.return)&&z.call(oe)}finally{if(K)throw K.error}}}},q.prototype.clearInstance=function(G){void 0===G&&(G=ge),this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)},q.prototype.delete=function(){return(0,y.mG)(this,void 0,void 0,function(){var G;return(0,y.Jh)(this,function(K){switch(K.label){case 0:return G=Array.from(this.instances.values()),[4,Promise.all((0,y.ev)((0,y.ev)([],(0,y.CR)(G.filter(function(z){return"INTERNAL"in z}).map(function(z){return z.INTERNAL.delete()}))),(0,y.CR)(G.filter(function(z){return"_delete"in z}).map(function(z){return z._delete()}))))];case 1:return K.sent(),[2]}})})},q.prototype.isComponentSet=function(){return null!=this.component},q.prototype.isInitialized=function(G){return void 0===G&&(G=ge),this.instances.has(G)},q.prototype.getOptions=function(G){return void 0===G&&(G=ge),this.instancesOptions.get(G)||{}},q.prototype.initialize=function(G){var K,z;void 0===G&&(G={});var oe=G.options,He=void 0===oe?{}:oe,Le=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Le))throw Error(this.name+"("+Le+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Ae=this.getOrInitializeService({instanceIdentifier:Le,options:He});try{for(var Ue=(0,y.XA)(this.instancesDeferred.entries()),Ce=Ue.next();!Ce.done;Ce=Ue.next()){var Fe=(0,y.CR)(Ce.value,2),Ye=Fe[1];Le===this.normalizeInstanceIdentifier(Fe[0])&&Ye.resolve(Ae)}}catch(St){K={error:St}}finally{try{Ce&&!Ce.done&&(z=Ue.return)&&z.call(Ue)}finally{if(K)throw K.error}}return Ae},q.prototype.onInit=function(G,K){var z,oe=this.normalizeInstanceIdentifier(K),He=null!==(z=this.onInitCallbacks.get(oe))&&void 0!==z?z:new Set;He.add(G),this.onInitCallbacks.set(oe,He);var Le=this.instances.get(oe);return Le&&G(Le,oe),function(){He.delete(G)}},q.prototype.invokeOnInitCallbacks=function(G,K){var z,oe,He=this.onInitCallbacks.get(K);if(He)try{for(var Le=(0,y.XA)(He),Ae=Le.next();!Ae.done;Ae=Le.next()){var Ue=Ae.value;try{Ue(G,K)}catch(Ce){}}}catch(Ce){z={error:Ce}}finally{try{Ae&&!Ae.done&&(oe=Le.return)&&oe.call(Le)}finally{if(z)throw z.error}}},q.prototype.getOrInitializeService=function(G){var K=G.instanceIdentifier,z=G.options,oe=void 0===z?{}:z,He=this.instances.get(K);if(!He&&this.component&&(He=this.component.instanceFactory(this.container,{instanceIdentifier:$(K),options:oe}),this.instances.set(K,He),this.instancesOptions.set(K,oe),this.invokeOnInitCallbacks(He,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,He)}catch(Le){}return He||null},q.prototype.normalizeInstanceIdentifier=function(G){return void 0===G&&(G=ge),this.component?this.component.multipleInstances?G:ge:G},q.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},q}();function $(q){return q===ge?void 0:q}var Y=function(){function q(G){this.name=G,this.providers=new Map}return q.prototype.addComponent=function(G){var K=this.getProvider(G.name);if(K.isComponentSet())throw new Error("Component "+G.name+" has already been registered with "+this.name);K.setComponent(G)},q.prototype.addOrOverwriteComponent=function(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)},q.prototype.getProvider=function(G){if(this.providers.has(G))return this.providers.get(G);var K=new ee(G,this);return this.providers.set(G,K),K},q.prototype.getProviders=function(){return Array.from(this.providers.values())},q}()},5601:(Pe,de,S)=>{"use strict";S.d(de,{in:()=>R,Yd:()=>ne,Ub:()=>Y,Am:()=>q});const y=[];var R=(()=>{return(G=R||(R={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",R;var G})();const H={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},ge=R.INFO,ee={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},$=(G,K,...z)=>{if(K<G.logLevel)return;const oe=(new Date).toISOString(),He=ee[K];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[He](`[${oe}]  ${G.name}:`,...z)};class ne{constructor(K){this.name=K,this._logLevel=ge,this._logHandler=$,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in R))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?H[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...K),this._logHandler(this,R.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...K),this._logHandler(this,R.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,R.INFO,...K),this._logHandler(this,R.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,R.WARN,...K),this._logHandler(this,R.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...K),this._logHandler(this,R.ERROR,...K)}}function Y(G){y.forEach(K=>{K.setLogLevel(G)})}function q(G,K){for(const z of y){let oe=null;K&&K.level&&(oe=H[K.level]),z.userLogHandler=null===G?null:(He,Le,...Ae)=>{const Ue=Ae.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(Fe){return null}}).filter(Ce=>Ce).join(" ");Le>=(null!=oe?oe:He.logLevel)&&G({level:R[Le].toLowerCase(),message:Ue,args:Ae,type:He.name})}}}},3854:(Pe,de,S)=>{"use strict";S.d(de,{BH:()=>oe,LL:()=>se,ZR:()=>Oe,gQ:()=>xt,zI:()=>qe,hu:()=>R,g5:()=>H,US:()=>$,tV:()=>q,h$:()=>ne,$s:()=>Dr,r3:()=>on,Sg:()=>He,ne:()=>Wt,p$:()=>G,vZ:()=>je,ZB:()=>K,gK:()=>Yt,pd:()=>wt,m9:()=>$r,z$:()=>Le,GJ:()=>Gt,jU:()=>Ce,ru:()=>Fe,d:()=>Ye,xb:()=>zt,w1:()=>Qe,hl:()=>it,uI:()=>Ae,UG:()=>Ue,Yr:()=>lt,b$:()=>ae,G6:()=>ye,Mn:()=>St,w9:()=>sn,cI:()=>Vt,UI:()=>Be,xO:()=>Re,zd:()=>ft,DV:()=>hn,ug:()=>Pn,dS:()=>rr,Pz:()=>mt,Dv:()=>kn,Wj:()=>Cn,lb:()=>xn,eu:()=>le});const R=function(xe,me){if(!xe)throw H(me)},H=function(xe){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+xe)},ge=function(xe){const me=[];let Me=0;for(let vt=0;vt<xe.length;vt++){let tt=xe.charCodeAt(vt);tt<128?me[Me++]=tt:tt<2048?(me[Me++]=tt>>6|192,me[Me++]=63&tt|128):55296==(64512&tt)&&vt+1<xe.length&&56320==(64512&xe.charCodeAt(vt+1))?(tt=65536+((1023&tt)<<10)+(1023&xe.charCodeAt(++vt)),me[Me++]=tt>>18|240,me[Me++]=tt>>12&63|128,me[Me++]=tt>>6&63|128,me[Me++]=63&tt|128):(me[Me++]=tt>>12|224,me[Me++]=tt>>6&63|128,me[Me++]=63&tt|128)}return me},$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(xe,me){if(!Array.isArray(xe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Me=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,vt=[];for(let tt=0;tt<xe.length;tt+=3){const en=xe[tt],Ne=tt+1<xe.length,nt=Ne?xe[tt+1]:0,ut=tt+2<xe.length,$t=ut?xe[tt+2]:0;let Jn=(15&nt)<<2|$t>>6,ir=63&$t;ut||(ir=64,Ne||(Jn=64)),vt.push(Me[en>>2],Me[(3&en)<<4|nt>>4],Me[Jn],Me[ir])}return vt.join("")},encodeString(xe,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(xe):this.encodeByteArray(ge(xe),me)},decodeString(xe,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(xe):function(xe){const me=[];let Me=0,vt=0;for(;Me<xe.length;){const tt=xe[Me++];if(tt<128)me[vt++]=String.fromCharCode(tt);else if(tt>191&&tt<224){const en=xe[Me++];me[vt++]=String.fromCharCode((31&tt)<<6|63&en)}else if(tt>239&&tt<365){const ut=((7&tt)<<18|(63&xe[Me++])<<12|(63&xe[Me++])<<6|63&xe[Me++])-65536;me[vt++]=String.fromCharCode(55296+(ut>>10)),me[vt++]=String.fromCharCode(56320+(1023&ut))}else{const en=xe[Me++],Ne=xe[Me++];me[vt++]=String.fromCharCode((15&tt)<<12|(63&en)<<6|63&Ne)}}return me.join("")}(this.decodeStringToByteArray(xe,me))},decodeStringToByteArray(xe,me){this.init_();const Me=me?this.charToByteMapWebSafe_:this.charToByteMap_,vt=[];for(let tt=0;tt<xe.length;){const en=Me[xe.charAt(tt++)],nt=tt<xe.length?Me[xe.charAt(tt)]:0;++tt;const $t=tt<xe.length?Me[xe.charAt(tt)]:64;++tt;const rn=tt<xe.length?Me[xe.charAt(tt)]:64;if(++tt,null==en||null==nt||null==$t||null==rn)throw Error();vt.push(en<<2|nt>>4),64!==$t&&(vt.push(nt<<4&240|$t>>2),64!==rn&&vt.push($t<<6&192|rn))}return vt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let xe=0;xe<this.ENCODED_VALS.length;xe++)this.byteToCharMap_[xe]=this.ENCODED_VALS.charAt(xe),this.charToByteMap_[this.byteToCharMap_[xe]]=xe,this.byteToCharMapWebSafe_[xe]=this.ENCODED_VALS_WEBSAFE.charAt(xe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[xe]]=xe,xe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(xe)]=xe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(xe)]=xe)}}},ne=function(xe){const me=ge(xe);return $.encodeByteArray(me,!0)},Y=function(xe){return ne(xe).replace(/\./g,"")},q=function(xe){try{return $.decodeString(xe,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function G(xe){return K(void 0,xe)}function K(xe,me){if(!(me instanceof Object))return me;switch(me.constructor){case Date:return new Date(me.getTime());case Object:void 0===xe&&(xe={});break;case Array:xe=[];break;default:return me}for(const Me in me)!me.hasOwnProperty(Me)||!z(Me)||(xe[Me]=K(xe[Me],me[Me]));return xe}function z(xe){return"__proto__"!==xe}class oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((me,Me)=>{this.resolve=me,this.reject=Me})}wrapCallback(me){return(Me,vt)=>{Me?this.reject(Me):this.resolve(vt),"function"==typeof me&&(this.promise.catch(()=>{}),1===me.length?me(Me):me(Me,vt))}}}function He(xe,me){if(xe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const vt=me||"demo-project",tt=xe.iat||0,en=xe.sub||xe.user_id;if(!en)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${vt}`,aud:vt,iat:tt,exp:tt+3600,auth_time:tt,sub:en,user_id:en,firebase:{sign_in_provider:"custom",identities:{}}},xe);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(Ne)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Ue(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(xe){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function Fe(){const xe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof xe&&void 0!==xe.id}function ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){return Le().indexOf("Electron/")>=0}function Qe(){const xe=Le();return xe.indexOf("MSIE ")>=0||xe.indexOf("Trident/")>=0}function St(){return Le().indexOf("MSAppHost/")>=0}function lt(){return!1}function ye(){return!Ue()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function it(){return"object"==typeof indexedDB}function le(){return new Promise((xe,me)=>{try{let Me=!0;const vt="validate-browser-context-for-indexeddb-analytics-module",tt=self.indexedDB.open(vt);tt.onsuccess=()=>{tt.result.close(),Me||self.indexedDB.deleteDatabase(vt),xe(!0)},tt.onupgradeneeded=()=>{Me=!1},tt.onerror=()=>{var en;me((null===(en=tt.error)||void 0===en?void 0:en.message)||"")}}catch(Me){me(Me)}})}function qe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Oe extends Error{constructor(me,Me,vt){super(Me),this.code=me,this.customData=vt,this.name="FirebaseError",Object.setPrototypeOf(this,Oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,se.prototype.create)}}class se{constructor(me,Me,vt){this.service=me,this.serviceName=Me,this.errors=vt}create(me,...Me){const vt=Me[0]||{},tt=`${this.service}/${me}`,en=this.errors[me],Ne=en?function(xe,me){return xe.replace(gt,(Me,vt)=>{const tt=me[vt];return null!=tt?String(tt):`<${vt}?>`})}(en,vt):"Error";return new Oe(tt,`${this.serviceName}: ${Ne} (${tt}).`,vt)}}const gt=/\{\$([^}]+)}/g;function Vt(xe){return JSON.parse(xe)}function mt(xe){return JSON.stringify(xe)}const Tt=function(xe){let me={},Me={},vt={},tt="";try{const en=xe.split(".");me=Vt(q(en[0])||""),Me=Vt(q(en[1])||""),tt=en[2],vt=Me.d||{},delete Me.d}catch(en){}return{header:me,claims:Me,data:vt,signature:tt}},sn=function(xe){const Me=Tt(xe).claims;return!!Me&&"object"==typeof Me&&Me.hasOwnProperty("iat")},Gt=function(xe){const me=Tt(xe).claims;return"object"==typeof me&&!0===me.admin};function on(xe,me){return Object.prototype.hasOwnProperty.call(xe,me)}function hn(xe,me){if(Object.prototype.hasOwnProperty.call(xe,me))return xe[me]}function zt(xe){for(const me in xe)if(Object.prototype.hasOwnProperty.call(xe,me))return!1;return!0}function Be(xe,me,Me){const vt={};for(const tt in xe)Object.prototype.hasOwnProperty.call(xe,tt)&&(vt[tt]=me.call(Me,xe[tt],tt,xe));return vt}function je(xe,me){if(xe===me)return!0;const Me=Object.keys(xe),vt=Object.keys(me);for(const tt of Me){if(!vt.includes(tt))return!1;const en=xe[tt],Ne=me[tt];if(ve(en)&&ve(Ne)){if(!je(en,Ne))return!1}else if(en!==Ne)return!1}for(const tt of vt)if(!Me.includes(tt))return!1;return!0}function ve(xe){return null!==xe&&"object"==typeof xe}function Re(xe){const me=[];for(const[Me,vt]of Object.entries(xe))Array.isArray(vt)?vt.forEach(tt=>{me.push(encodeURIComponent(Me)+"="+encodeURIComponent(tt))}):me.push(encodeURIComponent(Me)+"="+encodeURIComponent(vt));return me.length?"&"+me.join("&"):""}function ft(xe){const me={};return xe.replace(/^\?/,"").split("&").forEach(vt=>{if(vt){const[tt,en]=vt.split("=");me[decodeURIComponent(tt)]=decodeURIComponent(en)}}),me}function wt(xe){const me=xe.indexOf("?");if(!me)return"";const Me=xe.indexOf("#",me);return xe.substring(me,Me>0?Me:void 0)}class xt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let me=1;me<this.blockSize;++me)this.pad_[me]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(me,Me){Me||(Me=0);const vt=this.W_;if("string"==typeof me)for(let rn=0;rn<16;rn++)vt[rn]=me.charCodeAt(Me)<<24|me.charCodeAt(Me+1)<<16|me.charCodeAt(Me+2)<<8|me.charCodeAt(Me+3),Me+=4;else for(let rn=0;rn<16;rn++)vt[rn]=me[Me]<<24|me[Me+1]<<16|me[Me+2]<<8|me[Me+3],Me+=4;for(let rn=16;rn<80;rn++){const Jn=vt[rn-3]^vt[rn-8]^vt[rn-14]^vt[rn-16];vt[rn]=4294967295&(Jn<<1|Jn>>>31)}let $t,En,tt=this.chain_[0],en=this.chain_[1],Ne=this.chain_[2],nt=this.chain_[3],ut=this.chain_[4];for(let rn=0;rn<80;rn++){rn<40?rn<20?($t=nt^en&(Ne^nt),En=1518500249):($t=en^Ne^nt,En=1859775393):rn<60?($t=en&Ne|nt&(en|Ne),En=2400959708):($t=en^Ne^nt,En=3395469782);const Jn=(tt<<5|tt>>>27)+$t+ut+En+vt[rn]&4294967295;ut=nt,nt=Ne,Ne=4294967295&(en<<30|en>>>2),en=tt,tt=Jn}this.chain_[0]=this.chain_[0]+tt&4294967295,this.chain_[1]=this.chain_[1]+en&4294967295,this.chain_[2]=this.chain_[2]+Ne&4294967295,this.chain_[3]=this.chain_[3]+nt&4294967295,this.chain_[4]=this.chain_[4]+ut&4294967295}update(me,Me){if(null==me)return;void 0===Me&&(Me=me.length);const vt=Me-this.blockSize;let tt=0;const en=this.buf_;let Ne=this.inbuf_;for(;tt<Me;){if(0===Ne)for(;tt<=vt;)this.compress_(me,tt),tt+=this.blockSize;if("string"==typeof me){for(;tt<Me;)if(en[Ne]=me.charCodeAt(tt),++Ne,++tt,Ne===this.blockSize){this.compress_(en),Ne=0;break}}else for(;tt<Me;)if(en[Ne]=me[tt],++Ne,++tt,Ne===this.blockSize){this.compress_(en),Ne=0;break}}this.inbuf_=Ne,this.total_+=Me}digest(){const me=[];let Me=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let tt=this.blockSize-1;tt>=56;tt--)this.buf_[tt]=255&Me,Me/=256;this.compress_(this.buf_);let vt=0;for(let tt=0;tt<5;tt++)for(let en=24;en>=0;en-=8)me[vt]=this.chain_[tt]>>en&255,++vt;return me}}function Wt(xe,me){const Me=new ln(xe,me);return Me.subscribe.bind(Me)}class ln{constructor(me,Me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Me,this.task.then(()=>{me(this)}).catch(vt=>{this.error(vt)})}next(me){this.forEachObserver(Me=>{Me.next(me)})}error(me){this.forEachObserver(Me=>{Me.error(me)}),this.close(me)}complete(){this.forEachObserver(me=>{me.complete()}),this.close()}subscribe(me,Me,vt){let tt;if(void 0===me&&void 0===Me&&void 0===vt)throw new Error("Missing Observer.");tt=function(xe,me){if("object"!=typeof xe||null===xe)return!1;for(const Me of["next","error","complete"])if(Me in xe&&"function"==typeof xe[Me])return!0;return!1}(me)?me:{next:me,error:Me,complete:vt},void 0===tt.next&&(tt.next=Qn),void 0===tt.error&&(tt.error=Qn),void 0===tt.complete&&(tt.complete=Qn);const en=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?tt.error(this.finalError):tt.complete()}catch(Ne){}}),this.observers.push(tt),en}unsubscribeOne(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(me){if(!this.finalized)for(let Me=0;Me<this.observers.length;Me++)this.sendOne(Me,me)}sendOne(me,Me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[me])try{Me(this.observers[me])}catch(vt){"undefined"!=typeof console&&console.error&&console.error(vt)}})}close(me){this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qn(){}const kn=function(xe,me,Me,vt){let tt;if(vt<me?tt="at least "+me:vt>Me&&(tt=0===Me?"none":"no more than "+Me),tt)throw new Error(xe+" failed: Was called with "+vt+(1===vt?" argument.":" arguments.")+" Expects "+tt+".")};function Yt(xe,me){return`${xe} failed: ${me} argument `}function Cn(xe,me,Me,vt){if((!vt||Me)&&"function"!=typeof Me)throw new Error(Yt(xe,me)+"must be a valid function.")}function xn(xe,me,Me,vt){if((!vt||Me)&&("object"!=typeof Me||null===Me))throw new Error(Yt(xe,me)+"must be a valid context object.")}const rr=function(xe){const me=[];let Me=0;for(let vt=0;vt<xe.length;vt++){let tt=xe.charCodeAt(vt);if(tt>=55296&&tt<=56319){const en=tt-55296;vt++,R(vt<xe.length,"Surrogate pair missing trail surrogate."),tt=65536+(en<<10)+(xe.charCodeAt(vt)-56320)}tt<128?me[Me++]=tt:tt<2048?(me[Me++]=tt>>6|192,me[Me++]=63&tt|128):tt<65536?(me[Me++]=tt>>12|224,me[Me++]=tt>>6&63|128,me[Me++]=63&tt|128):(me[Me++]=tt>>18|240,me[Me++]=tt>>12&63|128,me[Me++]=tt>>6&63|128,me[Me++]=63&tt|128)}return me},Pn=function(xe){let me=0;for(let Me=0;Me<xe.length;Me++){const vt=xe.charCodeAt(Me);vt<128?me++:vt<2048?me+=2:vt>=55296&&vt<=56319?(me+=4,Me++):me+=3}return me};function Dr(xe,me=1e3,Me=2){const vt=me*Math.pow(Me,xe),tt=Math.round(.5*vt*(Math.random()-.5)*2);return Math.min(144e5,vt+tt)}function $r(xe){return xe&&xe._delegate?xe._delegate:xe}},9341:(Pe,de,S)=>{"use strict";S.d(de,{eX:()=>zt,sQ:()=>xe,GW:()=>fe,l4:()=>Be});var y=S(64),R=S(6682),H=S(7574),ge=S(9765),ee=S(7393);class ne{call(nt,ut){return ut.subscribe(new Y(nt))}}class Y extends ee.L{_next(nt){}}var q=S(3098);class K{call(nt,ut){return ut.subscribe(new z(nt))}}class z extends ee.L{constructor(nt){super(nt)}_next(nt){this.destination.next(q.P.createNext(nt))}_error(nt){const ut=this.destination;ut.next(q.P.createError(nt)),ut.complete()}_complete(){const nt=this.destination;nt.next(q.P.createComplete()),nt.complete()}}var oe=S(8002),He=S(5372),Le=S(5345);function Ae(Ne,nt){return nt?ut=>ut.pipe(Ae(($t,En)=>(0,He.D)(Ne($t,En)).pipe((0,oe.U)((rn,Jn)=>nt($t,rn,En,Jn))))):ut=>ut.lift(new Ue(Ne))}class Ue{constructor(nt){this.project=nt}call(nt,ut){return ut.subscribe(new Ce(nt,this.project))}}class Ce extends Le.Ds{constructor(nt,ut){super(nt),this.project=ut,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(nt){this.hasSubscription||this.tryNext(nt)}tryNext(nt){let ut;const $t=this.index++;try{ut=this.project(nt,$t)}catch(En){return void this.destination.error(En)}this.hasSubscription=!0,this._innerSub(ut)}_innerSub(nt){const ut=new Le.IY(this),$t=this.destination;$t.add(ut);const En=(0,Le.ft)(nt,ut);En!==ut&&$t.add(En)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(nt){this.destination.next(nt)}notifyError(nt){this.destination.error(nt)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class ae{call(nt,ut){return ut.subscribe(new Ye(nt))}}class Ye extends ee.L{constructor(nt){super(nt)}_next(nt){nt.observe(this.destination)}}var Qe=S(5304),St=S(5435),lt=S(304),ye=S(9773),it=S(5257),le=S(4788);const qe={dispatch:!0,useEffectsErrorHandler:!0},be="__@ngrx/effects_create__";function fe(Ne,nt){const ut=Ne(),$t=Object.assign(Object.assign({},qe),nt);return Object.defineProperty(ut,be,{value:$t}),ut}function Oe(Ne){return Object.getOwnPropertyNames(Ne).filter($t=>!(!Ne[$t]||!Ne[$t].hasOwnProperty(be))&&Ne[$t][be].hasOwnProperty("dispatch")).map($t=>Object.assign({propertyName:$t},Ne[$t][be]))}function se(Ne){return Object.getPrototypeOf(Ne)}const et="__@ngrx/effects__";function Vt(Ne){return(0,y.qC)(Mt,se)(Ne)}function Mt(Ne){return function(Ne){return Ne.constructor.hasOwnProperty(et)}(Ne)?Ne.constructor[et]:[]}function Gt(Ne,nt,ut){const $t=se(Ne).constructor.name,En=function(Ne){return[Vt,Oe].reduce((ut,$t)=>ut.concat($t(Ne)),[])}(Ne).map(({propertyName:rn,dispatch:Jn,useEffectsErrorHandler:ir})=>{const mr="function"==typeof Ne[rn]?Ne[rn]():Ne[rn],yr=ir?ut(mr,nt):mr;return!1===Jn?yr.pipe(function(nt){return nt.lift(new ne)}):yr.pipe(function(nt){return nt.lift(new K)}).pipe((0,oe.U)(vr=>({effect:Ne[rn],notification:vr,propertyName:rn,sourceName:$t,sourceInstance:Ne})))});return(0,R.T)(...En)}function hn(Ne,nt,ut=10){return Ne.pipe((0,Qe.K)($t=>(nt&&nt.handleError($t),ut<=1?Ne:hn(Ne,nt,ut-1))))}let zt=(()=>{class Ne extends H.y{constructor(ut){super(),ut&&(this.source=ut)}lift(ut){const $t=new Ne;return $t.source=this,$t.operator=ut,$t}}return Ne.\u0275fac=function(ut){return new(ut||Ne)(le.LFG(y.Y$))},Ne.\u0275prov=le.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();function Be(...Ne){return(0,St.h)(nt=>Ne.some(ut=>"string"==typeof ut?ut===nt.type:ut.type===nt.type))}function Rn(Ne){return Qn(Ne,"ngrxOnInitEffects")}function Qn(Ne,nt){return Ne&&nt in Ne&&"function"==typeof Ne[nt]}const kn=new le.OlP("@ngrx/effects Internal Root Guard"),Yt=new le.OlP("@ngrx/effects User Provided Effects"),Qt=new le.OlP("@ngrx/effects Internal Root Effects"),Cn=new le.OlP("@ngrx/effects Root Effects"),xn=new le.OlP("@ngrx/effects Internal Feature Effects"),rr=new le.OlP("@ngrx/effects Feature Effects"),Pn=new le.OlP("@ngrx/effects Effects Error Handler");let Lt=(()=>{class Ne extends ge.xQ{constructor(ut,$t){super(),this.errorHandler=ut,this.effectsErrorHandler=$t}addEffects(ut){this.next(ut)}toActions(){return this.pipe((0,lt.v)(se),(0,ye.zg)(ut=>ut.pipe((0,lt.v)(Ft))),(0,ye.zg)(ut=>{const $t=ut.pipe(Ae(rn=>function(Ne,nt){return ut=>{const $t=Gt(ut,Ne,nt);return function(Ne){return Qn(Ne,"ngrxOnRunEffects")}(ut)?ut.ngrxOnRunEffects($t):$t}}(this.errorHandler,this.effectsErrorHandler)(rn)),(0,oe.U)(rn=>(function(Ne,nt){if("N"===Ne.notification.kind){const ut=Ne.notification.value;!function(Ne){return"function"!=typeof Ne&&Ne&&Ne.type&&"string"==typeof Ne.type}(ut)&&nt.handleError(new Error(`Effect ${function({propertyName:Ne,sourceInstance:nt,sourceName:ut}){const $t="function"==typeof nt[Ne];return`"${ut}.${String(Ne)}${$t?"()":""}"`}(Ne)} dispatched an invalid action: ${function(Ne){try{return JSON.stringify(Ne)}catch(nt){return Ne}}(ut)}`))}}(rn,this.errorHandler),rn.notification)),(0,St.h)(rn=>"N"===rn.kind&&null!=rn.value),function(nt){return nt.lift(new ae)}),En=ut.pipe((0,it.q)(1),(0,St.h)(Rn),(0,oe.U)(rn=>rn.ngrxOnInitEffects()));return(0,R.T)($t,En)}))}}return Ne.\u0275fac=function(ut){return new(ut||Ne)(le.LFG(le.qLn),le.LFG(Pn))},Ne.\u0275prov=le.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();function Ft(Ne){return function(Ne){return Qn(Ne,"ngrxOnIdentifyEffects")}(Ne)?Ne.ngrxOnIdentifyEffects():""}let hr=(()=>{class Ne{constructor(ut,$t){this.effectSources=ut,this.store=$t,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return Ne.\u0275fac=function(ut){return new(ut||Ne)(le.LFG(Lt),le.LFG(y.yh))},Ne.\u0275prov=le.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const Dr="@ngrx/effects/init";(0,y.PH)(Dr);let cr=(()=>{class Ne{constructor(ut,$t,En,rn,Jn,ir,mr){this.sources=ut,$t.start(),rn.forEach(yr=>ut.addEffects(yr)),En.dispatch({type:Dr})}addEffects(ut){this.sources.addEffects(ut)}}return Ne.\u0275fac=function(ut){return new(ut||Ne)(le.LFG(Lt),le.LFG(hr),le.LFG(y.yh),le.LFG(Cn),le.LFG(y.cr,8),le.LFG(y.CK,8),le.LFG(kn,8))},Ne.\u0275mod=le.oAB({type:Ne}),Ne.\u0275inj=le.cJS({}),Ne})(),$r=(()=>{class Ne{constructor(ut,$t,En,rn){$t.forEach(Jn=>Jn.forEach(ir=>ut.addEffects(ir)))}}return Ne.\u0275fac=function(ut){return new(ut||Ne)(le.LFG(cr),le.LFG(rr),le.LFG(y.cr,8),le.LFG(y.CK,8))},Ne.\u0275mod=le.oAB({type:Ne}),Ne.\u0275inj=le.cJS({}),Ne})(),xe=(()=>{class Ne{static forFeature(ut=[]){return{ngModule:$r,providers:[ut,{provide:xn,multi:!0,useValue:ut},{provide:Yt,multi:!0,useValue:[]},{provide:rr,multi:!0,useFactory:me,deps:[le.zs3,xn,Yt]}]}}static forRoot(ut=[]){return{ngModule:cr,providers:[{provide:Pn,useValue:hn},hr,Lt,zt,ut,{provide:Qt,useValue:[ut]},{provide:kn,useFactory:vt,deps:[[hr,new le.FiY,new le.tp0],[Qt,new le.PiD]]},{provide:Yt,multi:!0,useValue:[]},{provide:Cn,useFactory:me,deps:[le.zs3,Qt,Yt]}]}}}return Ne.\u0275fac=function(ut){return new(ut||Ne)},Ne.\u0275mod=le.oAB({type:Ne}),Ne.\u0275inj=le.cJS({}),Ne})();function me(Ne,nt,ut){const $t=[];for(const En of nt)$t.push(...En);for(const En of ut)$t.push(...En);return function(Ne,nt){return nt.map(ut=>Ne.get(ut))}(Ne,$t)}function vt(Ne,nt){if((1!==nt.length||0!==nt[0].length)&&Ne)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}},3607:(Pe,de,S)=>{"use strict";S.d(de,{H:()=>K});var y=S(64),R=S(4788),$=(()=>{return(oe=$||($={}))[oe.EntitiesOnly=0]="EntitiesOnly",oe[oe.Both=1]="Both",oe[oe.None=2]="None",$;var oe})();function ne(oe){return function(Le,Ae){const Ue={ids:[...Ae.ids],entities:Object.assign({},Ae.entities)},Ce=oe(Le,Ue);return Ce===$.Both?Object.assign({},Ae,Ue):Ce===$.EntitiesOnly?Object.assign(Object.assign({},Ae),{entities:Ue.entities}):Ae}}function Y(oe,He){const Le=He(oe);return(0,R.X6Q)()&&void 0===Le&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",oe,"The `selectId` implementation:",He.toString()),Le}function q(oe){function He(be,fe){const Oe=Y(be,oe);return Oe in fe.entities?$.None:(fe.ids.push(Oe),fe.entities[Oe]=be,$.Both)}function Le(be,fe){let Oe=!1;for(const se of be)Oe=He(se,fe)!==$.None||Oe;return Oe?$.Both:$.None}function Ue(be,fe){const Oe=Y(be,oe);return Oe in fe.entities?(fe.entities[Oe]=be,$.EntitiesOnly):(fe.ids.push(Oe),fe.entities[Oe]=be,$.Both)}function ae(be,fe){const se=(be instanceof Array?be:fe.ids.filter(et=>be(fe.entities[et]))).filter(et=>et in fe.entities).map(et=>delete fe.entities[et]).length>0;return se&&(fe.ids=fe.ids.filter(et=>et in fe.entities)),se?$.Both:$.None}function St(be,fe){return lt([be],fe)}function lt(be,fe){const Oe={};return(be=be.filter(et=>et.id in fe.entities)).length>0?be.filter(gt=>function(be,fe,Oe){const et=Object.assign({},Oe.entities[fe.id],fe.changes),gt=Y(et,oe),Vt=gt!==fe.id;return Vt&&(be[fe.id]=gt,delete Oe.entities[fe.id]),Oe.entities[gt]=et,Vt}(Oe,gt,fe)).length>0?(fe.ids=fe.ids.map(gt=>Oe[gt]||gt),$.Both):$.EntitiesOnly:$.None}function qe(be,fe){const Oe=[],se=[];for(const Vt of be){const mt=Y(Vt,oe);mt in fe.entities?se.push({id:mt,changes:Vt}):Oe.push(Vt)}const et=lt(se,fe),gt=Le(Oe,fe);switch(!0){case gt===$.None&&et===$.None:return $.None;case gt===$.Both||et===$.Both:return $.Both;default:return $.EntitiesOnly}}return{removeAll:function(be){return Object.assign({},be,{ids:[],entities:{}})},addOne:ne(He),addMany:ne(Le),setAll:ne(function(be,fe){return fe.ids=[],fe.entities={},Le(be,fe),$.Both}),setOne:ne(Ue),setMany:ne(function(be,fe){const Oe=be.map(se=>Ue(se,fe));switch(!0){case Oe.some(se=>se===$.Both):return $.Both;case Oe.some(se=>se===$.EntitiesOnly):return $.EntitiesOnly;default:return $.None}}),updateOne:ne(St),updateMany:ne(lt),upsertOne:ne(function(be,fe){return qe([be],fe)}),upsertMany:ne(qe),removeOne:ne(function(be,fe){return ae([be],fe)}),removeMany:ne(ae),map:ne(function(be,fe){return lt(fe.ids.reduce((et,gt)=>{const Vt=be(fe.entities[gt]);return Vt!==fe.entities[gt]&&et.push({id:gt,changes:Vt}),et},[]).filter(({id:et})=>et in fe.entities),fe)}),mapOne:ne(function({map:be,id:fe},Oe){const se=Oe.entities[fe];return se?St({id:fe,changes:be(se)},Oe):$.None})}}function K(oe={}){const{selectId:He,sortComparer:Le}=Object.assign({sortComparer:!1,selectId:Fe=>Fe.id},oe),Ae={getInitialState:function(He={}){return Object.assign({ids:[],entities:{}},He)}},Ue={getSelectors:function(He){const Le=Fe=>Fe.ids,Ae=Fe=>Fe.entities,Ue=(0,y.P1)(Le,Ae,(Fe,ae)=>Fe.map(Ye=>ae[Ye])),Ce=(0,y.P1)(Le,Fe=>Fe.length);return He?{selectIds:(0,y.P1)(He,Le),selectEntities:(0,y.P1)(He,Ae),selectAll:(0,y.P1)(He,Ue),selectTotal:(0,y.P1)(He,Ce)}:{selectIds:Le,selectEntities:Ae,selectAll:Ue,selectTotal:Ce}}},Ce=Le?function(oe,He){const{removeOne:Le,removeMany:Ae,removeAll:Ue}=q(oe);function Ce(Oe,se){return Fe([Oe],se)}function Fe(Oe,se){const et=Oe.filter(gt=>!(Y(gt,oe)in se.entities));return 0===et.length?$.None:(fe(et,se),$.Both)}function Ye(Oe,se){const et=Y(Oe,oe);return et in se.entities?(se.ids=se.ids.filter(gt=>gt!==et),fe([Oe],se),$.Both):Ce(Oe,se)}function St(Oe,se){return ye([Oe],se)}function ye(Oe,se){const et=[],gt=Oe.filter(Vt=>function(Oe,se,et){if(!(se.id in et.entities))return!1;const Vt=Object.assign({},et.entities[se.id],se.changes),mt=Y(Vt,oe);return delete et.entities[se.id],Oe.push(Vt),mt!==se.id}(et,Vt,se)).length>0;if(0===et.length)return $.None;{const Vt=se.ids,mt=[];return se.ids=se.ids.filter((Tt,Mt)=>Tt in se.entities||(mt.push(Mt),!1)),fe(et,se),!gt&&mt.every(Tt=>se.ids[Tt]===Vt[Tt])?$.EntitiesOnly:$.Both}}function be(Oe,se){const et=[],gt=[];for(const Tt of Oe){const Mt=Y(Tt,oe);Mt in se.entities?gt.push({id:Mt,changes:Tt}):et.push(Tt)}const Vt=ye(gt,se),mt=Fe(et,se);switch(!0){case mt===$.None&&Vt===$.None:return $.None;case mt===$.Both||Vt===$.Both:return $.Both;default:return $.EntitiesOnly}}function fe(Oe,se){Oe.sort(He);const et=[];let gt=0,Vt=0;for(;gt<Oe.length&&Vt<se.ids.length;){const mt=Oe[gt],Tt=Y(mt,oe),Mt=se.ids[Vt];He(mt,se.entities[Mt])<=0?(et.push(Tt),gt++):(et.push(Mt),Vt++)}se.ids=et.concat(gt<Oe.length?Oe.slice(gt).map(oe):se.ids.slice(Vt)),Oe.forEach((mt,Tt)=>{se.entities[oe(mt)]=mt})}return{removeOne:Le,removeMany:Ae,removeAll:Ue,addOne:ne(Ce),updateOne:ne(St),upsertOne:ne(function(Oe,se){return be([Oe],se)}),setAll:ne(function(Oe,se){return se.entities={},se.ids=[],Fe(Oe,se),$.Both}),setOne:ne(Ye),setMany:ne(function(Oe,se){const et=Oe.map(gt=>Ye(gt,se));switch(!0){case et.some(gt=>gt===$.Both):return $.Both;case et.some(gt=>gt===$.EntitiesOnly):return $.EntitiesOnly;default:return $.None}}),addMany:ne(Fe),updateMany:ne(ye),upsertMany:ne(be),map:ne(function(Oe,se){return ye(se.ids.reduce((gt,Vt)=>{const mt=Oe(se.entities[Vt]);return mt!==se.entities[Vt]&&gt.push({id:Vt,changes:mt}),gt},[]),se)}),mapOne:ne(function({map:Oe,id:se},et){const gt=et.entities[se];return gt?St({id:se,changes:Oe(gt)},et):$.None})}}(He,Le):q(He);return Object.assign(Object.assign(Object.assign({selectId:He,sortComparer:Le},Ae),Ue),Ce)}},9596:(Pe,de,S)=>{"use strict";S.d(de,{Qi:()=>ye});var y=S(64),R=S(4788),H=S(7716),ge=S(7057);const ee="@ngrx/router-store/request",ne=((0,y.PH)(ee,(0,y.Ky)()),"@ngrx/router-store/navigation"),q=((0,y.PH)(ne,(0,y.Ky)()),"@ngrx/router-store/cancel"),K=((0,y.PH)(q,(0,y.Ky)()),"@ngrx/router-store/error"),oe=((0,y.PH)(K,(0,y.Ky)()),"@ngrx/router-store/navigated");(0,y.PH)(oe,(0,y.Ky)());class Ae{}class Ue{serialize(Oe){return{root:this.serializeRoute(Oe.root),url:Oe.url}}serializeRoute(Oe){const se=Oe.children.map(et=>this.serializeRoute(et));return{params:Oe.params,paramMap:Oe.paramMap,data:Oe.data,url:Oe.url,outlet:Oe.outlet,routeConfig:Oe.routeConfig?{component:Oe.routeConfig.component,path:Oe.routeConfig.path,pathMatch:Oe.routeConfig.pathMatch,redirectTo:Oe.routeConfig.redirectTo,outlet:Oe.routeConfig.outlet}:null,queryParams:Oe.queryParams,queryParamMap:Oe.queryParamMap,fragment:Oe.fragment,component:Oe.routeConfig?Oe.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:se[0],pathFromRoot:void 0,children:se}}}class Ce{serialize(Oe){return{root:this.serializeRoute(Oe.root),url:Oe.url}}serializeRoute(Oe){const se=Oe.children.map(et=>this.serializeRoute(et));return{params:Oe.params,data:Oe.data,url:Oe.url,outlet:Oe.outlet,routeConfig:Oe.routeConfig?{path:Oe.routeConfig.path,pathMatch:Oe.routeConfig.pathMatch,redirectTo:Oe.routeConfig.redirectTo,outlet:Oe.routeConfig.outlet}:null,queryParams:Oe.queryParams,fragment:Oe.fragment,firstChild:se[0],children:se}}}var Fe=(()=>{return(fe=Fe||(Fe={}))[fe.PreActivation=1]="PreActivation",fe[fe.PostActivation=2]="PostActivation",Fe;var fe})();const ae=new R.OlP("@ngrx/router-store Internal Configuration"),Ye=new R.OlP("@ngrx/router-store Configuration");function St(fe){return Object.assign({stateKey:"router",serializer:Ce,navigationActionTiming:Fe.PreActivation},fe)}var lt=(()=>{return(fe=lt||(lt={}))[fe.NONE=1]="NONE",fe[fe.ROUTER=2]="ROUTER",fe[fe.STORE=3]="STORE",lt;var fe})();let ye=(()=>{class fe{constructor(se,et,gt,Vt,mt,Tt){this.store=se,this.router=et,this.serializer=gt,this.errorHandler=Vt,this.config=mt,this.activeRuntimeChecks=Tt,this.lastEvent=null,this.routerState=null,this.trigger=lt.NONE,this.stateKey=this.config.stateKey,!(0,y.rM)()&&(0,R.X6Q)()&&((null==Tt?void 0:Tt.strictActionSerializability)||(null==Tt?void 0:Tt.strictStateSerializability))&&this.serializer instanceof Ue&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the DefaultRouterStateSerializer. The default serializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer. This also applies to Ivy with immutability runtime checks."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}static forRoot(se={}){return{ngModule:fe,providers:[{provide:ae,useValue:se},{provide:Ye,useFactory:St,deps:[ae]},{provide:Ae,useClass:se.serializer?se.serializer:0===se.routerState?Ue:Ce}]}}setUpStoreStateListener(){this.store.pipe((0,y.Ys)(this.stateKey),(0,ge.M)(this.store)).subscribe(([se,et])=>{this.navigateIfNeeded(se,et)})}navigateIfNeeded(se,et){if(!se||!se.state||this.trigger===lt.ROUTER||this.lastEvent instanceof H.OD)return;const gt=se.state.url;(function(fe,Oe){return le(fe)===le(Oe)})(this.router.url,gt)||(this.storeState=et,this.trigger=lt.STORE,this.router.navigateByUrl(gt).catch(Vt=>{this.errorHandler.handleError(Vt)}))}setUpRouterEventsListener(){const se=this.config.navigationActionTiming===Fe.PostActivation;let et;this.router.events.pipe((0,ge.M)(this.store)).subscribe(([gt,Vt])=>{this.lastEvent=gt,gt instanceof H.OD?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==lt.STORE&&(this.storeState=Vt,this.dispatchRouterRequest(gt))):gt instanceof H.R9?(et=gt,!se&&this.trigger!==lt.STORE&&this.dispatchRouterNavigation(gt)):gt instanceof H.gk?(this.dispatchRouterCancel(gt),this.reset()):gt instanceof H.Q3?(this.dispatchRouterError(gt),this.reset()):gt instanceof H.m2&&(this.trigger!==lt.STORE&&(se&&this.dispatchRouterNavigation(et),this.dispatchRouterNavigated(gt)),this.reset())})}dispatchRouterRequest(se){this.dispatchRouterAction(ee,{event:se})}dispatchRouterNavigation(se){const et=this.serializer.serialize(se.state);this.dispatchRouterAction(ne,{routerState:et,event:new H.R9(se.id,se.url,se.urlAfterRedirects,et)})}dispatchRouterCancel(se){this.dispatchRouterAction(q,{storeState:this.storeState,event:se})}dispatchRouterError(se){this.dispatchRouterAction(K,{storeState:this.storeState,event:new H.Q3(se.id,se.url,`${se}`)})}dispatchRouterNavigated(se){const et=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(oe,{event:se,routerState:et})}dispatchRouterAction(se,et){this.trigger=lt.ROUTER;try{this.store.dispatch({type:se,payload:Object.assign(Object.assign({routerState:this.routerState},et),{event:0===this.config.routerState?et.event:{id:et.event.id,url:et.event.url,urlAfterRedirects:et.event.urlAfterRedirects}})})}finally{this.trigger=lt.NONE}}reset(){this.trigger=lt.NONE,this.storeState=null,this.routerState=null}}return fe.\u0275fac=function(se){return new(se||fe)(R.LFG(y.yh),R.LFG(H.F0),R.LFG(Ae),R.LFG(R.qLn),R.LFG(Ye),R.LFG(y.hg))},fe.\u0275mod=R.oAB({type:fe}),fe.\u0275inj=R.cJS({}),fe})();function le(fe){return fe.length>0&&"/"===fe[fe.length-1]?fe.substring(0,fe.length-1):fe}},3706:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4788),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(64),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9193),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7574),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5917),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6682),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7771),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(8229),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8819),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5435),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8002),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4612),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1483),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4395),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5304),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5257),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6782),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3190),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3653),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(9746),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7057),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2145);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Pe){const de={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},S="function"==typeof Pe?Pe():Pe,H=Object.assign({},de,{features:S.features||!!S.logOnly&&{pause:!0,export:!0,test:!0}||de.features},S);if(H.maxAge&&H.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${H.maxAge}`);return H}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(de,S){if(this.action=de,this.timestamp=S,this.type=PERFORM_ACTION,void 0===de.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(de){this.timestamp=de,this.type=RESET}}class Rollback{constructor(de){this.timestamp=de,this.type=ROLLBACK}}class Commit{constructor(de){this.timestamp=de,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(de){this.id=de,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(de,S,y=!0){this.start=de,this.end=S,this.active=y,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(de){this.index=de,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(de){this.actionId=de,this.type=JUMP_TO_ACTION}}class ImportState{constructor(de){this.nextLiftedState=de,this.type=IMPORT_STATE}}class LockChanges{constructor(de){this.status=de,this.type=LOCK_CHANGES}}class PauseRecording{constructor(de){this.status=de,this.type=PAUSE_RECORDING}}let DevtoolsDispatcher=(()=>{class Pe extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Pe.\u0275fac=function(){let de;return function(y){return(de||(de=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Pe)))(y||Pe)}}(),Pe.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();function difference(Pe,de){return Pe.filter(S=>de.indexOf(S)<0)}function unliftState(Pe){const{computedStates:de,currentStateIndex:S}=Pe;if(S>=de.length){const{state:R}=de[de.length-1];return R}const{state:y}=de[S];return y}function unliftAction(Pe){return Pe.actionsById[Pe.nextActionId-1]}function liftAction(Pe){return new PerformAction(Pe,+Date.now())}function sanitizeActions(Pe,de){return Object.keys(de).reduce((S,y)=>{const R=Number(y);return S[R]=sanitizeAction(Pe,de[R],R),S},{})}function sanitizeAction(Pe,de,S){return Object.assign(Object.assign({},de),{action:Pe(de.action,S)})}function sanitizeStates(Pe,de){return de.map((S,y)=>({state:sanitizeState(Pe,S.state,y),error:S.error}))}function sanitizeState(Pe,de,S){return Pe(de,S)}function shouldFilterActions(Pe){return Pe.predicate||Pe.actionsSafelist||Pe.actionsBlocklist}function filterLiftedState(Pe,de,S,y){const R=[],H={},ge=[];return Pe.stagedActionIds.forEach((ee,$)=>{const ne=Pe.actionsById[ee];!ne||$&&isActionFiltered(Pe.computedStates[$],ne,de,S,y)||(H[ee]=ne,R.push(ee),ge.push(Pe.computedStates[$]))}),Object.assign(Object.assign({},Pe),{stagedActionIds:R,actionsById:H,computedStates:ge})}function isActionFiltered(Pe,de,S,y,R){const H=S&&!S(Pe,de.action),ge=y&&!de.action.type.match(y.map($=>escapeRegExp($)).join("|")),ee=R&&de.action.type.match(R.map($=>escapeRegExp($)).join("|"));return H||ge||ee}function escapeRegExp(Pe){return Pe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Pe,de,S){this.config=de,this.dispatcher=S,this.devtoolsExtension=Pe,this.createActionStreams()}notify(Pe,de){if(this.devtoolsExtension)if(Pe.type===PERFORM_ACTION){if(de.isLocked||de.isPaused)return;const S=unliftState(de);if(shouldFilterActions(this.config)&&isActionFiltered(S,Pe,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const y=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,S,de.currentStateIndex):S,R=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Pe,de.nextActionId):Pe;this.sendToReduxDevtools(()=>this.extensionConnection.send(R,y))}else{const S=Object.assign(Object.assign({},de),{stagedActionIds:de.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,de.actionsById):de.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,de.computedStates):de.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,S,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Pe=>{const de=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=de,de.init(),de.subscribe(S=>Pe.next(S)),de.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Pe=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),de=Pe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.START)),S=Pe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.STOP)),y=Pe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ee=>this.unwrapAction(ee.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(ee=>ee.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)($=>$.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>ee),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(ee)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(ee))),H=Pe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ee=>this.unwrapAction(ee.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S)),ge=y.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S));this.start$=de.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>H)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ge))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Pe){var de;const S={name:Pe.name,features:Pe.features,serialize:Pe.serialize,autoPause:null!==(de=Pe.autoPause)&&void 0!==de&&de};return!1!==Pe.maxAge&&(S.maxAge=Pe.maxAge),S}sendToReduxDevtools(Pe){try{Pe()}catch(de){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",de)}}}return DevtoolsExtension.\u0275fac=function(de){return new(de||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Pe,de,S,y,R){if(y)return{state:S,error:"Interrupted by an error up the chain"};let ge,H=S;try{H=Pe(S,de)}catch(ee){ge=ee.toString(),R.handleError(ee)}return{state:H,error:ge}}function recomputeStates(Pe,de,S,y,R,H,ge,ee,$){if(de>=Pe.length&&Pe.length===H.length)return Pe;const ne=Pe.slice(0,de),Y=H.length-($?1:0);for(let q=de;q<Y;q++){const G=H[q],K=R[G].action,z=ne[q-1],oe=z?z.state:y,He=z?z.error:void 0,Ae=ge.indexOf(G)>-1?z:computeNextEntry(S,K,oe,He,ee);ne.push(Ae)}return $&&ne.push(Pe[Pe.length-1]),ne}function liftInitialState(Pe,de){return{monitorState:de(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Pe,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Pe,de,S,y,R={}){return H=>(ge,ee)=>{let{monitorState:$,actionsById:ne,nextActionId:Y,stagedActionIds:q,skippedActionIds:G,committedState:K,currentStateIndex:z,computedStates:oe,isLocked:He,isPaused:Le}=ge||de;function Ae(Fe){let ae=Fe,Ye=q.slice(1,ae+1);for(let Qe=0;Qe<Ye.length;Qe++){if(oe[Qe+1].error){ae=Qe,Ye=q.slice(1,ae+1);break}delete ne[Ye[Qe]]}G=G.filter(Qe=>-1===Ye.indexOf(Qe)),q=[0,...q.slice(ae+1)],K=oe[ae].state,oe=oe.slice(ae),z=z>ae?z-ae:0}function Ue(){ne={0:liftAction(INIT_ACTION)},Y=1,q=[0],G=[],K=oe[z].state,z=0,oe=[]}ge||(ne=Object.create(ne));let Ce=0;switch(ee.type){case LOCK_CHANGES:He=ee.status,Ce=1/0;break;case PAUSE_RECORDING:Le=ee.status,Le?(q=[...q,Y],ne[Y]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),Y++,Ce=q.length-1,oe=oe.concat(oe[oe.length-1]),z===q.length-2&&z++,Ce=1/0):Ue();break;case RESET:ne={0:liftAction(INIT_ACTION)},Y=1,q=[0],G=[],K=Pe,z=0,oe=[];break;case COMMIT:Ue();break;case ROLLBACK:ne={0:liftAction(INIT_ACTION)},Y=1,q=[0],G=[],z=0,oe=[];break;case TOGGLE_ACTION:{const{id:Fe}=ee;G=-1===G.indexOf(Fe)?[Fe,...G]:G.filter(Ye=>Ye!==Fe),Ce=q.indexOf(Fe);break}case SET_ACTIONS_ACTIVE:{const{start:Fe,end:ae,active:Ye}=ee,Qe=[];for(let St=Fe;St<ae;St++)Qe.push(St);G=Ye?difference(G,Qe):[...G,...Qe],Ce=q.indexOf(Fe);break}case JUMP_TO_STATE:z=ee.index,Ce=1/0;break;case JUMP_TO_ACTION:{const Fe=q.indexOf(ee.actionId);-1!==Fe&&(z=Fe),Ce=1/0;break}case SWEEP:q=difference(q,G),G=[],z=Math.min(z,q.length-1);break;case PERFORM_ACTION:{if(He)return ge||de;if(Le||ge&&isActionFiltered(ge.computedStates[z],ee,R.predicate,R.actionsSafelist,R.actionsBlocklist)){const ae=oe[oe.length-1];oe=[...oe.slice(0,-1),computeNextEntry(H,ee.action,ae.state,ae.error,S)],Ce=1/0;break}R.maxAge&&q.length===R.maxAge&&Ae(1),z===q.length-1&&z++;const Fe=Y++;ne[Fe]=ee,q=[...q,Fe],Ce=q.length-1;break}case IMPORT_STATE:({monitorState:$,actionsById:ne,nextActionId:Y,stagedActionIds:q,skippedActionIds:G,committedState:K,currentStateIndex:z,computedStates:oe,isLocked:He,isPaused:Le}=ee.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Ce=0,R.maxAge&&q.length>R.maxAge&&(oe=recomputeStates(oe,Ce,H,K,ne,q,G,S,Le),Ae(q.length-R.maxAge),Ce=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(oe.filter(ae=>ae.error).length>0)Ce=0,R.maxAge&&q.length>R.maxAge&&(oe=recomputeStates(oe,Ce,H,K,ne,q,G,S,Le),Ae(q.length-R.maxAge),Ce=1/0);else{if(!Le&&!He){z===q.length-1&&z++;const ae=Y++;ne[ae]=new PerformAction(ee,+Date.now()),q=[...q,ae],Ce=q.length-1,oe=recomputeStates(oe,Ce,H,K,ne,q,G,S,Le)}oe=oe.map(ae=>Object.assign(Object.assign({},ae),{state:H(ae.state,RECOMPUTE_ACTION)})),z=q.length-1,R.maxAge&&q.length>R.maxAge&&Ae(q.length-R.maxAge),Ce=1/0}break;default:Ce=1/0}return oe=recomputeStates(oe,Ce,H,K,ne,q,G,S,Le),$=y($,ee),{monitorState:$,actionsById:ne,nextActionId:Y,stagedActionIds:q,skippedActionIds:G,committedState:K,currentStateIndex:z,computedStates:oe,isLocked:He,isPaused:Le}}}let StoreDevtools=(()=>{class Pe{constructor(S,y,R,H,ge,ee,$,ne){const Y=liftInitialState($,ne.monitor),q=liftReducerWith($,Y,ee,ne.monitor,ne),G=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(y.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),H.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),S,H.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),K=R.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(q)),z=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),oe=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(K),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Ue},[Ce,Fe])=>{let ae=Fe(Ue,Ce);return Ce.type!==PERFORM_ACTION&&shouldFilterActions(ne)&&(ae=filterLiftedState(ae,ne.predicate,ne.actionsSafelist,ne.actionsBlocklist)),H.notify(Ce,ae),{state:ae,action:Ce}},{state:Y,action:null})).subscribe(({state:Ue,action:Ce})=>{z.next(Ue),Ce.type===PERFORM_ACTION&&ge.next(Ce.action)}),He=H.start$.subscribe(()=>{this.refresh()}),Le=z.asObservable(),Ae=Le.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=He,this.stateSubscription=oe,this.dispatcher=S,this.liftedState=Le,this.state=Ae}dispatch(S){this.dispatcher.next(S)}next(S){this.dispatcher.next(S)}error(S){}complete(){}performAction(S){this.dispatch(new PerformAction(S,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(S){this.dispatch(new ToggleAction(S))}jumpToAction(S){this.dispatch(new JumpToAction(S))}jumpToState(S){this.dispatch(new JumpToState(S))}importState(S){this.dispatch(new ImportState(S))}lockChanges(S){this.dispatch(new LockChanges(S))}pauseRecording(S){this.dispatch(new PauseRecording(S))}}return Pe.\u0275fac=function(S){return new(S||Pe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Pe.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Pe,de){return Boolean(Pe)||de.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Pe="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[Pe]?window[Pe]:null}function createStateObservable(Pe){return Pe.state}let StoreDevtoolsModule=(()=>{class Pe{static instrument(S={}){return{ngModule:Pe,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:S},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return Pe.\u0275fac=function(S){return new(S||Pe)},Pe.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Pe}),Pe.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Pe})()},64:(Pe,de,S)=>{"use strict";S.d(de,{hg:()=>Gt,UO:()=>ae,qg:()=>Fe,Y6:()=>lt,mK:()=>ft,n$:()=>Re,Y$:()=>ln,FR:()=>Rn,yh:()=>Qt,CK:()=>_i,Aw:()=>Mi,cr:()=>Wn,wb:()=>wt,qC:()=>Be,PH:()=>Le,ZF:()=>mr,Lq:()=>ai,P1:()=>rn,rM:()=>Ne,on:()=>Ri,Ky:()=>Ae,Ys:()=>xn});var y=S(4788),R=S(6215),H=S(7574),ge=S(9765),ee=S(7771),$=S(8002),q=S(9746),G=S(7057),K=S(2145),z=S(7519);const oe={};function Le(Ee,rt){if(oe[Ee]=(oe[Ee]||0)+1,"function"==typeof rt)return Ce(Ee,(...ct)=>Object.assign(Object.assign({},rt(...ct)),{type:Ee}));switch(rt?rt._as:"empty"){case"empty":return Ce(Ee,()=>({type:Ee}));case"props":return Ce(Ee,ct=>Object.assign(Object.assign({},ct),{type:Ee}));default:throw new Error("Unexpected config.")}}function Ae(){return{_as:"props",_p:void 0}}function Ce(Ee,rt){return Object.defineProperty(rt,"type",{value:Ee,writable:!1})}const Fe="@ngrx/store/init";let ae=(()=>{class Ee extends R.X{constructor(){super({type:Fe})}next(Xe){if("function"==typeof Xe)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===Xe)throw new TypeError("Actions must be objects");if(void 0===Xe.type)throw new TypeError("Actions must have a type property");super.next(Xe)}complete(){}ngOnDestroy(){super.complete()}}return Ee.\u0275fac=function(Xe){return new(Xe||Ee)},Ee.\u0275prov=y.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Ye=[ae],Qe=new y.OlP("@ngrx/store Internal Root Guard"),St=new y.OlP("@ngrx/store Internal Initial State"),lt=new y.OlP("@ngrx/store Initial State"),ye=new y.OlP("@ngrx/store Reducer Factory"),it=new y.OlP("@ngrx/store Internal Reducer Factory Provider"),le=new y.OlP("@ngrx/store Initial Reducers"),qe=new y.OlP("@ngrx/store Internal Initial Reducers"),be=new y.OlP("@ngrx/store Store Features"),fe=new y.OlP("@ngrx/store Internal Store Reducers"),Oe=new y.OlP("@ngrx/store Internal Feature Reducers"),se=new y.OlP("@ngrx/store Internal Feature Configs"),et=new y.OlP("@ngrx/store Internal Store Features"),gt=new y.OlP("@ngrx/store Internal Feature Reducers Token"),Vt=new y.OlP("@ngrx/store Feature Reducers"),mt=new y.OlP("@ngrx/store User Provided Meta Reducers"),Tt=new y.OlP("@ngrx/store Meta Reducers"),Mt=new y.OlP("@ngrx/store Internal Resolved Meta Reducers"),tn=new y.OlP("@ngrx/store User Runtime Checks Config"),sn=new y.OlP("@ngrx/store Internal User Runtime Checks Config"),Gt=new y.OlP("@ngrx/store Internal Runtime Checks"),on=new y.OlP("@ngrx/store Check if Action types are unique");function hn(Ee,rt={}){const Xe=Object.keys(Ee),ct={};for(let Ut=0;Ut<Xe.length;Ut++){const Ve=Xe[Ut];"function"==typeof Ee[Ve]&&(ct[Ve]=Ee[Ve])}const Rt=Object.keys(ct);return function(Ve,ze){Ve=void 0===Ve?rt:Ve;let ot=!1;const Dt={};for(let Pt=0;Pt<Rt.length;Pt++){const nn=Rt[Pt],In=Ve[nn],qn=(0,ct[nn])(In,ze);Dt[nn]=qn,ot=ot||qn!==In}return ot?Dt:Ve}}function Be(...Ee){return function(rt){if(0===Ee.length)return rt;const Xe=Ee[Ee.length-1];return Ee.slice(0,-1).reduceRight((Rt,Ut)=>Ut(Rt),Xe(rt))}}function je(Ee,rt){return Array.isArray(rt)&&rt.length>0&&(Ee=Be.apply(null,[...rt,Ee])),(Xe,ct)=>{const Rt=Ee(Xe);return(Ut,Ve)=>Rt(Ut=void 0===Ut?ct:Ut,Ve)}}class Re extends H.y{}class ft extends ae{}const wt="@ngrx/store/update-reducers";let xt=(()=>{class Ee extends R.X{constructor(Xe,ct,Rt,Ut){super(Ut(Rt,ct)),this.dispatcher=Xe,this.initialState=ct,this.reducers=Rt,this.reducerFactory=Ut}get currentReducers(){return this.reducers}addFeature(Xe){this.addFeatures([Xe])}addFeatures(Xe){const ct=Xe.reduce((Rt,{reducers:Ut,reducerFactory:Ve,metaReducers:ze,initialState:ot,key:Dt})=>{const Pt="function"==typeof Ut?function(Ee){const rt=Array.isArray(Ee)&&Ee.length>0?Be(...Ee):Xe=>Xe;return(Xe,ct)=>(Xe=rt(Xe),(Rt,Ut)=>Xe(Rt=void 0===Rt?ct:Rt,Ut))}(ze)(Ut,ot):je(Ve,ze)(Ut,ot);return Rt[Dt]=Pt,Rt},{});this.addReducers(ct)}removeFeature(Xe){this.removeFeatures([Xe])}removeFeatures(Xe){this.removeReducers(Xe.map(ct=>ct.key))}addReducer(Xe,ct){this.addReducers({[Xe]:ct})}addReducers(Xe){this.reducers=Object.assign(Object.assign({},this.reducers),Xe),this.updateReducers(Object.keys(Xe))}removeReducer(Xe){this.removeReducers([Xe])}removeReducers(Xe){Xe.forEach(ct=>{this.reducers=function(Ee,rt){return Object.keys(Ee).filter(Xe=>Xe!==rt).reduce((Xe,ct)=>Object.assign(Xe,{[ct]:Ee[ct]}),{})}(this.reducers,ct)}),this.updateReducers(Xe)}updateReducers(Xe){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:wt,features:Xe})}ngOnDestroy(){this.complete()}}return Ee.\u0275fac=function(Xe){return new(Xe||Ee)(y.LFG(ft),y.LFG(lt),y.LFG(le),y.LFG(ye))},Ee.\u0275prov=y.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Wt=[xt,{provide:Re,useExisting:xt},{provide:ft,useExisting:ae}];let ln=(()=>{class Ee extends ge.xQ{ngOnDestroy(){this.complete()}}return Ee.\u0275fac=function(){let rt;return function(ct){return(rt||(rt=y.n5z(Ee)))(ct||Ee)}}(),Ee.\u0275prov=y.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const It=[ln];class Rn extends H.y{}let Qn=(()=>{class Ee extends R.X{constructor(Xe,ct,Rt,Ut){super(Ut);const Dt=Xe.pipe((0,q.QV)(ee.N)).pipe((0,G.M)(ct)).pipe((0,K.R)(kn,{state:Ut}));this.stateSubscription=Dt.subscribe(({state:Pt,action:nn})=>{this.next(Pt),Rt.next(nn)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return Ee.\u0275fac=function(Xe){return new(Xe||Ee)(y.LFG(ae),y.LFG(Re),y.LFG(ln),y.LFG(lt))},Ee.\u0275prov=y.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee.INIT=Fe,Ee})();function kn(Ee={state:void 0},[rt,Xe]){const{state:ct}=Ee;return{state:Xe(ct,rt),action:rt}}const Yt=[Qn,{provide:Rn,useExisting:Qn}];let Qt=(()=>{class Ee extends H.y{constructor(Xe,ct,Rt){super(),this.actionsObserver=ct,this.reducerManager=Rt,this.source=Xe}select(Xe,...ct){return xn.call(null,Xe,...ct)(this)}lift(Xe){const ct=new Ee(this,this.actionsObserver,this.reducerManager);return ct.operator=Xe,ct}dispatch(Xe){this.actionsObserver.next(Xe)}next(Xe){this.actionsObserver.next(Xe)}error(Xe){this.actionsObserver.error(Xe)}complete(){this.actionsObserver.complete()}addReducer(Xe,ct){this.reducerManager.addReducer(Xe,ct)}removeReducer(Xe){this.reducerManager.removeReducer(Xe)}}return Ee.\u0275fac=function(Xe){return new(Xe||Ee)(y.LFG(Rn),y.LFG(ae),y.LFG(xt))},Ee.\u0275prov=y.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Cn=[Qt];function xn(Ee,rt,...Xe){return function(Rt){let Ut;if("string"==typeof Ee){const Ve=[rt,...Xe].filter(Boolean);Ut=Rt.pipe(function(...Ee){const rt=Ee.length;if(0===rt)throw new Error("list of properties cannot be empty.");return Xe=>(0,$.U)(function(Ee,rt){return ct=>{let Rt=ct;for(let Ut=0;Ut<rt;Ut++){const Ve=null!=Rt?Rt[Ee[Ut]]:void 0;if(void 0===Ve)return;Rt=Ve}return Rt}}(Ee,rt))(Xe)}(Ee,...Ve))}else{if("function"!=typeof Ee)throw new TypeError(`Unexpected type '${typeof Ee}' in select operator, expected 'string' or 'function'`);Ut=Rt.pipe((0,$.U)(Ve=>Ee(Ve,rt)))}return Ut.pipe((0,z.x)())}}const Pn="https://ngrx.io/guide/store/configuration/runtime-checks";function Lt(Ee){return void 0===Ee}function Ft(Ee){return null===Ee}function Mr(Ee){return Array.isArray(Ee)}function cr(Ee){return"object"==typeof Ee&&null!==Ee}function me(Ee){return"function"==typeof Ee}function Ne(){return false}function nt(Ee,rt){return Ee===rt}function ut(Ee,rt,Xe){for(let ct=0;ct<Ee.length;ct++)if(!Xe(Ee[ct],rt[ct]))return!0;return!1}function En(Ee,rt=nt,Xe=nt){let Ut,ct=null,Rt=null;return{memoized:function(){if(void 0!==Ut)return Ut.result;if(!ct)return Rt=Ee.apply(null,arguments),ct=arguments,Rt;if(!ut(arguments,ct,rt))return Rt;const Pt=Ee.apply(null,arguments);return ct=arguments,Xe(Rt,Pt)?Rt:(Rt=Pt,Pt)},reset:function(){ct=null,Rt=null},setResult:function(Pt){Ut={result:Pt}},clearResult:function(){Ut=void 0}}}function rn(...Ee){return function(Ee,rt={stateFn:Jn}){return function(...Xe){let ct=Xe;if(Array.isArray(ct[0])){const[Pt,...nn]=ct;ct=[...Pt,...nn]}const Rt=ct.slice(0,ct.length-1),Ut=ct[ct.length-1],Ve=Rt.filter(Pt=>Pt.release&&"function"==typeof Pt.release),ze=Ee(function(...Pt){return Ut.apply(null,Pt)}),ot=En(function(Pt,nn){return rt.stateFn.apply(null,[Pt,Rt,nn,ze])});return Object.assign(ot.memoized,{release:function(){ot.reset(),ze.reset(),Ve.forEach(Pt=>Pt.release())},projector:ze.memoized,setResult:ot.setResult,clearResult:ot.clearResult})}}(En)(...Ee)}function Jn(Ee,rt,Xe,ct){if(void 0===Xe){const Ut=rt.map(Ve=>Ve(Ee));return ct.memoized.apply(null,Ut)}const Rt=rt.map(Ut=>Ut(Ee,Xe));return ct.memoized.apply(null,[...Rt,Xe])}function mr(Ee){return rn(rt=>{const Xe=rt[Ee];return(0,y.X6Q)()&&!(Ee in rt)&&console.warn(`@ngrx/store: The feature name "${Ee}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Ee}', ...) or StoreModule.forFeature('${Ee}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Xe},rt=>rt)}function _n(Ee){Object.freeze(Ee);const rt=me(Ee);return Object.getOwnPropertyNames(Ee).forEach(Xe=>{if(!Xe.startsWith("\u0275")&&function(Ee,rt){return Object.prototype.hasOwnProperty.call(Ee,rt)}(Ee,Xe)&&(!rt||"caller"!==Xe&&"callee"!==Xe&&"arguments"!==Xe)){const ct=Ee[Xe];(cr(ct)||me(ct))&&!Object.isFrozen(ct)&&_n(ct)}}),Ee}function Xn(Ee,rt=[]){return(Lt(Ee)||Ft(Ee))&&0===rt.length?{path:["root"],value:Ee}:Object.keys(Ee).reduce((ct,Rt)=>{if(ct)return ct;const Ut=Ee[Rt];return function(Ee){return me(Ee)&&Ee.hasOwnProperty("\u0275cmp")}(Ut)?ct:!(Lt(Ut)||Ft(Ut)||function(Ee){return"number"==typeof Ee}(Ut)||function(Ee){return"boolean"==typeof Ee}(Ut)||function(Ee){return"string"==typeof Ee}(Ut)||Mr(Ut))&&(function(Ee){if(!function(Ee){return cr(Ee)&&!Mr(Ee)}(Ee))return!1;const rt=Object.getPrototypeOf(Ee);return rt===Object.prototype||null===rt}(Ut)?Xn(Ut,[...rt,Rt]):{path:[...rt,Rt],value:Ut})},!1)}function Gn(Ee,rt){if(!1===Ee)return;const Xe=Ee.path.join("."),ct=new Error(`Detected unserializable ${rt} at "${Xe}". ${Pn}#strict${rt}serializability`);throw ct.value=Ee.value,ct.unserializablePath=Xe,ct}function si(Ee){return(0,y.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},Ee):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Er({strictActionSerializability:Ee,strictStateSerializability:rt}){return Xe=>Ee||rt?function(Ee,rt){return function(Xe,ct){rt.action(ct)&&Gn(Xn(ct),"action");const Rt=Ee(Xe,ct);return rt.state()&&Gn(Xn(Rt),"state"),Rt}}(Xe,{action:ct=>Ee&&!bn(ct),state:()=>rt}):Xe}function qt({strictActionImmutability:Ee,strictStateImmutability:rt}){return Xe=>Ee||rt?function(Ee,rt){return function(Xe,ct){const Rt=rt.action(ct)?_n(ct):ct,Ut=Ee(Xe,Rt);return rt.state()?_n(Ut):Ut}}(Xe,{action:ct=>Ee&&!bn(ct),state:()=>rt}):Xe}function bn(Ee){return Ee.type.startsWith("@ngrx")}function Vn({strictActionWithinNgZone:Ee}){return rt=>Ee?function(Ee,rt){return function(Xe,ct){if(rt.action(ct)&&!y.R0b.isInAngularZone())throw new Error(`Action '${ct.type}' running outside NgZone. ${Pn}#strictactionwithinngzone`);return Ee(Xe,ct)}}(rt,{action:Xe=>Ee&&!bn(Xe)}):rt}function pr(Ee){return[{provide:sn,useValue:Ee},{provide:tn,useFactory:Nn,deps:[sn]},{provide:Gt,deps:[tn],useFactory:si},{provide:Tt,multi:!0,deps:[Gt],useFactory:qt},{provide:Tt,multi:!0,deps:[Gt],useFactory:Er},{provide:Tt,multi:!0,deps:[Gt],useFactory:Vn}]}function wn(){return[{provide:on,multi:!0,deps:[Gt],useFactory:br}]}function Nn(Ee){return Ee}function br(Ee){if(!Ee.strictActionTypeUniqueness)return;const rt=Object.entries(oe).filter(([,Xe])=>Xe>1).map(([Xe])=>Xe);if(rt.length)throw new Error(`Action types are registered more than once, ${rt.map(Xe=>`"${Xe}"`).join(", ")}. ${Pn}#strictactiontypeuniqueness`)}let Wn=(()=>{class Ee{constructor(Xe,ct,Rt,Ut,Ve,ze){}}return Ee.\u0275fac=function(Xe){return new(Xe||Ee)(y.LFG(ae),y.LFG(Re),y.LFG(ln),y.LFG(Qt),y.LFG(Qe,8),y.LFG(on,8))},Ee.\u0275mod=y.oAB({type:Ee}),Ee.\u0275inj=y.cJS({}),Ee})(),_i=(()=>{class Ee{constructor(Xe,ct,Rt,Ut,Ve){this.features=Xe,this.featureReducers=ct,this.reducerManager=Rt;const ze=Xe.map((ot,Dt)=>{const nn=ct.shift()[Dt];return Object.assign(Object.assign({},ot),{reducers:nn,initialState:ur(ot.initialState)})});Rt.addFeatures(ze)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return Ee.\u0275fac=function(Xe){return new(Xe||Ee)(y.LFG(et),y.LFG(Vt),y.LFG(xt),y.LFG(Wn),y.LFG(on,8))},Ee.\u0275mod=y.oAB({type:Ee}),Ee.\u0275inj=y.cJS({}),Ee})(),Mi=(()=>{class Ee{static forRoot(Xe,ct={}){return{ngModule:Wn,providers:[{provide:Qe,useFactory:Pr,deps:[[Qt,new y.FiY,new y.tp0]]},{provide:St,useValue:ct.initialState},{provide:lt,useFactory:ur,deps:[St]},{provide:qe,useValue:Xe},{provide:fe,useExisting:Xe instanceof y.OlP?Xe:qe},{provide:le,deps:[y.zs3,qe,[new y.tBr(fe)]],useFactory:vn},{provide:mt,useValue:ct.metaReducers?ct.metaReducers:[]},{provide:Mt,deps:[Tt,mt],useFactory:Ai},{provide:it,useValue:ct.reducerFactory?ct.reducerFactory:hn},{provide:ye,deps:[it,Mt],useFactory:je},Ye,Wt,It,Yt,Cn,pr(ct.runtimeChecks),wn()]}}static forFeature(Xe,ct,Rt={}){return{ngModule:_i,providers:[{provide:se,multi:!0,useValue:Xe instanceof Object?{}:Rt},{provide:be,multi:!0,useValue:{key:Xe instanceof Object?Xe.name:Xe,reducerFactory:Rt instanceof y.OlP||!Rt.reducerFactory?hn:Rt.reducerFactory,metaReducers:Rt instanceof y.OlP||!Rt.metaReducers?[]:Rt.metaReducers,initialState:Rt instanceof y.OlP||!Rt.initialState?void 0:Rt.initialState}},{provide:et,deps:[y.zs3,se,be],useFactory:wr},{provide:Oe,multi:!0,useValue:Xe instanceof Object?Xe.reducer:ct},{provide:gt,multi:!0,useExisting:ct instanceof y.OlP?ct:Oe},{provide:Vt,multi:!0,deps:[y.zs3,Oe,[new y.tBr(gt)]],useFactory:oi},wn()]}}}return Ee.\u0275fac=function(Xe){return new(Xe||Ee)},Ee.\u0275mod=y.oAB({type:Ee}),Ee.\u0275inj=y.cJS({}),Ee})();function vn(Ee,rt){return rt instanceof y.OlP?Ee.get(rt):rt}function wr(Ee,rt,Xe){return Xe.map((ct,Rt)=>{if(rt[Rt]instanceof y.OlP){const Ut=Ee.get(rt[Rt]);return{key:ct.key,reducerFactory:Ut.reducerFactory?Ut.reducerFactory:hn,metaReducers:Ut.metaReducers?Ut.metaReducers:[],initialState:Ut.initialState}}return ct})}function oi(Ee,rt){return rt.map(ct=>ct instanceof y.OlP?Ee.get(ct):ct)}function ur(Ee){return"function"==typeof Ee?Ee():Ee}function Ai(Ee,rt){return Ee.concat(rt)}function Pr(Ee){if(Ee)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Ri(...Ee){return{reducer:Ee.pop(),types:Ee.map(ct=>ct.type)}}function ai(Ee,...rt){const Xe=new Map;for(const ct of rt)for(const Rt of ct.types){const Ut=Xe.get(Rt);Xe.set(Rt,Ut?(ze,ot)=>ct.reducer(Ut(ze,ot),ot):ct.reducer)}return function(ct=Ee,Rt){const Ut=Xe.get(Rt.type);return Ut?Ut(ct,Rt):ct}}},6646:(Pe,de,S)=>{"use strict";S.d(de,{he:()=>z});var y=S(7574),H=S(5917),ge=S(304),ee=S(9773),$=S(3190),ne=S(4612),Y=S(5304),q=S(8002);function z(Qe){return St=>Qe.id?St.pipe(Ae(),(0,ge.v)(([ye,it])=>Qe.id(ye,it))).pipe((0,ee.zg)(ye=>ye.pipe((0,$.w)(Le(Qe.run,Qe.onError))))):St.pipe(Ae(),(0,ne.b)(Le(Qe.run,Qe.onError)))}function Le(Qe,St){return([lt,ye])=>{try{return ae(Qe(lt,ye)).pipe((0,Y.K)(le=>ae(St(lt,le))))}catch(it){return ae(St(lt,it))}}}function Ae(){return Qe=>Qe.pipe((0,q.U)(St=>{const[lt,ye]=function(Qe){let St,lt;return Qe instanceof Array?[St,lt]=Qe:St=Qe,[St,lt]}(St);return[lt,ye]}))}function ae(Qe){return function(Qe){return!!Qe&&(Qe instanceof y.y||"function"==typeof Qe.lift&&"function"==typeof Qe.subscribe)}(Qe)?Qe:Qe?(0,H.of)(Qe):(0,H.of)()}},2329:(Pe,de,S)=>{"use strict";S.d(de,{Mq:()=>y.getApp,C6:()=>y.getApps});var y=S(5452);(0,y.registerVersion)("firebase","9.1.2","app")},7841:(Pe,de,S)=>{"use strict";S.d(de,{Z:()=>y.Z});var y=S(4486);y.Z.registerVersion("firebase","9.1.2","app-compat")},5841:(Pe,de,S)=>{"use strict";S.r(de);var y=S(4553),R=S(4486),H=S(3854),ge=S(5452),ee=S(4762),$=S(5601),ne=S(6034);const Le=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ae=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ue=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new $.Yd("@firebase/auth");function ae(E,...f){Fe.logLevel<=$.in.ERROR&&Fe.error(`Auth (${ge.SDK_VERSION}): ${E}`,...f)}function Ye(E,...f){throw ye(E,...f)}function Qe(E,...f){return ye(E,...f)}function St(E,f,g){const I=Object.assign(Object.assign({},Ae()),{[f]:g});return new H.LL("auth","Firebase",I).create(f,{appName:E.name})}function lt(E,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ye(E,"argument-error"),St(E,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ye(E,...f){if("string"!=typeof E){const g=f[0],I=[...f.slice(1)];return I[0]&&(I[0].appName=E.name),E._errorFactory.create(g,...I)}return Ue.create(E,...f)}function it(E,f,...g){if(!E)throw ye(f,...g)}function le(E){const f="INTERNAL ASSERTION FAILED: "+E;throw ae(f),new Error(f)}function qe(E,f){E||le(f)}const be=new Map;function fe(E){qe(E instanceof Function,"Expected a class definition");let f=be.get(E);return f?(qe(f instanceof E,"Instance stored in cache mismatched with class"),f):(f=new E,be.set(E,f),f)}function et(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function gt(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Mt{constructor(f,g){this.shortDelay=f,this.longDelay=g,qe(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gt()||(0,H.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function tn(E,f){qe(E.emulator,"Emulator should always be set here");const{url:g}=E.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class sn{static initialize(f,g,I){this.fetchImpl=f,g&&(this.headersImpl=g),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},on=new Mt(3e4,6e4);function hn(E,f){return E.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:E.tenantId}):f}function zt(E,f,g,I){return Be.apply(this,arguments)}function Be(){return(Be=(0,y.Z)(function*(E,f,g,I,j={}){return je(E,j,()=>{let ie={},Ge={};I&&("GET"===f?Ge=I:ie={body:JSON.stringify(I)});const Et=(0,H.xO)(Object.assign({key:E.config.apiKey},Ge)).slice(1),Xt=new(sn.headers());return Xt.set("Content-Type","application/json"),Xt.set("X-Client-Version",E._getSdkClientVersion()),E.languageCode&&Xt.set("X-Firebase-Locale",E.languageCode),sn.fetch()(wt(E,E.config.apiHost,g,Et),Object.assign({method:f,headers:Xt,referrerPolicy:"no-referrer"},ie))})})).apply(this,arguments)}function je(E,f,g){return ve.apply(this,arguments)}function ve(){return(ve=(0,y.Z)(function*(E,f,g){E._canInitEmulator=!1;const I=Object.assign(Object.assign({},Gt),f);try{const j=new xt(E),ie=yield Promise.race([g(),j.promise]);j.clearNetworkTimeout();const Ge=yield ie.json();if("needConfirmation"in Ge)throw Wt(E,"account-exists-with-different-credential",Ge);if(ie.ok&&!("errorMessage"in Ge))return Ge;{const Et=ie.ok?Ge.errorMessage:Ge.error.message,[Xt,an]=Et.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xt)throw Wt(E,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===Xt)throw Wt(E,"email-already-in-use",Ge);const Ln=I[Xt]||Xt.toLowerCase().replace(/[_\s]+/g,"-");if(an)throw St(E,Ln,an);Ye(E,Ln)}}catch(j){if(j instanceof H.ZR)throw j;Ye(E,"network-request-failed")}})).apply(this,arguments)}function Re(E,f,g,I){return ft.apply(this,arguments)}function ft(){return(ft=(0,y.Z)(function*(E,f,g,I,j={}){const ie=yield zt(E,f,g,I,j);return"mfaPendingCredential"in ie&&Ye(E,"multi-factor-auth-required",{serverResponse:ie}),ie})).apply(this,arguments)}function wt(E,f,g,I){const j=`${f}${g}?${I}`;return E.config.emulator?tn(E.config,j):`${E.config.apiScheme}://${j}`}class xt{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,I)=>{this.timer=setTimeout(()=>I(Qe(this.auth,"timeout")),on.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wt(E,f,g){const I={appName:E.name};g.email&&(I.email=g.email),g.phoneNumber&&(I.phoneNumber=g.phoneNumber);const j=Qe(E,f,I);return j.customData._tokenResponse=g,j}function It(){return(It=(0,y.Z)(function*(E,f){return zt(E,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Rn(E,f){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,y.Z)(function*(E,f){return zt(E,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function kn(E,f){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,y.Z)(function*(E,f){return zt(E,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Qt(E){if(E)try{const f=new Date(Number(E));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function rr(){return(rr=(0,y.Z)(function*(E,f=!1){const g=(0,H.m9)(E),I=yield g.getIdToken(f),j=Lt(I);it(j&&j.exp&&j.auth_time&&j.iat,g.auth,"internal-error");const ie="object"==typeof j.firebase?j.firebase:void 0,Ge=null==ie?void 0:ie.sign_in_provider;return{claims:j,token:I,authTime:Qt(Pn(j.auth_time)),issuedAtTime:Qt(Pn(j.iat)),expirationTime:Qt(Pn(j.exp)),signInProvider:Ge||null,signInSecondFactor:(null==ie?void 0:ie.sign_in_second_factor)||null}})).apply(this,arguments)}function Pn(E){return 1e3*Number(E)}function Lt(E){const[f,g,I]=E.split(".");if(void 0===f||void 0===g||void 0===I)return ae("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,H.tV)(g);return j?JSON.parse(j):(ae("Failed to decode base64 JWT payload"),null)}catch(j){return ae("Caught error parsing JWT payload as JSON",j),null}}function Mr(E,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,y.Z)(function*(E,f,g=!1){if(g)return f;try{return yield f}catch(I){throw I instanceof H.ZR&&Dr(I)&&E.auth.currentUser===E&&(yield E.auth.signOut()),I}})).apply(this,arguments)}function Dr({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class Bn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const j=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const I=this.getInterval(f);this.timerId=setTimeout((0,y.Z)(function*(){yield g.iteration()}),I)}iteration(){var f=this;return(0,y.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class cr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qt(this.lastLoginAt),this.creationTime=Qt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $r(E){return xe.apply(this,arguments)}function xe(){return(xe=(0,y.Z)(function*(E){var f;const g=E.auth,I=yield E.getIdToken(),j=yield Mr(E,kn(g,{idToken:I}));it(null==j?void 0:j.users.length,g,"internal-error");const ie=j.users[0];E._notifyReloadListener(ie);const Ge=(null===(f=ie.providerUserInfo)||void 0===f?void 0:f.length)?tt(ie.providerUserInfo):[],Et=vt(E.providerData,Ge),Ln=!!E.isAnonymous&&!(E.email&&ie.passwordHash||(null==Et?void 0:Et.length)),at={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:Et,metadata:new cr(ie.createdAt,ie.lastLoginAt),isAnonymous:Ln};Object.assign(E,at)})).apply(this,arguments)}function Me(){return(Me=(0,y.Z)(function*(E){const f=(0,H.m9)(E);yield $r(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function vt(E,f){return[...E.filter(I=>!f.some(j=>j.providerId===I.providerId)),...f]}function tt(E){return E.map(f=>{var{providerId:g}=f,I=(0,ee._T)(f,["providerId"]);return{providerId:g,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Ne(){return(Ne=(0,y.Z)(function*(E,f){const g=yield je(E,{},()=>{const I=(0,H.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:j,apiKey:ie}=E.config,Ge=wt(E,j,"/v1/token",`key=${ie}`);return sn.fetch()(Ge,{method:"POST",headers:{"X-Client-Version":E._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){it(f.idToken,"internal-error"),it(void 0!==f.idToken,"internal-error"),it(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(E){const f=Lt(E);return it(f,"internal-error"),it(void 0!==f.exp,"internal-error"),it(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var I=this;return(0,y.Z)(function*(){return it(!I.accessToken||I.refreshToken,f,"user-token-expired"),g||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(f,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var I=this;return(0,y.Z)(function*(){const{accessToken:j,refreshToken:ie,expiresIn:Ge}=yield function(E,f){return Ne.apply(this,arguments)}(f,g);I.updateTokensAndExpiration(j,ie,Number(Ge))})()}updateTokensAndExpiration(f,g,I){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(f,g){const{refreshToken:I,accessToken:j,expirationTime:ie}=g,Ge=new nt;return I&&(it("string"==typeof I,"internal-error",{appName:f}),Ge.refreshToken=I),j&&(it("string"==typeof j,"internal-error",{appName:f}),Ge.accessToken=j),ie&&(it("number"==typeof ie,"internal-error",{appName:f}),Ge.expirationTime=ie),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new nt,this.toJSON())}_performRefresh(){return le("not implemented")}}function ut(E,f){it("string"==typeof E||void 0===E,"internal-error",{appName:f})}class $t{constructor(f){var{uid:g,auth:I,stsTokenManager:j}=f,ie=(0,ee._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Bn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=I,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.metadata=new cr(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,y.Z)(function*(){const I=yield Mr(g,g.stsTokenManager.getToken(g.auth,f));return it(I,g.auth,"internal-error"),g.accessToken!==I&&(g.accessToken=I,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),I})()}getIdTokenResult(f){return function(E){return rr.apply(this,arguments)}(this,f)}reload(){return function(E){return Me.apply(this,arguments)}(this)}_assign(f){this!==f&&(it(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new $t(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var I=this;return(0,y.Z)(function*(){let j=!1;f.idToken&&f.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(f),j=!0),g&&(yield $r(I)),yield I.auth._persistUserIfCurrent(I),j&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var f=this;return(0,y.Z)(function*(){const g=yield f.getIdToken();return yield Mr(f,function(E,f){return It.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var I,j,ie,Ge,Et,Xt,an,Ln;const at=null!==(I=g.displayName)&&void 0!==I?I:void 0,Di=null!==(j=g.email)&&void 0!==j?j:void 0,Ti=null!==(ie=g.phoneNumber)&&void 0!==ie?ie:void 0,pd=null!==(Ge=g.photoURL)&&void 0!==Ge?Ge:void 0,Su=null!==(Et=g.tenantId)&&void 0!==Et?Et:void 0,fa=null!==(Xt=g._redirectEventId)&&void 0!==Xt?Xt:void 0,gd=null!==(an=g.createdAt)&&void 0!==an?an:void 0,lu=null!==(Ln=g.lastLoginAt)&&void 0!==Ln?Ln:void 0,{uid:La,emailVerified:to,isAnonymous:Eh,providerData:As,stsTokenManager:Hc}=g;it(La&&Hc,f,"internal-error");const bh=nt.fromJSON(this.name,Hc);it("string"==typeof La,f,"internal-error"),ut(at,f.name),ut(Di,f.name),it("boolean"==typeof to,f,"internal-error"),it("boolean"==typeof Eh,f,"internal-error"),ut(Ti,f.name),ut(pd,f.name),ut(Su,f.name),ut(fa,f.name),ut(gd,f.name),ut(lu,f.name);const Ki=new $t({uid:La,auth:f,email:Di,emailVerified:to,displayName:at,isAnonymous:Eh,photoURL:pd,phoneNumber:Ti,tenantId:Su,stsTokenManager:bh,createdAt:gd,lastLoginAt:lu});return As&&Array.isArray(As)&&(Ki.providerData=As.map(Al=>Object.assign({},Al))),fa&&(Ki._redirectEventId=fa),Ki}static _fromIdTokenResponse(f,g,I=!1){return(0,y.Z)(function*(){const j=new nt;j.updateFromServerResponse(g);const ie=new $t({uid:g.localId,auth:f,stsTokenManager:j,isAnonymous:I});return yield $r(ie),ie})()}}const rn=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(g,I){var j=this;return(0,y.Z)(function*(){j.storage[g]=I})()}_get(g){var I=this;return(0,y.Z)(function*(){const j=I.storage[g];return void 0===j?null:j})()}_remove(g){var I=this;return(0,y.Z)(function*(){delete I.storage[g]})()}_addListener(g,I){}_removeListener(g,I){}}return E.type="NONE",E})();function Jn(E,f,g){return`firebase:${E}:${f}:${g}`}class ir{constructor(f,g,I){this.persistence=f,this.auth=g,this.userKey=I;const{config:j,name:ie}=this.auth;this.fullUserKey=Jn(this.userKey,j.apiKey,ie),this.fullPersistenceKey=Jn("persistence",j.apiKey,ie),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,y.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?$t._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,y.Z)(function*(){if(g.persistence===f)return;const I=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,I?g.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,I="authUser"){return(0,y.Z)(function*(){if(!g.length)return new ir(fe(rn),f,I);const j=(yield Promise.all(g.map(function(){var an=(0,y.Z)(function*(Ln){if(yield Ln._isAvailable())return Ln});return function(Ln){return an.apply(this,arguments)}}()))).filter(an=>an);let ie=j[0]||fe(rn);const Ge=Jn(I,f.config.apiKey,f.name);let Et=null;for(const an of g)try{const Ln=yield an._get(Ge);if(Ln){const at=$t._fromJSON(f,Ln);an!==ie&&(Et=at),ie=an;break}}catch(Ln){}const Xt=j.filter(an=>an._shouldAllowMigration);return ie._shouldAllowMigration&&Xt.length?(ie=Xt[0],Et&&(yield ie._set(Ge,Et.toJSON())),yield Promise.all(g.map(function(){var an=(0,y.Z)(function*(Ln){if(Ln!==ie)try{yield Ln._remove(Ge)}catch(at){}});return function(Ln){return an.apply(this,arguments)}}())),new ir(ie,f,I)):new ir(ie,f,I)})()}}function mr(E){const f=E.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(fr(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(yr(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(jn(f))return"Blackberry";if(Xn(f))return"Webos";if(Jr(f))return"Safari";if((f.includes("chrome/")||vr(f))&&!f.includes("edge/"))return"Chrome";if(_n(f))return"Android";{const I=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function yr(E=(0,H.z$)()){return/firefox\//i.test(E)}function Jr(E=(0,H.z$)()){const f=E.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function vr(E=(0,H.z$)()){return/crios\//i.test(E)}function fr(E=(0,H.z$)()){return/iemobile/i.test(E)}function _n(E=(0,H.z$)()){return/android/i.test(E)}function jn(E=(0,H.z$)()){return/blackberry/i.test(E)}function Xn(E=(0,H.z$)()){return/webos/i.test(E)}function Gn(E=(0,H.z$)()){return/iphone|ipad|ipod/i.test(E)}function qt(E=(0,H.z$)()){return Gn(E)||_n(E)||Xn(E)||jn(E)||/windows phone/i.test(E)||fr(E)}function Vn(E,f=[]){let g;switch(E){case"Browser":g=mr((0,H.z$)());break;case"Worker":g=`${mr((0,H.z$)())}-${E}`;break;default:g=E}const I=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ge.SDK_VERSION}/${I}`}class pr{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nn(this),this.idTokenSubscription=new Nn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ue,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var I=this;return g&&(this._popupRedirectResolver=fe(g)),this._initializationPromise=this.queue((0,y.Z)(function*(){var j;I._deleted||(I.persistenceManager=yield ir.create(I,f),!I._deleted&&((null===(j=I._popupRedirectResolver)||void 0===j?void 0:j._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(g),!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,y.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,y.Z)(function*(){var I;let j=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ie=null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId,Ge=null==j?void 0:j._redirectEventId,Et=yield g.tryRedirectSignIn(f);(!ie||ie===Ge)&&(null==Et?void 0:Et.user)&&(j=Et.user)}return j?j._redirectEventId?(it(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===j._redirectEventId?g.directlySetCurrentUser(j):g.reloadAndSetCurrentUserOrClear(j)):g.reloadAndSetCurrentUserOrClear(j):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,y.Z)(function*(){let I=null;try{I=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(j){yield g._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,y.Z)(function*(){try{yield $r(f)}catch(I){if("auth/network-request-failed"!==I.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var f=this;return(0,y.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,y.Z)(function*(){const I=f?(0,H.m9)(f):null;return I&&it(I.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(I&&I._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,y.Z)(function*(){if(!g._deleted)return f&&it(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,y.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,y.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,y.Z)(function*(){yield g.assertedPersistence.setPersistence(fe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new H.LL("auth","Firebase",f())}onAuthStateChanged(f,g,I){return this.registerStateListener(this.authStateSubscription,f,g,I)}onIdTokenChanged(f,g,I){return this.registerStateListener(this.idTokenSubscription,f,g,I)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var I=this;return(0,y.Z)(function*(){const j=yield I.getOrInitRedirectPersistenceManager(g);return null===f?j.removeCurrentUser():j.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,y.Z)(function*(){if(!g.redirectPersistenceManager){const I=f&&fe(f)||g._popupRedirectResolver;it(I,g,"argument-error"),g.redirectPersistenceManager=yield ir.create(g,[fe(I._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,y.Z)(function*(){var I,j;return g._isInitialized&&(yield g.queue((0,y.Z)(function*(){}))),(null===(I=g._currentUser)||void 0===I?void 0:I._redirectEventId)===f?g._currentUser:(null===(j=g.redirectUser)||void 0===j?void 0:j._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,y.Z)(function*(){if(f===g.currentUser)return g.queue((0,y.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,I,j){if(this._deleted)return()=>{};const ie="function"==typeof g?g:g.next.bind(g),Ge=this._isInitialized?Promise.resolve():this._initializationPromise;return it(Ge,this,"internal-error"),Ge.then(()=>ie(this.currentUser)),"function"==typeof g?f.addObserver(g,I,j):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,y.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Vn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function wn(E){return(0,H.m9)(E)}class Nn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,H.ne)(g=>this.observer=g)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wn(E){const f=E.indexOf(":");return f<0?"":E.substr(0,f+1)}function Mi(E){if(!E)return null;const f=Number(E);return isNaN(f)?null:f}class wr{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return le("not implemented")}_getIdTokenResponse(f){return le("not implemented")}_linkToIdToken(f,g){return le("not implemented")}_getReauthenticationResolver(f){return le("not implemented")}}function oi(E,f){return ur.apply(this,arguments)}function ur(){return(ur=(0,y.Z)(function*(E,f){return zt(E,"POST","/v1/accounts:resetPassword",hn(E,f))})).apply(this,arguments)}function Ai(E,f){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,y.Z)(function*(E,f){return zt(E,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ri(E,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,y.Z)(function*(E,f){return zt(E,"POST","/v1/accounts:update",hn(E,f))})).apply(this,arguments)}function rt(){return(rt=(0,y.Z)(function*(E,f){return Re(E,"POST","/v1/accounts:signInWithPassword",hn(E,f))})).apply(this,arguments)}function Xe(E,f){return ct.apply(this,arguments)}function ct(){return(ct=(0,y.Z)(function*(E,f){return zt(E,"POST","/v1/accounts:sendOobCode",hn(E,f))})).apply(this,arguments)}function Rt(E,f){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,y.Z)(function*(E,f){return Xe(E,f)})).apply(this,arguments)}function Ve(E,f){return ze.apply(this,arguments)}function ze(){return(ze=(0,y.Z)(function*(E,f){return Xe(E,f)})).apply(this,arguments)}function ot(E,f){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,y.Z)(function*(E,f){return Xe(E,f)})).apply(this,arguments)}function Pt(E,f){return nn.apply(this,arguments)}function nn(){return(nn=(0,y.Z)(function*(E,f){return Xe(E,f)})).apply(this,arguments)}function In(){return(In=(0,y.Z)(function*(E,f){return Re(E,"POST","/v1/accounts:signInWithEmailLink",hn(E,f))})).apply(this,arguments)}function Kr(){return(Kr=(0,y.Z)(function*(E,f){return Re(E,"POST","/v1/accounts:signInWithEmailLink",hn(E,f))})).apply(this,arguments)}class Te extends wr{constructor(f,g,I,j=null){super("password",I),this._email=f,this._password=g,this._tenantId=j}static _fromEmailAndPassword(f,g){return new Te(f,g,"password")}static _fromEmailAndCode(f,g,I=null){return new Te(f,g,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,y.Z)(function*(){switch(g.signInMethod){case"password":return function(E,f){return rt.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(E,f){return In.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ye(f,"internal-error")}})()}_linkToIdToken(f,g){var I=this;return(0,y.Z)(function*(){switch(I.signInMethod){case"password":return Ai(f,{idToken:g,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(E,f){return Kr.apply(this,arguments)}(f,{idToken:g,email:I._email,oobCode:I._password});default:Ye(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function De(E,f){return he.apply(this,arguments)}function he(){return(he=(0,y.Z)(function*(E,f){return Re(E,"POST","/v1/accounts:signInWithIdp",hn(E,f))})).apply(this,arguments)}class pt extends wr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new pt(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ye("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:j}=g,ie=(0,ee._T)(g,["providerId","signInMethod"]);if(!I||!j)return null;const Ge=new pt(I,j);return Ge.idToken=ie.idToken||void 0,Ge.accessToken=ie.accessToken||void 0,Ge.secret=ie.secret,Ge.nonce=ie.nonce,Ge.pendingToken=ie.pendingToken||null,Ge}_getIdTokenResponse(f){return De(f,this.buildRequest())}_linkToIdToken(f,g){const I=this.buildRequest();return I.idToken=g,De(f,I)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,De(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,H.xO)(g)}return f}}function gn(E,f){return mn.apply(this,arguments)}function mn(){return(mn=(0,y.Z)(function*(E,f){return zt(E,"POST","/v1/accounts:sendVerificationCode",hn(E,f))})).apply(this,arguments)}function lr(){return(lr=(0,y.Z)(function*(E,f){return Re(E,"POST","/v1/accounts:signInWithPhoneNumber",hn(E,f))})).apply(this,arguments)}function bs(){return(bs=(0,y.Z)(function*(E,f){const g=yield Re(E,"POST","/v1/accounts:signInWithPhoneNumber",hn(E,f));if(g.temporaryProof)throw Wt(E,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const so={USER_NOT_FOUND:"user-not-found"};function xo(){return(xo=(0,y.Z)(function*(E,f){return Re(E,"POST","/v1/accounts:signInWithPhoneNumber",hn(E,Object.assign(Object.assign({},f),{operation:"REAUTH"})),so)})).apply(this,arguments)}class vi extends wr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new vi({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new vi({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function(E,f){return lr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function(E,f){return bs.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(E,f){return xo.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:I,verificationCode:j}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:I,code:j}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:I,phoneNumber:j,temporaryProof:ie}=f;return I||g||j||ie?new vi({verificationId:g,verificationCode:I,phoneNumber:j,temporaryProof:ie}):null}}class ns{constructor(f){var g,I,j,ie,Ge,Et;const Xt=(0,H.zd)((0,H.pd)(f)),an=null!==(g=Xt.apiKey)&&void 0!==g?g:null,Ln=null!==(I=Xt.oobCode)&&void 0!==I?I:null,at=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=Xt.mode)&&void 0!==j?j:null);it(an&&Ln&&at,"argument-error"),this.apiKey=an,this.operation=at,this.code=Ln,this.continueUrl=null!==(ie=Xt.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(Ge=Xt.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(Et=Xt.tenantId)&&void 0!==Et?Et:null}static parseLink(f){const g=function(E){const f=(0,H.zd)((0,H.pd)(E)).link,g=f?(0,H.zd)((0,H.pd)(f)).deep_link_id:null,I=(0,H.zd)((0,H.pd)(E)).deep_link_id;return(I?(0,H.zd)((0,H.pd)(I)).link:null)||I||g||f||E}(f);try{return new ns(g)}catch(I){return null}}}let Pi=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(g,I){return Te._fromEmailAndPassword(g,I)}static credentialWithLink(g,I){const j=ns.parseLink(I);return it(j,"argument-error"),Te._fromEmailAndCode(g,j.code,j.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Si{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ws extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ji extends ws{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return it("providerId"in g&&"signInMethod"in g,"argument-error"),pt._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return it(f.idToken||f.accessToken,"argument-error"),pt._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ji.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ji.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:I,oauthTokenSecret:j,pendingToken:ie,nonce:Ge,providerId:Et}=f;if(!I&&!j&&!g&&!ie||!Et)return null;try{return new ji(Et)._credential({idToken:g,accessToken:I,nonce:Ge,pendingToken:ie})}catch(Xt){return null}}}let ls=(()=>{class E extends ws{constructor(){super("facebook.com")}static credential(g){return pt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch(I){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Ni=(()=>{class E extends ws{constructor(){super("google.com"),this.addScope("profile")}static credential(g,I){return pt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:I})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:I,oauthAccessToken:j}=g;if(!I&&!j)return null;try{return E.credential(I,j)}catch(ie){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),ao=(()=>{class E extends ws{constructor(){super("github.com")}static credential(g){return pt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch(I){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class $i extends wr{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return De(f,this.buildRequest())}_linkToIdToken(f,g){const I=this.buildRequest();return I.idToken=g,De(f,I)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,De(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:j,pendingToken:ie}=g;return I&&j&&ie&&I===j?new $i(I,ie):null}static _create(f,g){return new $i(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Tr=(()=>{class E extends ws{constructor(){super("twitter.com")}static credential(g,I){return pt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:I})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:I,oauthTokenSecret:j}=g;if(!I||!j)return null;try{return E.credential(I,j)}catch(ie){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Os(E,f){return ui.apply(this,arguments)}function ui(){return(ui=(0,y.Z)(function*(E,f){return Re(E,"POST","/v1/accounts:signUp",hn(E,f))})).apply(this,arguments)}class Vr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,I,j=!1){return(0,y.Z)(function*(){const ie=yield $t._fromIdTokenResponse(f,I,j),Ge=co(I);return new Vr({user:ie,providerId:Ge,_tokenResponse:I,operationType:g})})()}static _forOperation(f,g,I){return(0,y.Z)(function*(){yield f._updateTokensIfNecessary(I,!0);const j=co(I);return new Vr({user:f,providerId:j,_tokenResponse:I,operationType:g})})()}}function co(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function ds(){return(ds=(0,y.Z)(function*(E){var f;const g=wn(E);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new Vr({user:g.currentUser,providerId:null,operationType:"signIn"});const I=yield Os(g,{returnSecureToken:!0}),j=yield Vr._fromIdTokenResponse(g,"signIn",I,!0);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class ci extends H.ZR{constructor(f,g,I,j){var ie;super(g.code,g.message),this.operationType=I,this.user=j,this.name="FirebaseError",Object.setPrototypeOf(this,ci.prototype),this.appName=f.name,this.code=g.code,this.tenantId=null!==(ie=f.tenantId)&&void 0!==ie?ie:void 0,this.serverResponse=g.customData.serverResponse}static _fromErrorAndOperation(f,g,I,j){return new ci(f,g,I,j)}}function Hi(E,f,g,I){return("reauthenticate"===f?g._getReauthenticationResolver(E):g._getIdTokenResponse(E)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?ci._fromErrorAndOperation(E,ie,f,I):ie})}function Zi(E){return new Set(E.map(({providerId:f})=>f).filter(f=>!!f))}function Mo(){return(Mo=(0,y.Z)(function*(E,f){const g=(0,H.m9)(E);yield L(!0,g,f);const{providerUserInfo:I}=yield Rn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),j=Zi(I||[]);return g.providerData=g.providerData.filter(ie=>j.has(ie.providerId)),j.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function P(E,f){return Z.apply(this,arguments)}function Z(){return(Z=(0,y.Z)(function*(E,f,g=!1){const I=yield Mr(E,f._linkToIdToken(E.auth,yield E.getIdToken()),g);return Vr._forOperation(E,"link",I)})).apply(this,arguments)}function L(E,f,g){return te.apply(this,arguments)}function te(){return(te=(0,y.Z)(function*(E,f,g){yield $r(f);const j=!1===E?"provider-already-linked":"no-such-provider";it(Zi(f.providerData).has(g)===E,f.auth,j)})).apply(this,arguments)}function Ie(E,f){return ht.apply(this,arguments)}function ht(){return(ht=(0,y.Z)(function*(E,f,g=!1){const{auth:I}=E,j="reauthenticate";try{const ie=yield Mr(E,Hi(I,j,f,E),g);it(ie.idToken,I,"internal-error");const Ge=Lt(ie.idToken);it(Ge,I,"internal-error");const{sub:Et}=Ge;return it(E.uid===Et,I,"user-mismatch"),Vr._forOperation(E,j,ie)}catch(ie){throw"auth/user-not-found"===(null==ie?void 0:ie.code)&&Ye(I,"user-mismatch"),ie}})).apply(this,arguments)}function bt(E,f){return F.apply(this,arguments)}function F(){return(F=(0,y.Z)(function*(E,f,g=!1){const I="signIn",j=yield Hi(E,I,f),ie=yield Vr._fromIdTokenResponse(E,I,j);return g||(yield E._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function O(E,f){return A.apply(this,arguments)}function A(){return(A=(0,y.Z)(function*(E,f){return bt(wn(E),f)})).apply(this,arguments)}function Q(E,f){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,y.Z)(function*(E,f){const g=(0,H.m9)(E);return yield L(!1,g,f.providerId),P(g,f)})).apply(this,arguments)}function Bt(E,f){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,y.Z)(function*(E,f){return Ie((0,H.m9)(E),f)})).apply(this,arguments)}function nr(E,f){return bi.apply(this,arguments)}function bi(){return(bi=(0,y.Z)(function*(E,f){return Re(E,"POST","/v1/accounts:signInWithCustomToken",hn(E,f))})).apply(this,arguments)}function li(){return(li=(0,y.Z)(function*(E,f){const g=wn(E),I=yield nr(g,{token:f,returnSecureToken:!0}),j=yield Vr._fromIdTokenResponse(g,"signIn",I);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class qr{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?yn._fromServerResponse(f,g):Ye(f,"internal-error")}}class yn extends qr{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new yn(g)}}function lo(E,f,g){var I;it((null===(I=g.url)||void 0===I?void 0:I.length)>0,E,"invalid-continue-uri"),it(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(it(g.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(it(g.android.packageName.length>0,E,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Zo(){return(Zo=(0,y.Z)(function*(E,f,g){const I=(0,H.m9)(E),j={requestType:"PASSWORD_RESET",email:f};g&&lo(I,j,g),yield Ve(I,j)})).apply(this,arguments)}function Yo(){return(Yo=(0,y.Z)(function*(E,f,g){yield oi((0,H.m9)(E),{oobCode:f,newPassword:g})})).apply(this,arguments)}function js(){return(js=(0,y.Z)(function*(E,f){yield Ri((0,H.m9)(E),{oobCode:f})})).apply(this,arguments)}function Nt(E,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,y.Z)(function*(E,f){const g=(0,H.m9)(E),I=yield oi(g,{oobCode:f}),j=I.requestType;switch(it(j,g,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":it(I.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":it(I.mfaInfo,g,"internal-error");default:it(I.email,g,"internal-error")}let ie=null;return I.mfaInfo&&(ie=qr._fromServerResponse(wn(g),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:ie},operation:j}})).apply(this,arguments)}function Fr(){return(Fr=(0,y.Z)(function*(E,f){const{data:g}=yield Nt((0,H.m9)(E),f);return g.email})).apply(this,arguments)}function $s(){return($s=(0,y.Z)(function*(E,f,g){const I=wn(E),j=yield Os(I,{returnSecureToken:!0,email:f,password:g}),ie=yield Vr._fromIdTokenResponse(I,"signIn",j);return yield I._updateCurrentUser(ie.user),ie})).apply(this,arguments)}function ba(){return(ba=(0,y.Z)(function*(E,f,g){const I=(0,H.m9)(E),j={requestType:"EMAIL_SIGNIN",email:f};it(g.handleCodeInApp,I,"argument-error"),g&&lo(I,j,g),yield ot(I,j)})).apply(this,arguments)}function Gs(){return(Gs=(0,y.Z)(function*(E,f,g){const I=(0,H.m9)(E),j=Pi.credentialWithLink(f,g||et());return it(j._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),O(I,j)})).apply(this,arguments)}function xs(E,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,y.Z)(function*(E,f){return zt(E,"POST","/v1/accounts:createAuthUri",hn(E,f))})).apply(this,arguments)}function Ro(){return(Ro=(0,y.Z)(function*(E,f){const I={identifier:f,continueUri:gt()?et():"http://localhost"},{signinMethods:j}=yield xs((0,H.m9)(E),I);return j||[]})).apply(this,arguments)}function wi(){return(wi=(0,y.Z)(function*(E,f){const g=(0,H.m9)(E),j={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};f&&lo(g.auth,j,f);const{email:ie}=yield Rt(g.auth,j);ie!==E.email&&(yield E.reload())})).apply(this,arguments)}function kr(){return(kr=(0,y.Z)(function*(E,f,g){const I=(0,H.m9)(E),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:f};g&&lo(I.auth,ie,g);const{email:Ge}=yield Pt(I.auth,ie);Ge!==E.email&&(yield E.reload())})).apply(this,arguments)}function vu(E,f){return wa.apply(this,arguments)}function wa(){return(wa=(0,y.Z)(function*(E,f){return zt(E,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function fo(){return(fo=(0,y.Z)(function*(E,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const I=(0,H.m9)(E),ie={idToken:yield I.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},Ge=yield Mr(I,vu(I.auth,ie));I.displayName=Ge.displayName||null,I.photoURL=Ge.photoUrl||null;const Et=I.providerData.find(({providerId:Xt})=>"password"===Xt);Et&&(Et.displayName=I.displayName,Et.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ge)})).apply(this,arguments)}function Jo(E,f,g){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,y.Z)(function*(E,f,g){const{auth:I}=E,ie={idToken:yield E.getIdToken(),returnSecureToken:!0};f&&(ie.email=f),g&&(ie.password=g);const Ge=yield Mr(E,Ai(I,ie));yield E._updateTokensIfNecessary(Ge,!0)})).apply(this,arguments)}class go{constructor(f,g,I={}){this.isNewUser=f,this.providerId=g,this.profile=I}}class hs extends go{constructor(f,g,I,j){super(f,g,I),this.username=j}}class Ia extends go{constructor(f,g){super(f,"facebook.com",g)}}class Wu extends hs{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class mo extends go{constructor(f,g){super(f,"google.com",g)}}class Po extends hs{constructor(f,g,I){super(f,"twitter.com",g,I)}}function Ac(E){const{user:f,_tokenResponse:g}=E;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(E){var f,g;if(!E)return null;const{providerId:I}=E,j=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},ie=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!I&&(null==E?void 0:E.idToken)){const Ge=null===(g=null===(f=Lt(E.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ge)return new go(ie,"anonymous"!==Ge&&"custom"!==Ge?Ge:null)}if(!I)return null;switch(I){case"facebook.com":return new Ia(ie,j);case"github.com":return new Wu(ie,j);case"google.com":return new mo(ie,j);case"twitter.com":return new Po(ie,j,E.screenName||null);case"custom":case"anonymous":return new go(ie,null);default:return new go(ie,I,j)}}(g)}class yo{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new yo("enroll",f)}static _fromMfaPendingCredential(f){return new yo("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,I;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return yo._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(I=f.multiFactorSession)||void 0===I?void 0:I.idToken)return yo._fromIdtoken(f.multiFactorSession.idToken)}return null}}class _o{constructor(f,g,I){this.session=f,this.hints=g,this.signInResolver=I}static _fromError(f,g){const I=wn(f),j=(g.serverResponse.mfaInfo||[]).map(Ge=>qr._fromServerResponse(I,Ge));it(g.serverResponse.mfaPendingCredential,I,"internal-error");const ie=yo._fromMfaPendingCredential(g.serverResponse.mfaPendingCredential);return new _o(ie,j,function(){var Ge=(0,y.Z)(function*(Et){const Xt=yield Et._process(I,ie);delete g.serverResponse.mfaInfo,delete g.serverResponse.mfaPendingCredential;const an=Object.assign(Object.assign({},g.serverResponse),{idToken:Xt.idToken,refreshToken:Xt.refreshToken});switch(g.operationType){case"signIn":const Ln=yield Vr._fromIdTokenResponse(I,g.operationType,an);return yield I._updateCurrentUser(Ln.user),Ln;case"reauthenticate":return it(g.user,I,"internal-error"),Vr._forOperation(g.user,g.operationType,an);default:Ye(I,"internal-error")}});return function(Et){return Ge.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,y.Z)(function*(){return g.signInResolver(f)})()}}function Fo(E,f){return zt(E,"POST","/v2/accounts/mfaEnrollment:start",hn(E,f))}class qa{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(I=>qr._fromServerResponse(f.auth,I)))})}static _fromUser(f){return new qa(f)}getSession(){var f=this;return(0,y.Z)(function*(){return yo._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var I=this;return(0,y.Z)(function*(){const j=f,ie=yield I.getSession(),Ge=yield Mr(I.user,j._process(I.user.auth,ie,g));return yield I.user._updateTokensIfNecessary(Ge),I.user.reload()})()}unenroll(f){var g=this;return(0,y.Z)(function*(){const I="string"==typeof f?f:f.uid,j=yield g.user.getIdToken(),ie=yield Mr(g.user,function(E,f){return zt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",hn(E,f))}(g.user.auth,{idToken:j,mfaEnrollmentId:I}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ge})=>Ge!==I),yield g.user._updateTokensIfNecessary(ie);try{yield g.user.reload()}catch(Ge){if("auth/user-token-expired"!==Ge.code)throw Ge}})()}}const ki=new WeakMap,Ws="__sak";class vo{constructor(f,g){this.storage=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ws,"1"),this.storage.removeItem(Ws),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}}const Da=(()=>{class E extends vo{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(g,I)=>this.onStorageEvent(g,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,H.z$)();return Jr(E)||Gn(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=qt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const I of Object.keys(this.listeners)){const j=this.storage.getItem(I),ie=this.localCache[I];j!==ie&&g(I,ie,j)}}onStorageEvent(g,I=!1){if(!g.key)return void this.forAllChangedKeys((Et,Xt,an)=>{this.notifyListeners(Et,an)});const j=g.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Et=this.storage.getItem(j);if(g.newValue!==Et)null!==g.newValue?this.storage.setItem(j,g.newValue):this.storage.removeItem(j);else if(this.localCache[j]===g.newValue&&!I)return}const ie=()=>{const Et=this.storage.getItem(j);!I&&this.localCache[j]===Et||this.notifyListeners(j,Et)},Ge=this.storage.getItem(j);(0,H.w1)()&&10===document.documentMode&&Ge!==g.newValue&&g.newValue!==g.oldValue?setTimeout(ie,10):ie()}notifyListeners(g,I){this.localCache[g]=I;const j=this.listeners[g];if(j)for(const ie of Array.from(j))ie(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,I,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:I,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,I){var j=()=>super._set,ie=this;return(0,y.Z)(function*(){yield j().call(ie,g,I),ie.localCache[g]=JSON.stringify(I)})()}_get(g){var I=()=>super._get,j=this;return(0,y.Z)(function*(){const ie=yield I().call(j,g);return j.localCache[g]=JSON.stringify(ie),ie})()}_remove(g){var I=()=>super._remove,j=this;return(0,y.Z)(function*(){yield I().call(j,g),delete j.localCache[g]})()}}return E.type="LOCAL",E})(),Oi=(()=>{class E extends vo{constructor(){super(window.sessionStorage,"SESSION")}_addListener(g,I){}_removeListener(g,I){}}return E.type="SESSION",E})();let Ta=(()=>{class E{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const I=this.receivers.find(ie=>ie.isListeningto(g));if(I)return I;const j=new E(g);return this.receivers.push(j),j}isListeningto(g){return this.eventTarget===g}handleEvent(g){var I=this;return(0,y.Z)(function*(){const j=g,{eventId:ie,eventType:Ge,data:Et}=j.data,Xt=I.handlersMap[Ge];if(!(null==Xt?void 0:Xt.size))return;j.ports[0].postMessage({status:"ack",eventId:ie,eventType:Ge});const an=Array.from(Xt).map(function(){var at=(0,y.Z)(function*(Di){return Di(j.origin,Et)});return function(Di){return at.apply(this,arguments)}}()),Ln=yield function(E){return Promise.all(E.map(function(){var f=(0,y.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(I){return{fulfilled:!1,reason:I}}});return function(g){return f.apply(this,arguments)}}()))}(an);j.ports[0].postMessage({status:"done",eventId:ie,eventType:Ge,response:Ln})})()}_subscribe(g,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(I)}_unsubscribe(g,I){this.handlersMap[g]&&I&&this.handlersMap[g].delete(I),(!I||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function zs(E="",f=10){let g="";for(let I=0;I<f;I++)g+=Math.floor(10*Math.random());return E+g}class Rs{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,I=50){var j=this;return(0,y.Z)(function*(){const ie="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let Ge,Et;return new Promise((Xt,an)=>{const Ln=zs("",20);ie.port1.start();const at=setTimeout(()=>{an(new Error("unsupported_event"))},I);Et={messageChannel:ie,onMessage(Di){const Ti=Di;if(Ti.data.eventId===Ln)switch(Ti.data.status){case"ack":clearTimeout(at),Ge=setTimeout(()=>{an(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),Xt(Ti.data.response);break;default:clearTimeout(at),clearTimeout(Ge),an(new Error("invalid_response"))}}},j.handlers.add(Et),ie.port1.addEventListener("message",Et.onMessage),j.target.postMessage({eventType:f,eventId:Ln,data:g},[ie.port2])}).finally(()=>{Et&&j.removeMessageHandler(Et)})})()}}function Zr(){return window}function Qa(){return void 0!==Zr().WorkerGlobalScope&&"function"==typeof Zr().importScripts}function Aa(){return(Aa=(0,y.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const Ps="firebaseLocalStorageDb",Ja="firebaseLocalStorage",Ht="fbase_key";class _r{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ni(E,f){return E.transaction([Ja],f?"readwrite":"readonly").objectStore(Ja)}function fn(){const E=indexedDB.open(Ps,1);return new Promise((f,g)=>{E.addEventListener("error",()=>{g(E.error)}),E.addEventListener("upgradeneeded",()=>{const I=E.result;try{I.createObjectStore(Ja,{keyPath:Ht})}catch(j){g(j)}}),E.addEventListener("success",(0,y.Z)(function*(){const I=E.result;I.objectStoreNames.contains(Ja)?f(I):(I.close(),yield function(){const E=indexedDB.deleteDatabase(Ps);return new _r(E).toPromise()}(),f(yield fn()))}))})}function Dn(E,f,g){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,y.Z)(function*(E,f,g){const I=ni(E,!0).put({[Ht]:f,value:g});return new _r(I).toPromise()})).apply(this,arguments)}function C(){return(C=(0,y.Z)(function*(E,f){const g=ni(E,!1).get(f),I=yield new _r(g).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function b(E,f){const g=ni(E,!0).delete(f);return new _r(g).toPromise()}const J=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,y.Z)(function*(){return g.db||(g.db=yield fn()),g.db})()}_withRetries(g){var I=this;return(0,y.Z)(function*(){let j=0;for(;;)try{const ie=yield I._openDb();return yield g(ie)}catch(ie){if(j++>3)throw ie;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,y.Z)(function*(){return Qa()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,y.Z)(function*(){g.receiver=Ta._getInstance(Qa()?self:null),g.receiver._subscribe("keyChanged",function(){var I=(0,y.Z)(function*(j,ie){return{keyProcessed:(yield g._poll()).includes(ie.key)}});return function(j,ie){return I.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var I=(0,y.Z)(function*(j,ie){return["keyChanged"]});return function(j,ie){return I.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,y.Z)(function*(){var I,j;if(g.activeServiceWorker=yield function(){return Aa.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Rs(g.activeServiceWorker);const ie=yield g.sender._send("ping",{},800);!ie||(null===(I=ie[0])||void 0===I?void 0:I.fulfilled)&&(null===(j=ie[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var I=this;return(0,y.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:g},I.serviceWorkerReceiverAvailable?800:50)}catch(j){}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const g=yield fn();return yield Dn(g,Ws,"1"),yield b(g,Ws),!0}catch(g){}return!1})()}_withPendingWrite(g){var I=this;return(0,y.Z)(function*(){I.pendingWrites++;try{yield g()}finally{I.pendingWrites--}})()}_set(g,I){var j=this;return(0,y.Z)(function*(){return j._withPendingWrite((0,y.Z)(function*(){return yield j._withRetries(ie=>Dn(ie,g,I)),j.localCache[g]=I,j.notifyServiceWorker(g)}))})()}_get(g){var I=this;return(0,y.Z)(function*(){const j=yield I._withRetries(ie=>function(E,f){return C.apply(this,arguments)}(ie,g));return I.localCache[g]=j,j})()}_remove(g){var I=this;return(0,y.Z)(function*(){return I._withPendingWrite((0,y.Z)(function*(){return yield I._withRetries(j=>b(j,g)),delete I.localCache[g],I.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,y.Z)(function*(){const I=yield g._withRetries(Ge=>{const Et=ni(Ge,!1).getAll();return new _r(Et).toPromise()});if(!I)return[];if(0!==g.pendingWrites)return[];const j=[],ie=new Set;for(const{fbase_key:Ge,value:Et}of I)ie.add(Ge),JSON.stringify(g.localCache[Ge])!==JSON.stringify(Et)&&(g.notifyListeners(Ge,Et),j.push(Ge));for(const Ge of Object.keys(g.localCache))g.localCache[Ge]&&!ie.has(Ge)&&(g.notifyListeners(Ge,null),j.push(Ge));return j})()}notifyListeners(g,I){this.localCache[g]=I;const j=this.listeners[g];if(j)for(const ie of Array.from(j))ie(I)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function _e(E,f){return zt(E,"POST","/v2/accounts/mfaSignIn:start",hn(E,f))}function Kt(){return(Kt=(0,y.Z)(function*(E){return(yield zt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function An(E){return new Promise((f,g)=>{const I=document.createElement("script");I.setAttribute("src",E),I.onload=f,I.onerror=j=>{const ie=Qe("internal-error");ie.customData=j,g(ie)},I.type="text/javascript",I.charset="UTF-8",function(){var E,f;return null!==(f=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==f?f:document}().appendChild(I)})}function dn(E){return`__${E}${Math.floor(1e6*Math.random())}`}const or=1e12;class Tn{constructor(f){this.auth=f,this.counter=or,this._widgets=new Map}render(f,g){const I=this.counter;return this._widgets.set(I,new Ns(f,this.auth.name,g||{})),this.counter++,I}reset(f){var g;const I=f||or;null===(g=this._widgets.get(I))||void 0===g||g.delete(),this._widgets.delete(I)}getResponse(f){var g;return(null===(g=this._widgets.get(f||or))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,y.Z)(function*(){var I;return null===(I=g._widgets.get(f||or))||void 0===I||I.execute(),""})()}}class Ns{constructor(f,g,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof f?document.getElementById(f):f;it(j,"argument-error",{appName:g}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}();const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vi=dn("rcb"),Eo=new Mt(3e4,6e4);class eh{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Zr().grecaptcha}load(f,g=""){return it((E=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Zr().grecaptcha):new Promise((I,j)=>{const ie=Zr().setTimeout(()=>{j(Qe(f,"network-request-failed"))},Eo.get());Zr()[Vi]=()=>{Zr().clearTimeout(ie),delete Zr()[Vi];const Et=Zr().grecaptcha;if(!Et)return void j(Qe(f,"internal-error"));const Xt=Et.render;Et.render=(an,Ln)=>{const at=Xt(an,Ln);return this.counter++,at},this.hostLanguage=g,I(Et)},An(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Vi,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ie),j(Qe(f,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Zr().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class eu{load(f){return(0,y.Z)(function*(){return new Tn(f)})()}clearedOneInstance(){}}const Yr="recaptcha",Ui={theme:"light",type:"image"};class ml{constructor(f,g=Object.assign({},Ui),I){this.parameters=g,this.type=Yr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(I),this.isInvisible="invisible"===this.parameters.size,it("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof f?document.getElementById(f):f;it(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new eu:new eh,this.validateStartingState()}verify(){var f=this;return(0,y.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),I=f.getAssertedRecaptcha();return I.getResponse(g)||new Promise(ie=>{const Ge=Et=>{!Et||(f.tokenChangeListeners.delete(Ge),ie(Et))};f.tokenChangeListeners.add(Ge),f.isInvisible&&I.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){it(!this.parameters.sitekey,this.auth,"argument-error"),it(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),it("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(I=>I(g)),"function"==typeof f)f(g);else if("string"==typeof f){const I=Zr()[f];"function"==typeof I&&I(g)}}}assertNotDestroyed(){it(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,y.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const I=document.createElement("div");g.appendChild(I),g=I}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,y.Z)(function*(){it(gt()&&!Qa(),f.auth,"internal-error"),yield function(){let E=null;return new Promise(f=>{"complete"!==document.readyState?(E=()=>f(),window.addEventListener("load",E)):f()}).catch(f=>{throw E&&window.removeEventListener("load",E),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function(E){return Kt.apply(this,arguments)}(f.auth);it(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return it(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hi{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=vi._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function zu(){return(zu=(0,y.Z)(function*(E,f,g){const I=wn(E),j=yield nu(I,f,(0,H.m9)(g));return new hi(j,ie=>O(I,ie))})).apply(this,arguments)}function xa(){return(xa=(0,y.Z)(function*(E,f,g){const I=(0,H.m9)(E);yield L(!1,I,"phone");const j=yield nu(I.auth,f,(0,H.m9)(g));return new hi(j,ie=>Q(I,ie))})).apply(this,arguments)}function tu(){return(tu=(0,y.Z)(function*(E,f,g){const I=(0,H.m9)(E),j=yield nu(I.auth,f,(0,H.m9)(g));return new hi(j,ie=>Bt(I,ie))})).apply(this,arguments)}function nu(E,f,g){return pn.apply(this,arguments)}function pn(){return(pn=(0,y.Z)(function*(E,f,g){var I;const j=yield g.verify();try{let ie;if(it("string"==typeof j,E,"argument-error"),it(g.type===Yr,E,"argument-error"),ie="string"==typeof f?{phoneNumber:f}:f,"session"in ie){const Ge=ie.session;if("phoneNumber"in ie)return it("enroll"===Ge.type,E,"internal-error"),(yield Fo(E,{idToken:Ge.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{it("signin"===Ge.type,E,"internal-error");const Et=(null===(I=ie.multiFactorHint)||void 0===I?void 0:I.uid)||ie.multiFactorUid;return it(Et,E,"missing-multi-factor-info"),(yield _e(E,{mfaPendingCredential:Ge.credential,mfaEnrollmentId:Et,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ge}=yield gn(E,{phoneNumber:ie.phoneNumber,recaptchaToken:j});return Ge}}finally{g._reset()}})).apply(this,arguments)}function dr(){return(dr=(0,y.Z)(function*(E,f){yield P((0,H.m9)(E),f)})).apply(this,arguments)}let qs=(()=>{class E{constructor(g){this.providerId=E.PROVIDER_ID,this.auth=wn(g)}verifyPhoneNumber(g,I){return nu(this.auth,g,(0,H.m9)(I))}static credential(g,I){return vi._fromVerification(g,I)}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:I,temporaryProof:j}=g;return I&&j?vi._fromTokenResponse(I,j):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function ps(E,f){return f?fe(f):(it(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class yl extends wr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return De(f,this._buildIdpRequest())}_linkToIdToken(f,g){return De(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return De(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Oc(E){return bt(E.auth,new yl(E),E.bypassAuthState)}function gs(E){const{auth:f,user:g}=E;return it(g,f,"internal-error"),Ie(g,new yl(E),E.bypassAuthState)}function Bi(E){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,y.Z)(function*(E){const{auth:f,user:g}=E;return it(g,f,"internal-error"),P(g,new yl(E),E.bypassAuthState)})).apply(this,arguments)}class bo{constructor(f,g,I,j,ie=!1){this.auth=f,this.resolver=I,this.user=j,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,y.Z)(function*(I,j){f.pendingPromise={resolve:I,reject:j};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(ie){f.reject(ie)}});return function(I,j){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,y.Z)(function*(){const{urlResponse:I,sessionId:j,postBody:ie,tenantId:Ge,error:Et,type:Xt}=f;if(Et)return void g.reject(Et);const an={auth:g.auth,requestUri:I,sessionId:j,tenantId:Ge||void 0,postBody:ie||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Xt)(an))}catch(Ln){g.reject(Ln)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Oc;case"linkViaPopup":case"linkViaRedirect":return Bi;case"reauthViaPopup":case"reauthViaRedirect":return gs;default:Ye(this.auth,"internal-error")}}resolve(f){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vo=new Mt(2e3,1e4);function ru(){return(ru=(0,y.Z)(function*(E,f,g){const I=wn(E);lt(E,f,Si);const j=ps(I,g);return new ss(I,"signInViaPopup",f,j).executeNotNull()})).apply(this,arguments)}function Ji(){return(Ji=(0,y.Z)(function*(E,f,g){const I=(0,H.m9)(E);lt(I.auth,f,Si);const j=ps(I.auth,g);return new ss(I.auth,"reauthViaPopup",f,j,I).executeNotNull()})).apply(this,arguments)}function Ar(){return(Ar=(0,y.Z)(function*(E,f,g){const I=(0,H.m9)(E);lt(I.auth,f,Si);const j=ps(I.auth,g);return new ss(I.auth,"linkViaPopup",f,j,I).executeNotNull()})).apply(this,arguments)}let ss=(()=>{class E extends bo{constructor(g,I,j,ie,Ge){super(g,I,ie,Ge),this.provider=j,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var g=this;return(0,y.Z)(function*(){const I=yield g.execute();return it(I,g.auth,"internal-error"),I})()}onExecution(){var g=this;return(0,y.Z)(function*(){qe(1===g.filter.length,"Popup operations only handle one event");const I=zs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],I),g.authWindow.associatedEvent=I,g.resolver._originValidation(g.auth).catch(j=>{g.reject(j)}),g.resolver._isIframeWebStorageSupported(g.auth,j=>{j||g.reject(Qe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Qe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const g=()=>{var I,j;this.pollId=(null===(j=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===j?void 0:j.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Qe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Vo.get())};g()}}return E.currentPopupAction=null,E})();const Ys=new Map;class x extends bo{constructor(f,g,I=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,I),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,y.Z)(function*(){let I=Ys.get(g.auth._key());if(!I){try{const ie=(yield function(E,f){return X.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;I=()=>Promise.resolve(ie)}catch(j){I=()=>Promise.reject(j)}Ys.set(g.auth._key(),I)}return I()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,I=this;return(0,y.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(I,f);if("unknown"!==f.type){if(f.eventId){const j=yield I.auth._redirectUserForId(f.eventId);if(j)return I.user=j,g().call(I,f);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function X(){return(X=(0,y.Z)(function*(E,f){const g=un(f),I="true"===(yield kt(E)._get(g));return yield kt(E)._remove(g),I})).apply(this,arguments)}function pe(E,f){return Je.apply(this,arguments)}function Je(){return(Je=(0,y.Z)(function*(E,f){return kt(E)._set(un(f),"true")})).apply(this,arguments)}function kt(E){return fe(E._redirectPersistence)}function un(E){return Jn("pendingRedirect",E.config.apiKey,E.name)}function Lr(){return(Lr=(0,y.Z)(function*(E,f,g){const I=wn(E);lt(E,f,Si);const j=ps(I,g);return yield pe(j,I),j._openRedirect(I,f,"signInViaRedirect")})).apply(this,arguments)}function Sr(){return(Sr=(0,y.Z)(function*(E,f,g){const I=(0,H.m9)(E);lt(I.auth,f,Si);const j=ps(I.auth,g);yield pe(j,I.auth);const ie=yield Co(I);return j._openRedirect(I.auth,f,"reauthViaRedirect",ie)})).apply(this,arguments)}function Ra(){return(Ra=(0,y.Z)(function*(E,f,g){const I=(0,H.m9)(E);lt(I.auth,f,Si);const j=ps(I.auth,g);yield L(!1,I,f.providerId),yield pe(j,I.auth);const ie=yield Co(I);return j._openRedirect(I.auth,f,"linkViaRedirect",ie)})).apply(this,arguments)}function ua(){return(ua=(0,y.Z)(function*(E,f){return yield wn(E)._initializationPromise,os(E,f,!1)})).apply(this,arguments)}function os(E,f){return iu.apply(this,arguments)}function iu(){return(iu=(0,y.Z)(function*(E,f,g=!1){const I=wn(E),j=ps(I,f),Ge=yield new x(I,j,g).execute();return Ge&&!g&&(delete Ge.user._redirectEventId,yield I._persistUserIfCurrent(Ge.user),yield I._setRedirectUser(null,f)),Ge})).apply(this,arguments)}function Co(E){return qu.apply(this,arguments)}function qu(){return(qu=(0,y.Z)(function*(E){const f=zs(`${E.uid}:::`);return E._redirectEventId=f,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),f})).apply(this,arguments)}class xc{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(f,I)&&(g=!0,this.sendToConsumer(f,I),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ca(E);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var I;if(f.error&&!ca(f)){const j=(null===(I=f.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";g.onError(Qe(this.auth,j))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const I=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&I}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(td(f))}saveEventToCache(f){this.cachedEventUids.add(td(f)),this.lastProcessedEventTime=Date.now()}}function td(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(f=>f).join("-")}function ca({type:E,error:f}){return"unknown"===E&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Qs(E){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,y.Z)(function*(E,f={}){return zt(E,"GET","/v1/projects",f)})).apply(this,arguments)}const Zu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$f=/^https?/;function Ds(){return(Ds=(0,y.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:f}=yield Qs(E);for(const g of f)try{if(Yu(g))return}catch(I){}Ye(E,"unauthorized-domain")})).apply(this,arguments)}function Yu(E){const f=et(),{protocol:g,hostname:I}=new URL(f);if(E.startsWith("chrome-extension://")){const Ge=new URL(E);return""===Ge.hostname&&""===I?"chrome-extension:"===g&&E.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&Ge.hostname===I}if(!$f.test(g))return!1;if(Zu.test(E))return I===E;const j=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(I)}const ou=new Mt(3e4,6e4);function nd(){const E=Zr().___jsl;if(null==E?void 0:E.H)for(const f of Object.keys(E.H))if(E.H[f].r=E.H[f].r||[],E.H[f].L=E.H[f].L||[],E.H[f].r=[...E.H[f].L],E.CP)for(let g=0;g<E.CP.length;g++)E.CP[g]=null}let Cu=null;function Iu(E){return Cu=Cu||function(E){return new Promise((f,g)=>{var I,j,ie;function Ge(){nd(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{nd(),g(Qe(E,"network-request-failed"))},timeout:ou.get()})}if(null===(j=null===(I=Zr().gapi)||void 0===I?void 0:I.iframes)||void 0===j?void 0:j.Iframe)f(gapi.iframes.getContext());else{if(!(null===(ie=Zr().gapi)||void 0===ie?void 0:ie.load)){const Et=dn("iframefcb");return Zr()[Et]=()=>{gapi.load?Ge():g(Qe(E,"network-request-failed"))},An(`https://apis.google.com/js/api.js?onload=${Et}`)}Ge()}}).catch(f=>{throw Cu=null,f})}(E),Cu}const nh=new Mt(5e3,15e3),Bo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},jo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ih(E){const f=E.config;it(f.authDomain,E,"auth-domain-config-required");const g=f.emulator?tn(f,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,I={apiKey:f.apiKey,appName:E.name,v:ge.SDK_VERSION},j=jo.get(E.config.apiHost);j&&(I.eid=j);const ie=E._getFrameworks();return ie.length&&(I.fw=ie.join(",")),`${g}?${(0,H.xO)(I).slice(1)}`}function Rc(){return(Rc=(0,y.Z)(function*(E){const f=yield Iu(E),g=Zr().gapi;return it(g,E,"internal-error"),f.open({where:document.body,url:ih(E),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bo,dontclear:!0},I=>new Promise(function(){var j=(0,y.Z)(function*(ie,Ge){yield I.restyle({setHideOnLeave:!1});const Et=Qe(E,"network-request-failed"),Xt=Zr().setTimeout(()=>{Ge(Et)},nh.get());function an(){Zr().clearTimeout(Xt),ie(I)}I.ping(an).then(an,()=>{Ge(Et)})});return function(ie,Ge){return j.apply(this,arguments)}}()))})).apply(this,arguments)}const Ju={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Nc{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function vl(E,f,g,I,j,ie){it(E.config.authDomain,E,"auth-domain-config-required"),it(E.config.apiKey,E,"invalid-api-key");const Ge={apiKey:E.config.apiKey,appName:E.name,authType:g,redirectUrl:I,v:ge.SDK_VERSION,eventId:j};if(f instanceof Si){f.setDefaultLanguage(E.languageCode),Ge.providerId=f.providerId||"",(0,H.xb)(f.getCustomParameters())||(Ge.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Xt,an]of Object.entries(ie||{}))Ge[Xt]=an}if(f instanceof ws){const Xt=f.getScopes().filter(an=>""!==an);Xt.length>0&&(Ge.scopes=Xt.join(","))}E.tenantId&&(Ge.tid=E.tenantId);const Et=Ge;for(const Xt of Object.keys(Et))void 0===Et[Xt]&&delete Et[Xt];return`${function({config:E}){return E.emulator?tn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,H.xO)(Et).slice(1)}`}const Xu="webStorageSupport";class da extends class{constructor(f){this.factorId=f}_process(f,g,I){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,I);case"signin":return this._finalizeSignIn(f,g.credential);default:return le("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new da(f)}_finalizeEnroll(f,g,I){return function(E,f){return zt(E,"POST","/v2/accounts/mfaEnrollment:finalize",hn(E,f))}(f,{idToken:g,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function(E,f){return zt(E,"POST","/v2/accounts/mfaSignIn:finalize",hn(E,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let oh=(()=>{class E{constructor(){}static assertion(g){return da._fromCredential(g)}}return E.FACTOR_ID="phone",E})();var E;class sd{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,y.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(I=>{var j;f((null===(j=I)||void 0===j?void 0:j.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fa(){return window}function ec(){return(ec=(0,y.Z)(function*(E,f,g){var I;const{BuildInfo:j}=Fa();qe(f.sessionId,"AuthEvent did not contain a session ID");const ie=yield ad(f.sessionId),Ge={};return Gn()?Ge.ibi=j.packageName:_n()?Ge.apn=j.packageName:Ye(E,"operation-not-supported-in-this-environment"),j.displayName&&(Ge.appDisplayName=j.displayName),Ge.sessionId=ie,vl(E,g,f.type,void 0,null!==(I=f.eventId)&&void 0!==I?I:void 0,Ge)})).apply(this,arguments)}function ri(){return(ri=(0,y.Z)(function*(E){const{BuildInfo:f}=Fa(),g={};Gn()?g.iosBundleId=f.packageName:_n()?g.androidPackageName=f.packageName:Ye(E,"operation-not-supported-in-this-environment"),yield Qs(E,g)})).apply(this,arguments)}function Fs(){return(Fs=(0,y.Z)(function*(E,f,g){const{cordova:I}=Fa();let j=()=>{};try{yield new Promise((ie,Ge)=>{let Et=null;function Xt(){var at;ie();const Di=null===(at=I.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Di&&Di(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function an(){Et||(Et=window.setTimeout(()=>{Ge(Qe(E,"redirect-cancelled-by-user"))},2e3))}function Ln(){"visible"===(null==document?void 0:document.visibilityState)&&an()}f.addPassiveListener(Xt),document.addEventListener("resume",an,!1),_n()&&document.addEventListener("visibilitychange",Ln,!1),j=()=>{f.removePassiveListener(Xt),document.removeEventListener("resume",an,!1),document.removeEventListener("visibilitychange",Ln,!1),Et&&window.clearTimeout(Et)}})}finally{j()}})).apply(this,arguments)}function ad(E){return ch.apply(this,arguments)}function ch(){return(ch=(0,y.Z)(function*(E){const f=lh(E),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(j=>j.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function lh(E){if(qe(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(E);const f=new ArrayBuffer(E.length),g=new Uint8Array(f);for(let I=0;I<E.length;I++)g[I]=E.charCodeAt(I);return g}E="Browser",(0,ge._registerComponent)(new ne.wA("auth",(f,{options:g})=>{const I=f.getProvider("app").getImmediate(),{apiKey:j,authDomain:ie}=I.options;return(Ge=>{it(j&&!j.includes(":"),"invalid-api-key",{appName:Ge.name}),it(!(null==ie?void 0:ie.includes(":")),"argument-error",{appName:Ge.name});const Et={apiKey:j,authDomain:ie,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vn(E)},Xt=new pr(Ge,Et);return function(E,f){const g=(null==f?void 0:f.persistence)||[],I=(Array.isArray(g)?g:[g]).map(fe);(null==f?void 0:f.errorMap)&&E._updateErrorMap(f.errorMap),E._initializeWithPersistence(I,null==f?void 0:f.popupRedirectResolver)}(Xt,g),Xt})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,I)=>{f.getProvider("auth-internal").initialize()})),(0,ge._registerComponent)(new ne.wA("auth-internal",f=>{const g=wn(f.getProvider("auth").getImmediate());return new sd(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ge.registerVersion)("@firebase/auth","0.18.2",void 0);class Or extends xc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,y.Z)(function*(){yield f.initPromise})()}}function Tu(E){return uu.apply(this,arguments)}function uu(){return(uu=(0,y.Z)(function*(E){const f=yield ud()._get(cd(E));return f&&(yield ud()._remove(cd(E))),f})).apply(this,arguments)}function Yf(){const E=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const I=Math.floor(Math.random()*f.length);E.push(f.charAt(I))}return E.join("")}function ud(){return fe(Da)}function cd(E){return Jn("authEvent",E.config.apiKey,E.name)}function Au(E){if(!(null==E?void 0:E.includes("?")))return{};const[f,...g]=E.split("?");return(0,H.zd)(g.join("?"))}function tc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Qe("no-auth-event")}}function cu(){var E;return(null===(E=null==self?void 0:self.location)||void 0===E?void 0:E.protocol)||null}function Js(E=(0,H.z$)()){return!("file:"!==cu()&&"ionic:"!==cu()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Uc(){try{const E=self.localStorage,f=zs();if(E)return E.setItem(f,"1"),E.removeItem(f),!function(E=(0,H.z$)()){return(0,H.w1)()&&11===(null==document?void 0:document.documentMode)||function(E=(0,H.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,H.hl)()}catch(E){return Bc()&&(0,H.hl)()}return!1}function Bc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function hd(){return("http:"===cu()||"https:"===cu()||(0,H.ru)()||Js())&&!((0,H.b$)()||(0,H.UG)())&&Uc()&&!Bc()}function ph(){return Js()&&"undefined"!=typeof document}function Il(){return(Il=(0,y.Z)(function*(){return!!ph()&&new Promise(E=>{const f=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),E(!0)})})})).apply(this,arguments)}const Xs={LOCAL:"local",NONE:"none",SESSION:"session"},jc=it,gh="persistence";function us(E){return ic.apply(this,arguments)}function ic(){return(ic=(0,y.Z)(function*(E){yield E._initializationPromise;const f=Dl(),g=Jn(gh,E.config.apiKey,E.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(g,E._getPersistence())})).apply(this,arguments)}function Dl(){return"undefined"!=typeof window?window:null}const ys=it;class Io{constructor(){this.browserResolver=fe(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oi,this._completeRedirectFn=os}_openPopup(f,g,I,j){var ie=this;return(0,y.Z)(function*(){var Ge;qe(null===(Ge=ie.eventManagers[f._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const Et=vl(f,g,I,et(),j);return function(E,f,g,I=500,j=600){const ie=Math.max((window.screen.availHeight-j)/2,0).toString(),Ge=Math.max((window.screen.availWidth-I)/2,0).toString();let Et="";const Xt=Object.assign(Object.assign({},Ju),{width:I.toString(),height:j.toString(),top:ie,left:Ge}),an=(0,H.z$)().toLowerCase();g&&(Et=vr(an)?"_blank":g),yr(an)&&(f=f||"http://localhost",Xt.scrollbars="yes");const Ln=Object.entries(Xt).reduce((Di,[Ti,pd])=>`${Di}${Ti}=${pd},`,"");if(function(E=(0,H.z$)()){var f;return Gn(E)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(an)&&"_self"!==Et)return function(E,f){const g=document.createElement("a");g.href=E,g.target=f;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(I)}(f||"",Et),new Nc(null);const at=window.open(f||"",Et,Ln);it(at,E,"popup-blocked");try{at.focus()}catch(Di){}return new Nc(at)}(f,Et,zs())})()}_openRedirect(f,g,I,j){var ie=this;return(0,y.Z)(function*(){return yield ie._originValidation(f),E=vl(f,g,I,et(),j),Zr().location.href=E,new Promise(()=>{});var E})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:j,promise:ie}=this.eventManagers[g];return j?Promise.resolve(j):(qe(ie,"If manager is not set, promise should be"),ie)}const I=this.initAndGetManager(f);return this.eventManagers[g]={promise:I},I}initAndGetManager(f){var g=this;return(0,y.Z)(function*(){const I=yield function(E){return Rc.apply(this,arguments)}(f),j=new xc(f);return I.register("authEvent",ie=>(it(null==ie?void 0:ie.authEvent,f,"invalid-auth-event"),{status:j.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:j},g.iframes[f._key()]=I,j})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Xu,{type:Xu},j=>{var ie;const Ge=null===(ie=null==j?void 0:j[0])||void 0===ie?void 0:ie[Xu];void 0!==Ge&&g(!!Ge),Ye(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(E){return Ds.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return qt()||Jr()||Gn()}}),this.cordovaResolver=fe(class{constructor(){this._redirectPersistence=Oi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=os}_initialize(f){var g=this;return(0,y.Z)(function*(){const I=f._key();let j=g.eventManagers.get(I);return j||(j=new Or(f),g.eventManagers.set(I,j),g.attachCallbackListeners(f,j)),j})()}_openPopup(f){Ye(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,I,j){var ie=this;return(0,y.Z)(function*(){!function(E){var f,g,I,j,ie,Ge,Et,Xt,an,Ln;const at=Fa();it("function"==typeof(null===(f=null==at?void 0:at.universalLinks)||void 0===f?void 0:f.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),it(void 0!==(null===(g=null==at?void 0:at.BuildInfo)||void 0===g?void 0:g.packageName),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),it("function"==typeof(null===(ie=null===(j=null===(I=null==at?void 0:at.cordova)||void 0===I?void 0:I.plugins)||void 0===j?void 0:j.browsertab)||void 0===ie?void 0:ie.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),it("function"==typeof(null===(Xt=null===(Et=null===(Ge=null==at?void 0:at.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===Et?void 0:Et.browsertab)||void 0===Xt?void 0:Xt.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),it("function"==typeof(null===(Ln=null===(an=null==at?void 0:at.cordova)||void 0===an?void 0:an.InAppBrowser)||void 0===Ln?void 0:Ln.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Ge=yield ie._initialize(f);yield Ge.initialized(),Ge.resetRedirect(),Ys.clear(),yield ie._originValidation(f);const Et=function(E,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Yf(),postBody:null,tenantId:E.tenantId,error:Qe(E,"no-auth-event")}}(f,I,j);yield function(E,f){return ud()._set(cd(E),f)}(f,Et);const Xt=yield function(E,f,g){return ec.apply(this,arguments)}(f,Et,g),an=yield function(E){const{cordova:f}=Fa();return new Promise(g=>{f.plugins.browsertab.isAvailable(I=>{let j=null;I?f.plugins.browsertab.openUrl(E):j=f.InAppBrowser.open(E,function(E=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),g(j)})})}(Xt);return function(E,f,g){return Fs.apply(this,arguments)}(f,Ge,an)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(E){return ri.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:I,handleOpenURL:j,BuildInfo:ie}=Fa(),Ge=setTimeout((0,y.Z)(function*(){yield Tu(f),g.onEvent(tc())}),500),Et=function(){var Ln=(0,y.Z)(function*(at){clearTimeout(Ge);const Di=yield Tu(f);let Ti=null;Di&&(null==at?void 0:at.url)&&(Ti=function(E,f){var g,I;const j=function(E){const f=Au(E),g=f.link?decodeURIComponent(f.link):void 0,I=Au(g).link,j=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Au(j).link||j||I||g||E}(f);if(j.includes("/__/auth/callback")){const ie=Au(j),Ge=ie.firebaseError?function(E){try{return JSON.parse(E)}catch(f){return null}}(decodeURIComponent(ie.firebaseError)):null,Et=null===(I=null===(g=null==Ge?void 0:Ge.code)||void 0===g?void 0:g.split("auth/"))||void 0===I?void 0:I[1],Xt=Et?Qe(Et):null;return Xt?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:Xt,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:j,postBody:null}}return null}(Di,at.url)),g.onEvent(Ti||tc())});return function(Di){return Ln.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,Et);const Xt=j,an=`${ie.packageName.toLowerCase()}://`;Fa().handleOpenURL=function(){var Ln=(0,y.Z)(function*(at){if(at.toLowerCase().startsWith(an)&&Et({url:at}),"function"==typeof Xt)try{Xt(at)}catch(Di){console.error(Di)}});return function(at){return Ln.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Oi,this._completeRedirectFn=os}_initialize(f){var g=this;return(0,y.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,I,j){var ie=this;return(0,y.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openPopup(f,g,I,j)})()}_openRedirect(f,g,I,j){var ie=this;return(0,y.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openRedirect(f,g,I,j)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ph()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ys(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,y.Z)(function*(){if(f.underlyingResolver)return;const g=yield function(){return Il.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function ka(E){return E.unwrap()}function Jf(E){return yh(E)}function yh(E){const{_tokenResponse:f}=E instanceof H.ZR?E.customData:E;if(!f)return null;if(!(E instanceof H.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return qs.credentialFromResult(E);const g=f.providerId;if(!g||"password"===g)return null;let I;switch(g){case"google.com":I=Ni;break;case"facebook.com":I=ls;break;case"github.com":I=ao;break;case"twitter.com":I=Tr;break;default:const{oauthIdToken:j,oauthAccessToken:ie,oauthTokenSecret:Ge,pendingToken:Et,nonce:Xt}=f;return ie||Ge||j||Et?Et?g.startsWith("saml.")?$i._create(g,Et):pt._fromParams({providerId:g,signInMethod:g,pendingToken:Et,idToken:j,accessToken:ie}):new ji(g).credential({idToken:j,accessToken:ie,rawNonce:Xt}):null}return E instanceof H.ZR?I.credentialFromError(E):I.credentialFromResult(E)}function _s(E,f){return f.catch(g=>{throw g instanceof H.ZR&&function(E,f){var g;const I=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new _h(E,function(E,f){var g;const I=(0,H.m9)(E),j=f;return it(f.operationType,I,"argument-error"),it(null===(g=j.serverResponse)||void 0===g?void 0:g.mfaPendingCredential,I,"argument-error"),_o._fromError(I,j)}(E,f));else if(I){const j=yh(f),ie=f;j&&(ie.credential=j,ie.tenantId=I.tenantId||void 0,ie.email=I.email||void 0,ie.phoneNumber=I.phoneNumber||void 0)}}(E,g),g}).then(g=>{const j=g.user;return{operationType:g.operationType,credential:Jf(g),additionalUserInfo:Ac(g),user:cs.getOrCreate(j)}})}function eo(E,f){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,y.Z)(function*(E,f){const g=yield f;return{verificationId:g.verificationId,confirm:I=>_s(E,g.confirm(I))}})).apply(this,arguments)}class _h{constructor(f,g){this.resolver=g,this.auth=function(E){return E.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return _s(ka(this.auth),this.resolver.resolveSignIn(f))}}class cs{constructor(f){this._delegate=f,this.multiFactor=function(E){const f=(0,H.m9)(E);return ki.has(f)||ki.set(f,qa._fromUser(f)),ki.get(f)}(f)}static getOrCreate(f){return cs.USER_MAP.has(f)||cs.USER_MAP.set(f,new cs(f)),cs.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,y.Z)(function*(){return _s(g.auth,Q(g._delegate,f))})()}linkWithPhoneNumber(f,g){var I=this;return(0,y.Z)(function*(){return eo(I.auth,function(E,f,g){return xa.apply(this,arguments)}(I._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,y.Z)(function*(){return _s(g.auth,function(E,f,g){return Ar.apply(this,arguments)}(g._delegate,f,Io))})()}linkWithRedirect(f){var g=this;return(0,y.Z)(function*(){return yield us(wn(g.auth)),function(E,f,g){return function(E,f,g){return Ra.apply(this,arguments)}(E,f,g)}(g._delegate,f,Io)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,y.Z)(function*(){return _s(g.auth,Bt(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return eo(this.auth,function(E,f,g){return tu.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return _s(this.auth,function(E,f,g){return Ji.apply(this,arguments)}(this._delegate,f,Io))}reauthenticateWithRedirect(f){var g=this;return(0,y.Z)(function*(){return yield us(wn(g.auth)),function(E,f,g){return function(E,f,g){return Sr.apply(this,arguments)}(E,f,g)}(g._delegate,f,Io)})()}sendEmailVerification(f){return function(E,f){return wi.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,y.Z)(function*(){return yield function(E,f){return Mo.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function(E,f){return Jo((0,H.m9)(E),f,null)}(this._delegate,f)}updatePassword(f){return function(E,f){return Jo((0,H.m9)(E),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(E,f){return dr.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(E,f){return fo.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function(E,f,g){return kr.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}cs.USER_MAP=new WeakMap;const $c=it;let Ts=(()=>{class E{constructor(g,I){if(this.app=g,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:j}=g.options;$c(j,"invalid-api-key",{appName:g.name});let ie=[rn];if("undefined"!=typeof window){ie=function(E,f){const g=Dl();if(!(null==g?void 0:g.sessionStorage))return[];const I=Jn(gh,E,f);switch(g.sessionStorage.getItem(I)){case Xs.NONE:return[rn];case Xs.LOCAL:return[J,Oi];case Xs.SESSION:return[Oi];default:return[]}}(j,g.name);for(const Et of[J,Da,Oi])ie.includes(Et)||ie.push(Et)}$c(j,"invalid-api-key",{appName:g.name});const Ge="undefined"!=typeof window?Io:void 0;this._delegate=I.initialize({options:{persistence:ie,popupRedirectResolver:Ge}}),this._delegate._updateErrorMap(Le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?cs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,I){!function(E,f,g){const I=wn(E);it(I._canInitEmulator,I,"emulator-config-failed"),it(/^https?:\/\//.test(f),I,"invalid-emulator-scheme");const j=!!(null==g?void 0:g.disableWarnings),ie=Wn(f),{host:Ge,port:Et}=function(E){const f=Wn(E),g=/(\/\/)?([^?#/]+)/.exec(E.substr(f.length));if(!g)return{host:"",port:null};const I=g[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(I);if(j){const ie=j[1];return{host:ie,port:Mi(I.substr(ie.length+1))}}{const[ie,Ge]=I.split(":");return{host:ie,port:Mi(Ge)}}}(f);I.config.emulator={url:`${ie}//${Ge}${null===Et?"":`:${Et}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ge,port:Et,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function(){function E(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,g,I)}applyActionCode(g){return function(E,f){return js.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Nt(this._delegate,g)}confirmPasswordReset(g,I){return function(E,f,g){return Yo.apply(this,arguments)}(this._delegate,g,I)}createUserWithEmailAndPassword(g,I){var j=this;return(0,y.Z)(function*(){return _s(j._delegate,function(E,f,g){return $s.apply(this,arguments)}(j._delegate,g,I))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(E,f){return Ro.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(E,f){const g=ns.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,y.Z)(function*(){$c(hd(),g._delegate,"operation-not-supported-in-this-environment");const I=yield function(E,f){return ua.apply(this,arguments)}(g._delegate,Io);return I?_s(g._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(E,f){wn(E)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,I,j){const{next:ie,error:Ge,complete:Et}=$o(g,I,j);return this._delegate.onAuthStateChanged(ie,Ge,Et)}onIdTokenChanged(g,I,j){const{next:ie,error:Ge,complete:Et}=$o(g,I,j);return this._delegate.onIdTokenChanged(ie,Ge,Et)}sendSignInLinkToEmail(g,I){return function(E,f,g){return ba.apply(this,arguments)}(this._delegate,g,I)}sendPasswordResetEmail(g,I){return function(E,f,g){return Zo.apply(this,arguments)}(this._delegate,g,I||void 0)}setPersistence(g){var I=this;return(0,y.Z)(function*(){let j;switch(function(E,f){jc(Object.values(Xs).includes(f),E,"invalid-persistence-type"),(0,H.b$)()?jc(f!==Xs.SESSION,E,"unsupported-persistence-type"):(0,H.UG)()?jc(f===Xs.NONE,E,"unsupported-persistence-type"):Bc()?jc(f===Xs.NONE||f===Xs.LOCAL&&(0,H.hl)(),E,"unsupported-persistence-type"):jc(f===Xs.NONE||Uc(),E,"unsupported-persistence-type")}(I._delegate,g),g){case Xs.SESSION:j=Oi;break;case Xs.LOCAL:j=(yield fe(J)._isAvailable())?J:Da;break;case Xs.NONE:j=rn;break;default:return Ye("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(j)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return _s(this._delegate,function(E){return ds.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return _s(this._delegate,O(this._delegate,g))}signInWithCustomToken(g){return _s(this._delegate,function(E,f){return li.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,I){return _s(this._delegate,function(E,f,g){return O((0,H.m9)(E),Pi.credential(f,g))}(this._delegate,g,I))}signInWithEmailLink(g,I){return _s(this._delegate,function(E,f,g){return Gs.apply(this,arguments)}(this._delegate,g,I))}signInWithPhoneNumber(g,I){return eo(this._delegate,function(E,f,g){return zu.apply(this,arguments)}(this._delegate,g,I))}signInWithPopup(g){var I=this;return(0,y.Z)(function*(){return $c(hd(),I._delegate,"operation-not-supported-in-this-environment"),_s(I._delegate,function(E,f,g){return ru.apply(this,arguments)}(I._delegate,g,Io))})()}signInWithRedirect(g){var I=this;return(0,y.Z)(function*(){return $c(hd(),I._delegate,"operation-not-supported-in-this-environment"),yield us(I._delegate),function(E,f,g){return function(E,f,g){return Lr.apply(this,arguments)}(E,f,g)}(I._delegate,g,Io)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(E,f){return Fr.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=Xs,E})();function $o(E,f,g){let I=E;"function"!=typeof E&&({next:I,error:f,complete:g}=E);const j=I;return{next:Ge=>j(Ge&&cs.getOrCreate(Ge)),error:f,complete:g}}class jr{constructor(){this.providerId="phone",this._delegate=new qs(ka(R.Z.auth()))}static credential(f,g){return qs.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}jr.PHONE_SIGN_IN_METHOD=qs.PHONE_SIGN_IN_METHOD,jr.PROVIDER_ID=qs.PROVIDER_ID;const vs=it;class im{constructor(f,g,I=R.Z.app()){var j;vs(null===(j=I.options)||void 0===j?void 0:j.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new ml(f,g,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(E){E.INTERNAL.registerComponent(new ne.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),I=f.getProvider("auth");return new Ts(g,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Pi,FacebookAuthProvider:ls,GithubAuthProvider:ao,GoogleAuthProvider:Ni,OAuthProvider:ji,PhoneAuthProvider:jr,PhoneMultiFactorGenerator:oh,RecaptchaVerifier:im,TwitterAuthProvider:Tr,Auth:Ts,AuthCredential:wr,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.1.5")}(R.Z)},6676:function(Pe,de){!function(S){"use strict";function y(Ue){return Array.prototype.slice.call(Ue)}function R(Ue){return new Promise(function(Ce,Fe){Ue.onsuccess=function(){Ce(Ue.result)},Ue.onerror=function(){Fe(Ue.error)}})}function H(Ue,Ce,Fe){var ae,Ye=new Promise(function(Qe,St){R(ae=Ue[Ce].apply(Ue,Fe)).then(Qe,St)});return Ye.request=ae,Ye}function ge(Ue,Ce,Fe){var ae=H(Ue,Ce,Fe);return ae.then(function(Ye){if(Ye)return new G(Ye,ae.request)})}function ee(Ue,Ce,Fe){Fe.forEach(function(ae){Object.defineProperty(Ue.prototype,ae,{get:function(){return this[Ce][ae]},set:function(Ye){this[Ce][ae]=Ye}})})}function $(Ue,Ce,Fe,ae){ae.forEach(function(Ye){Ye in Fe.prototype&&(Ue.prototype[Ye]=function(){return H(this[Ce],Ye,arguments)})})}function ne(Ue,Ce,Fe,ae){ae.forEach(function(Ye){Ye in Fe.prototype&&(Ue.prototype[Ye]=function(){return this[Ce][Ye].apply(this[Ce],arguments)})})}function Y(Ue,Ce,Fe,ae){ae.forEach(function(Ye){Ye in Fe.prototype&&(Ue.prototype[Ye]=function(){return ge(this[Ce],Ye,arguments)})})}function q(Ue){this._index=Ue}function G(Ue,Ce){this._cursor=Ue,this._request=Ce}function K(Ue){this._store=Ue}function z(Ue){this._tx=Ue,this.complete=new Promise(function(Ce,Fe){Ue.oncomplete=function(){Ce()},Ue.onerror=function(){Fe(Ue.error)},Ue.onabort=function(){Fe(Ue.error)}})}function oe(Ue,Ce,Fe){this._db=Ue,this.oldVersion=Ce,this.transaction=new z(Fe)}function He(Ue){this._db=Ue}ee(q,"_index",["name","keyPath","multiEntry","unique"]),$(q,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Y(q,"_index",IDBIndex,["openCursor","openKeyCursor"]),ee(G,"_cursor",["direction","key","primaryKey","value"]),$(G,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ue){Ue in IDBCursor.prototype&&(G.prototype[Ue]=function(){var Ce=this,Fe=arguments;return Promise.resolve().then(function(){return Ce._cursor[Ue].apply(Ce._cursor,Fe),R(Ce._request).then(function(ae){if(ae)return new G(ae,Ce._request)})})})}),K.prototype.createIndex=function(){return new q(this._store.createIndex.apply(this._store,arguments))},K.prototype.index=function(){return new q(this._store.index.apply(this._store,arguments))},ee(K,"_store",["name","keyPath","indexNames","autoIncrement"]),$(K,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Y(K,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ne(K,"_store",IDBObjectStore,["deleteIndex"]),z.prototype.objectStore=function(){return new K(this._tx.objectStore.apply(this._tx,arguments))},ee(z,"_tx",["objectStoreNames","mode"]),ne(z,"_tx",IDBTransaction,["abort"]),oe.prototype.createObjectStore=function(){return new K(this._db.createObjectStore.apply(this._db,arguments))},ee(oe,"_db",["name","version","objectStoreNames"]),ne(oe,"_db",IDBDatabase,["deleteObjectStore","close"]),He.prototype.transaction=function(){return new z(this._db.transaction.apply(this._db,arguments))},ee(He,"_db",["name","version","objectStoreNames"]),ne(He,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ue){[K,q].forEach(function(Ce){Ue in Ce.prototype&&(Ce.prototype[Ue.replace("open","iterate")]=function(){var Fe=y(arguments),ae=Fe[Fe.length-1],Ye=this._store||this._index,Qe=Ye[Ue].apply(Ye,Fe.slice(0,-1));Qe.onsuccess=function(){ae(Qe.result)}})})}),[q,K].forEach(function(Ue){Ue.prototype.getAll||(Ue.prototype.getAll=function(Ce,Fe){var ae=this,Ye=[];return new Promise(function(Qe){ae.iterateCursor(Ce,function(St){St?(Ye.push(St.value),void 0===Fe||Ye.length!=Fe?St.continue():Qe(Ye)):Qe(Ye)})})})}),S.openDb=function(Ue,Ce,Fe){var ae=H(indexedDB,"open",[Ue,Ce]),Ye=ae.request;return Ye&&(Ye.onupgradeneeded=function(Qe){Fe&&Fe(new oe(Ye.result,Qe.oldVersion,Ye.transaction))}),ae.then(function(Qe){return new He(Qe)})},S.deleteDb=function(Ue){return H(indexedDB,"deleteDatabase",[Ue])},Object.defineProperty(S,"__esModule",{value:!0})}(de)},7336:(Pe,de,S)=>{"use strict";function ee(Be,je,ve,Re){var xt,ft=arguments.length,wt=ft<3?je:null===Re?Re=Object.getOwnPropertyDescriptor(je,ve):Re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)wt=Reflect.decorate(Be,je,ve,Re);else for(var Wt=Be.length-1;Wt>=0;Wt--)(xt=Be[Wt])&&(wt=(ft<3?xt(wt):ft>3?xt(je,ve,wt):xt(je,ve))||wt);return ft>3&&wt&&Object.defineProperty(je,ve,wt),wt}S.d(de,{OP:()=>Gt,ZQ:()=>zt});var ye=S(4788),it=S(3738),le=S(2057);function qe(Be,je){if(1&Be&&(ye.TgZ(0,"span"),ye._uU(1),ye.qZA()),2&Be){const ve=ye.oxw();ye.xp6(1),ye.Oqu(ve._placeholder)}}function be(Be,je){if(1&Be){const ve=ye.EpF();ye.TgZ(0,"span",14),ye.TgZ(1,"span"),ye._uU(2),ye.qZA(),ye.TgZ(3,"a",15),ye.NdJ("click",function(ft){const xt=ye.CHM(ve).$implicit;return ye.oxw().onItemClick(ft,xt)}),ye._uU(4,"x"),ye.qZA(),ye.qZA()}if(2&Be){const ve=je.$implicit,Re=je.index,ft=ye.oxw();ye.Q6J("hidden",Re>ft._settings.itemsShowLimit-1),ye.xp6(2),ye.Oqu(ve.text)}}function fe(Be,je){if(1&Be&&(ye.TgZ(0,"span",16),ye._uU(1),ye.qZA()),2&Be){const ve=ye.oxw();ye.xp6(1),ye.hij("+",ve.itemShowRemaining(),"")}}function Oe(Be,je){if(1&Be){const ve=ye.EpF();ye.TgZ(0,"li",17),ye.NdJ("click",function(){return ye.CHM(ve),ye.oxw().toggleSelectAll()}),ye._UZ(1,"input",18),ye.TgZ(2,"div"),ye._uU(3),ye.qZA(),ye.qZA()}if(2&Be){const ve=ye.oxw();ye.xp6(1),ye.Q6J("checked",ve.isAllItemsSelected())("disabled",ve.disabled||ve.isLimitSelectionReached()),ye.xp6(2),ye.Oqu(ve.isAllItemsSelected()?ve._settings.unSelectAllText:ve._settings.selectAllText)}}function se(Be,je){if(1&Be){const ve=ye.EpF();ye.TgZ(0,"li",19),ye.TgZ(1,"input",20),ye.NdJ("ngModelChange",function(ft){return ye.CHM(ve),ye.oxw().filter.text=ft})("ngModelChange",function(ft){return ye.CHM(ve),ye.oxw().onFilterTextChange(ft)}),ye.qZA(),ye.qZA()}if(2&Be){const ve=ye.oxw();ye.xp6(1),ye.Q6J("readOnly",ve.disabled)("placeholder",ve._settings.searchPlaceholderText)("ngModel",ve.filter.text)}}function et(Be,je){if(1&Be){const ve=ye.EpF();ye.TgZ(0,"li",21),ye.NdJ("click",function(ft){const xt=ye.CHM(ve).$implicit;return ye.oxw().onItemClick(ft,xt)}),ye._UZ(1,"input",22),ye.TgZ(2,"div"),ye._uU(3),ye.qZA(),ye.qZA()}if(2&Be){const ve=je.$implicit,Re=ye.oxw();ye.xp6(1),ye.Q6J("checked",Re.isSelected(ve))("disabled",Re.disabled||Re.isLimitSelectionReached()&&!Re.isSelected(ve)||ve.isDisabled),ye.uIk("aria-label",ve.text),ye.xp6(2),ye.Oqu(ve.text)}}function gt(Be,je){if(1&Be&&(ye.TgZ(0,"li",23),ye.TgZ(1,"h5"),ye._uU(2),ye.qZA(),ye.qZA()),2&Be){const ve=ye.oxw();ye.xp6(2),ye.Oqu(ve._settings.noDataAvailablePlaceholderText)}}const Vt=function(Be){return{"dropdown-multiselect--active":Be}};class mt{constructor(je){("string"==typeof je||"number"==typeof je)&&(this.id=this.text=je,this.isDisabled=!1),"object"==typeof je&&(this.id=je.id,this.text=je.text,this.isDisabled=je.isDisabled)}}let Tt=(()=>{let Be=class{transform(ve,Re){return ve&&Re?ve.filter(ft=>this.applyFilter(ft,Re)):ve}applyFilter(ve,Re){return"string"==typeof ve.text&&"string"==typeof Re.text?!(Re.text&&ve.text&&-1===ve.text.toLowerCase().indexOf(Re.text.toLowerCase())):!(Re.text&&ve.text&&-1===ve.text.toString().toLowerCase().indexOf(Re.text.toString().toLowerCase()))}};return Be.\u0275fac=function(ve){return new(ve||Be)},Be.\u0275pipe=ye.Yjl({name:"multiSelectFilter",type:Be,pure:!1}),Be})();const Mt={provide:it.JU,useExisting:(0,ye.Gpc)(()=>Gt),multi:!0},tn=()=>{};let Gt=(()=>{let Be=class{constructor(ve){this.listFilterPipe=ve,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new mt(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new ye.vpe,this.onDropDownClose=new ye.vpe,this.onSelect=new ye.vpe,this.onDeSelect=new ye.vpe,this.onSelectAll=new ye.vpe,this.onDeSelectAll=new ye.vpe,this.onTouchedCallback=tn,this.onChangeCallback=tn}set placeholder(ve){this._placeholder=ve||"Select"}set settings(ve){this._settings=ve?Object.assign(this.defaultSettings,ve):Object.assign(this.defaultSettings)}set data(ve){if(ve){const Re=ve[0];this._sourceDataType=typeof Re,this._sourceDataFields=this.getFields(Re),this._data=ve.map(ft=>new mt("string"==typeof ft||"number"==typeof ft?ft:{id:ft[this._settings.idField],text:ft[this._settings.textField],isDisabled:ft[this._settings.disabledField]}))}else this._data=[]}onFilterTextChange(ve){this.onFilterChange.emit(ve)}onItemClick(ve,Re){if(this.disabled||Re.isDisabled)return!1;const ft=this.isSelected(Re),wt=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;ft?this.removeSelected(Re):wt&&this.addSelected(Re),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}writeValue(ve){if(null!=ve&&ve.length>0)if(this._settings.singleSelection)try{if(ve.length>=1){const Re=ve[0];this.selectedItems=[new mt("string"==typeof Re||"number"==typeof Re?Re:{id:Re[this._settings.idField],text:Re[this._settings.textField],isDisabled:Re[this._settings.disabledField]})]}}catch(Re){}else{const Re=ve.map(ft=>new mt("string"==typeof ft||"number"==typeof ft?ft:{id:ft[this._settings.idField],text:ft[this._settings.textField],isDisabled:ft[this._settings.disabledField]}));this.selectedItems=this._settings.limitSelection>0?Re.splice(0,this._settings.limitSelection):Re}else this.selectedItems=[];this.onChangeCallback(ve)}registerOnChange(ve){this.onChangeCallback=ve}registerOnTouched(ve){this.onTouchedCallback=ve}onTouched(){this.closeDropdown(),this.onTouchedCallback()}trackByFn(ve,Re){return Re.id}isSelected(ve){let Re=!1;return this.selectedItems.forEach(ft=>{ve.id===ft.id&&(Re=!0)}),Re}isLimitSelectionReached(){return this._settings.limitSelection===this.selectedItems.length}isAllItemsSelected(){let ve=this.listFilterPipe.transform(this._data,this.filter);const Re=ve.filter(ft=>ft.isDisabled).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&ve.length===this.selectedItems.length+Re}showButton(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}itemShowRemaining(){return this.selectedItems.length-this._settings.itemsShowLimit}addSelected(ve){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(ve)):this.selectedItems.push(ve),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(ve))}removeSelected(ve){this.selectedItems.forEach(Re=>{ve.id===Re.id&&this.selectedItems.splice(this.selectedItems.indexOf(Re),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(ve))}emittedValue(ve){const Re=[];if(Array.isArray(ve))ve.map(ft=>{Re.push(this.objectify(ft))});else if(ve)return this.objectify(ve);return Re}objectify(ve){if("object"===this._sourceDataType){const Re={};return Re[this._settings.idField]=ve.id,Re[this._settings.textField]=ve.text,this._sourceDataFields.includes(this._settings.disabledField)&&(Re[this._settings.disabledField]=ve.isDisabled),Re}return"number"===this._sourceDataType?Number(ve.id):ve.text}toggleDropdown(ve){ve.preventDefault(),(!this.disabled||!this._settings.singleSelection)&&(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}closeDropdown(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}toggleSelectAll(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this.listFilterPipe.transform(this._data,this.filter).filter(ve=>!ve.isDisabled).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}getFields(ve){const Re=[];if("object"!=typeof ve)return Re;for(const ft in ve)Re.push(ft);return Re}};return Be.\u0275fac=function(ve){return new(ve||Be)(ye.Y36(Tt))},Be.\u0275cmp=ye.Xpm({type:Be,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(ve,Re){1&ve&&ye.NdJ("blur",function(){return Re.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[ye._Bn([Mt])],decls:16,vars:19,consts:[["tabindex","0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px",3,"ngClass"],["style","padding-right: 15px;",4,"ngIf"],[1,"dropdown-multiselect__caret"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"selected-item",3,"hidden"],[2,"padding-left","2px","color","white",3,"click"],[2,"padding-right","15px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox",3,"checked","disabled"],[1,"no-data"]],template:function(ve,Re){1&ve&&(ye.TgZ(0,"div",0),ye.NdJ("blur",function(){return Re.onTouched()})("clickOutside",function(){return Re.closeDropdown()}),ye.TgZ(1,"div"),ye.TgZ(2,"span",1),ye.NdJ("click",function(wt){return Re.toggleDropdown(wt)}),ye.YNc(3,qe,2,1,"span",2),ye.YNc(4,be,5,2,"span",3),ye.TgZ(5,"span",4),ye.YNc(6,fe,2,1,"span",5),ye._UZ(7,"span",6),ye.qZA(),ye.qZA(),ye.qZA(),ye.TgZ(8,"div",7),ye.TgZ(9,"ul",8),ye.YNc(10,Oe,4,3,"li",9),ye.YNc(11,se,2,3,"li",10),ye.qZA(),ye.TgZ(12,"ul",11),ye.YNc(13,et,4,4,"li",12),ye.ALo(14,"multiSelectFilter"),ye.YNc(15,gt,3,1,"li",13),ye.qZA(),ye.qZA(),ye.qZA()),2&ve&&(ye.xp6(1),ye.ekj("disabled",Re.disabled),ye.xp6(2),ye.Q6J("ngIf",0==Re.selectedItems.length),ye.xp6(1),ye.Q6J("ngForOf",Re.selectedItems)("ngForTrackBy",Re.trackByFn),ye.xp6(1),ye.Q6J("ngClass",ye.VKq(17,Vt,Re._settings.defaultOpen)),ye.xp6(1),ye.Q6J("ngIf",Re.itemShowRemaining()>0),ye.xp6(2),ye.Q6J("hidden",!Re._settings.defaultOpen),ye.xp6(2),ye.Q6J("ngIf",(Re._data.length>0||Re._settings.allowRemoteDataSearch)&&!Re._settings.singleSelection&&Re._settings.enableCheckAll&&-1===Re._settings.limitSelection),ye.xp6(1),ye.Q6J("ngIf",(Re._data.length>0||Re._settings.allowRemoteDataSearch)&&Re._settings.allowSearchFilter),ye.xp6(1),ye.Udp("max-height",Re._settings.maxHeight+"px"),ye.xp6(1),ye.Q6J("ngForOf",ye.xi3(14,14,Re._data,Re.filter)),ye.xp6(2),ye.Q6J("ngIf",0==Re._data.length&&!Re._settings.allowRemoteDataSearch))},directives:function(){return[on,le.O5,le.sg,le.mk,it.Fj,it.JJ,it.On]},pipes:function(){return[Tt]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left;display:flex;max-width:100px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0;border-color:#999 transparent;content:""}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect--active[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{transform:rotateZ(180deg)}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]:hover{background-color:#e4e3e3}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),ee([(0,ye.IIB)()],Be.prototype,"placeholder",null),ee([(0,ye.IIB)()],Be.prototype,"disabled",void 0),ee([(0,ye.IIB)()],Be.prototype,"settings",null),ee([(0,ye.IIB)()],Be.prototype,"data",null),ee([(0,ye.r_U)("onFilterChange")],Be.prototype,"onFilterChange",void 0),ee([(0,ye.r_U)("onDropDownClose")],Be.prototype,"onDropDownClose",void 0),ee([(0,ye.r_U)("onSelect")],Be.prototype,"onSelect",void 0),ee([(0,ye.r_U)("onDeSelect")],Be.prototype,"onDeSelect",void 0),ee([(0,ye.r_U)("onSelectAll")],Be.prototype,"onSelectAll",void 0),ee([(0,ye.r_U)("onDeSelectAll")],Be.prototype,"onDeSelectAll",void 0),ee([(0,ye.L6J)("blur")],Be.prototype,"onTouched",null),Be})(),on=(()=>{let Be=class{constructor(ve){this._elementRef=ve,this.clickOutside=new ye.vpe}onClick(ve,Re){Re&&(this._elementRef.nativeElement.contains(Re)||this.clickOutside.emit(ve))}};return Be.\u0275fac=function(ve){return new(ve||Be)(ye.Y36(ye.SBq))},Be.\u0275dir=ye.lG2({type:Be,selectors:[["","clickOutside",""]],hostBindings:function(ve,Re){1&ve&&ye.NdJ("click",function(wt){return Re.onClick(wt,wt.target)},!1,ye.evT)},outputs:{clickOutside:"clickOutside"}}),ee([(0,ye.r_U)()],Be.prototype,"clickOutside",void 0),ee([(0,ye.L6J)("document:click",["$event","$event.target"])],Be.prototype,"onClick",null),Be})();var hn;let zt=hn=class{static forRoot(){return{ngModule:hn}}};zt.\u0275fac=function(je){return new(je||zt)},zt.\u0275mod=ye.oAB({type:zt}),zt.\u0275inj=ye.cJS({providers:[Tt],imports:[[le.ez,it.u5]]})},6215:(Pe,de,S)=>{"use strict";S.d(de,{X:()=>H});var y=S(9765),R=S(7971);class H extends y.xQ{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const $=super._subscribe(ee);return $&&!$.closed&&ee.next(this._value),$}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new R.N;return this._value}next(ee){super.next(this._value=ee)}}},3098:(Pe,de,S)=>{"use strict";S.d(de,{P:()=>ee});var y=S(9193),R=S(5917),H=S(205);class ee{constructor(ne,Y,q){this.kind=ne,this.value=Y,this.error=q,this.hasValue="N"===ne}observe(ne){switch(this.kind){case"N":return ne.next&&ne.next(this.value);case"E":return ne.error&&ne.error(this.error);case"C":return ne.complete&&ne.complete()}}do(ne,Y,q){switch(this.kind){case"N":return ne&&ne(this.value);case"E":return Y&&Y(this.error);case"C":return q&&q()}}accept(ne,Y,q){return ne&&"function"==typeof ne.next?this.observe(ne):this.do(ne,Y,q)}toObservable(){switch(this.kind){case"N":return(0,R.of)(this.value);case"E":return(0,H._)(this.error);case"C":return(0,y.c)()}throw new Error("unexpected notification kind value")}static createNext(ne){return void 0!==ne?new ee("N",ne):ee.undefinedValueNotification}static createError(ne){return new ee("E",void 0,ne)}static createComplete(){return ee.completeNotification}}ee.completeNotification=new ee("C"),ee.undefinedValueNotification=new ee("N",void 0)},7574:(Pe,de,S)=>{"use strict";S.d(de,{y:()=>K});var y=S(7393),H=S(9181),ge=S(6490),$=S(6554),ne=S(4487);var G=S(2494);let K=(()=>{class oe{constructor(Le){this._isScalar=!1,Le&&(this._subscribe=Le)}lift(Le){const Ae=new oe;return Ae.source=this,Ae.operator=Le,Ae}subscribe(Le,Ae,Ue){const{operator:Ce}=this,Fe=function(oe,He,Le){if(oe){if(oe instanceof y.L)return oe;if(oe[H.b])return oe[H.b]()}return oe||He||Le?new y.L(oe,He,Le):new y.L(ge.c)}(Le,Ae,Ue);if(Fe.add(Ce?Ce.call(Fe,this.source):this.source||G.v.useDeprecatedSynchronousErrorHandling&&!Fe.syncErrorThrowable?this._subscribe(Fe):this._trySubscribe(Fe)),G.v.useDeprecatedSynchronousErrorHandling&&Fe.syncErrorThrowable&&(Fe.syncErrorThrowable=!1,Fe.syncErrorThrown))throw Fe.syncErrorValue;return Fe}_trySubscribe(Le){try{return this._subscribe(Le)}catch(Ae){G.v.useDeprecatedSynchronousErrorHandling&&(Le.syncErrorThrown=!0,Le.syncErrorValue=Ae),function(oe){for(;oe;){const{closed:He,destination:Le,isStopped:Ae}=oe;if(He||Ae)return!1;oe=Le&&Le instanceof y.L?Le:null}return!0}(Le)?Le.error(Ae):console.warn(Ae)}}forEach(Le,Ae){return new(Ae=z(Ae))((Ue,Ce)=>{let Fe;Fe=this.subscribe(ae=>{try{Le(ae)}catch(Ye){Ce(Ye),Fe&&Fe.unsubscribe()}},Ce,Ue)})}_subscribe(Le){const{source:Ae}=this;return Ae&&Ae.subscribe(Le)}[$.L](){return this}pipe(...Le){return 0===Le.length?this:function(oe){return 0===oe.length?ne.y:1===oe.length?oe[0]:function(Le){return oe.reduce((Ae,Ue)=>Ue(Ae),Le)}}(Le)(this)}toPromise(Le){return new(Le=z(Le))((Ae,Ue)=>{let Ce;this.subscribe(Fe=>Ce=Fe,Fe=>Ue(Fe),()=>Ae(Ce))})}}return oe.create=He=>new oe(He),oe})();function z(oe){if(oe||(oe=G.v.Promise||Promise),!oe)throw new Error("no Promise impl found");return oe}},6490:(Pe,de,S)=>{"use strict";S.d(de,{c:()=>H});var y=S(2494),R=S(4449);const H={closed:!0,next(ge){},error(ge){if(y.v.useDeprecatedSynchronousErrorHandling)throw ge;(0,R.z)(ge)},complete(){}}},5197:(Pe,de,S)=>{"use strict";S.d(de,{L:()=>R});var y=S(7393);class R extends y.L{notifyNext(ge,ee,$,ne,Y){this.destination.next(ee)}notifyError(ge,ee){this.destination.error(ge)}notifyComplete(ge){this.destination.complete()}}},8229:(Pe,de,S)=>{"use strict";S.d(de,{t:()=>ne});var y=S(9765),R=S(7771),H=S(5319),ge=S(9746),ee=S(7971),$=S(8858);class ne extends y.xQ{constructor(G=Number.POSITIVE_INFINITY,K=Number.POSITIVE_INFINITY,z){super(),this.scheduler=z,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=G<1?1:G,this._windowTime=K<1?1:K,K===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(G){if(!this.isStopped){const K=this._events;K.push(G),K.length>this._bufferSize&&K.shift()}super.next(G)}nextTimeWindow(G){this.isStopped||(this._events.push(new Y(this._getNow(),G)),this._trimBufferThenGetEvents()),super.next(G)}_subscribe(G){const K=this._infiniteTimeWindow,z=K?this._events:this._trimBufferThenGetEvents(),oe=this.scheduler,He=z.length;let Le;if(this.closed)throw new ee.N;if(this.isStopped||this.hasError?Le=H.w.EMPTY:(this.observers.push(G),Le=new $.W(this,G)),oe&&G.add(G=new ge.ht(G,oe)),K)for(let Ae=0;Ae<He&&!G.closed;Ae++)G.next(z[Ae]);else for(let Ae=0;Ae<He&&!G.closed;Ae++)G.next(z[Ae].value);return this.hasError?G.error(this.thrownError):this.isStopped&&G.complete(),Le}_getNow(){return(this.scheduler||R.c).now()}_trimBufferThenGetEvents(){const G=this._getNow(),K=this._bufferSize,z=this._windowTime,oe=this._events,He=oe.length;let Le=0;for(;Le<He&&!(G-oe[Le].time<z);)Le++;return He>K&&(Le=Math.max(Le,He-K)),Le>0&&oe.splice(0,Le),oe}}class Y{constructor(G,K){this.time=G,this.value=K}}},9765:(Pe,de,S)=>{"use strict";S.d(de,{Yc:()=>ne,xQ:()=>Y});var y=S(7574),R=S(7393),H=S(5319),ge=S(7971),ee=S(8858),$=S(9181);class ne extends R.L{constructor(K){super(K),this.destination=K}}let Y=(()=>{class G extends y.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[$.b](){return new ne(this)}lift(z){const oe=new q(this,this);return oe.operator=z,oe}next(z){if(this.closed)throw new ge.N;if(!this.isStopped){const{observers:oe}=this,He=oe.length,Le=oe.slice();for(let Ae=0;Ae<He;Ae++)Le[Ae].next(z)}}error(z){if(this.closed)throw new ge.N;this.hasError=!0,this.thrownError=z,this.isStopped=!0;const{observers:oe}=this,He=oe.length,Le=oe.slice();for(let Ae=0;Ae<He;Ae++)Le[Ae].error(z);this.observers.length=0}complete(){if(this.closed)throw new ge.N;this.isStopped=!0;const{observers:z}=this,oe=z.length,He=z.slice();for(let Le=0;Le<oe;Le++)He[Le].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(z){if(this.closed)throw new ge.N;return super._trySubscribe(z)}_subscribe(z){if(this.closed)throw new ge.N;return this.hasError?(z.error(this.thrownError),H.w.EMPTY):this.isStopped?(z.complete(),H.w.EMPTY):(this.observers.push(z),new ee.W(this,z))}asObservable(){const z=new y.y;return z.source=this,z}}return G.create=(K,z)=>new q(K,z),G})();class q extends Y{constructor(K,z){super(),this.destination=K,this.source=z}next(K){const{destination:z}=this;z&&z.next&&z.next(K)}error(K){const{destination:z}=this;z&&z.error&&this.destination.error(K)}complete(){const{destination:K}=this;K&&K.complete&&this.destination.complete()}_subscribe(K){const{source:z}=this;return z?this.source.subscribe(K):H.w.EMPTY}}},8858:(Pe,de,S)=>{"use strict";S.d(de,{W:()=>R});var y=S(5319);class R extends y.w{constructor(ge,ee){super(),this.subject=ge,this.subscriber=ee,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ge=this.subject,ee=ge.observers;if(this.subject=null,!ee||0===ee.length||ge.isStopped||ge.closed)return;const $=ee.indexOf(this.subscriber);-1!==$&&ee.splice($,1)}}},7393:(Pe,de,S)=>{"use strict";S.d(de,{L:()=>ne});var y=S(9105),R=S(6490),H=S(5319),ge=S(9181),ee=S(2494),$=S(4449);class ne extends H.w{constructor(G,K,z){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=R.c;break;case 1:if(!G){this.destination=R.c;break}if("object"==typeof G){G instanceof ne?(this.syncErrorThrowable=G.syncErrorThrowable,this.destination=G,G.add(this)):(this.syncErrorThrowable=!0,this.destination=new Y(this,G));break}default:this.syncErrorThrowable=!0,this.destination=new Y(this,G,K,z)}}[ge.b](){return this}static create(G,K,z){const oe=new ne(G,K,z);return oe.syncErrorThrowable=!1,oe}next(G){this.isStopped||this._next(G)}error(G){this.isStopped||(this.isStopped=!0,this._error(G))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(G){this.destination.next(G)}_error(G){this.destination.error(G),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:G}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=G,this}}class Y extends ne{constructor(G,K,z,oe){super(),this._parentSubscriber=G;let He,Le=this;(0,y.m)(K)?He=K:K&&(He=K.next,z=K.error,oe=K.complete,K!==R.c&&(Le=Object.create(K),(0,y.m)(Le.unsubscribe)&&this.add(Le.unsubscribe.bind(Le)),Le.unsubscribe=this.unsubscribe.bind(this))),this._context=Le,this._next=He,this._error=z,this._complete=oe}next(G){if(!this.isStopped&&this._next){const{_parentSubscriber:K}=this;ee.v.useDeprecatedSynchronousErrorHandling&&K.syncErrorThrowable?this.__tryOrSetError(K,this._next,G)&&this.unsubscribe():this.__tryOrUnsub(this._next,G)}}error(G){if(!this.isStopped){const{_parentSubscriber:K}=this,{useDeprecatedSynchronousErrorHandling:z}=ee.v;if(this._error)z&&K.syncErrorThrowable?(this.__tryOrSetError(K,this._error,G),this.unsubscribe()):(this.__tryOrUnsub(this._error,G),this.unsubscribe());else if(K.syncErrorThrowable)z?(K.syncErrorValue=G,K.syncErrorThrown=!0):(0,$.z)(G),this.unsubscribe();else{if(this.unsubscribe(),z)throw G;(0,$.z)(G)}}}complete(){if(!this.isStopped){const{_parentSubscriber:G}=this;if(this._complete){const K=()=>this._complete.call(this._context);ee.v.useDeprecatedSynchronousErrorHandling&&G.syncErrorThrowable?(this.__tryOrSetError(G,K),this.unsubscribe()):(this.__tryOrUnsub(K),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(G,K){try{G.call(this._context,K)}catch(z){if(this.unsubscribe(),ee.v.useDeprecatedSynchronousErrorHandling)throw z;(0,$.z)(z)}}__tryOrSetError(G,K,z){if(!ee.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{K.call(this._context,z)}catch(oe){return ee.v.useDeprecatedSynchronousErrorHandling?(G.syncErrorValue=oe,G.syncErrorThrown=!0,!0):((0,$.z)(oe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:G}=this;this._context=null,this._parentSubscriber=null,G.unsubscribe()}}},5319:(Pe,de,S)=>{"use strict";S.d(de,{w:()=>$});var y=S(9796),R=S(1555),H=S(9105);const ee=(()=>{function Y(q){return Error.call(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((G,K)=>`${K+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q,this}return Y.prototype=Object.create(Error.prototype),Y})();class ${constructor(q){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,q&&(this._ctorUnsubscribe=!0,this._unsubscribe=q)}unsubscribe(){let q;if(this.closed)return;let{_parentOrParents:G,_ctorUnsubscribe:K,_unsubscribe:z,_subscriptions:oe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,G instanceof $)G.remove(this);else if(null!==G)for(let He=0;He<G.length;++He)G[He].remove(this);if((0,H.m)(z)){K&&(this._unsubscribe=void 0);try{z.call(this)}catch(He){q=He instanceof ee?ne(He.errors):[He]}}if((0,y.k)(oe)){let He=-1,Le=oe.length;for(;++He<Le;){const Ae=oe[He];if((0,R.K)(Ae))try{Ae.unsubscribe()}catch(Ue){q=q||[],Ue instanceof ee?q=q.concat(ne(Ue.errors)):q.push(Ue)}}}if(q)throw new ee(q)}add(q){let G=q;if(!q)return $.EMPTY;switch(typeof q){case"function":G=new $(q);case"object":if(G===this||G.closed||"function"!=typeof G.unsubscribe)return G;if(this.closed)return G.unsubscribe(),G;if(!(G instanceof $)){const oe=G;G=new $,G._subscriptions=[oe]}break;default:throw new Error("unrecognized teardown "+q+" added to Subscription.")}let{_parentOrParents:K}=G;if(null===K)G._parentOrParents=this;else if(K instanceof $){if(K===this)return G;G._parentOrParents=[K,this]}else{if(-1!==K.indexOf(this))return G;K.push(this)}const z=this._subscriptions;return null===z?this._subscriptions=[G]:z.push(G),G}remove(q){const G=this._subscriptions;if(G){const K=G.indexOf(q);-1!==K&&G.splice(K,1)}}}var Y;function ne(Y){return Y.reduce((q,G)=>q.concat(G instanceof ee?G.errors:G),[])}$.EMPTY=((Y=new $).closed=!0,Y)},2494:(Pe,de,S)=>{"use strict";S.d(de,{v:()=>R});let y=!1;const R={Promise:void 0,set useDeprecatedSynchronousErrorHandling(H){if(H){const ge=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ge.stack)}else y&&console.log("RxJS: Back to a better error behavior. Thank you. <3");y=H},get useDeprecatedSynchronousErrorHandling(){return y}}},5345:(Pe,de,S)=>{"use strict";S.d(de,{IY:()=>ge,Ds:()=>$,ft:()=>Y});var y=S(7393),R=S(7574),H=S(5905);class ge extends y.L{constructor(G){super(),this.parent=G}_next(G){this.parent.notifyNext(G)}_error(G){this.parent.notifyError(G),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class $ extends y.L{notifyNext(G){this.destination.next(G)}notifyError(G){this.destination.error(G)}notifyComplete(){this.destination.complete()}}function Y(q,G){if(G.closed)return;if(q instanceof R.y)return q.subscribe(G);let K;try{K=(0,H.s)(q)(G)}catch(z){G.error(z)}return K}},2441:(Pe,de,S)=>{"use strict";S.d(de,{c:()=>ee,N:()=>$});var y=S(9765),R=S(7574),H=S(5319),ge=S(1307);class ee extends R.y{constructor(K,z){super(),this.source=K,this.subjectFactory=z,this._refCount=0,this._isComplete=!1}_subscribe(K){return this.getSubject().subscribe(K)}getSubject(){const K=this._subject;return(!K||K.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let K=this._connection;return K||(this._isComplete=!1,K=this._connection=new H.w,K.add(this.source.subscribe(new ne(this.getSubject(),this))),K.closed&&(this._connection=null,K=H.w.EMPTY)),K}refCount(){return(0,ge.x)()(this)}}const $=(()=>{const G=ee.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:G._subscribe},_isComplete:{value:G._isComplete,writable:!0},getSubject:{value:G.getSubject},connect:{value:G.connect},refCount:{value:G.refCount}}})();class ne extends y.Yc{constructor(K,z){super(K),this.connectable=z}_error(K){this._unsubscribe(),super._error(K)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const K=this.connectable;if(K){this.connectable=null;const z=K._connection;K._refCount=0,K._subject=null,K._connection=null,z&&z.unsubscribe()}}}},8071:(Pe,de,S)=>{"use strict";S.d(de,{z:()=>ge});var y=S(5917),R=S(3282);function ge(...ee){return(0,R.J)(1)((0,y.of)(...ee))}},9193:(Pe,de,S)=>{"use strict";S.d(de,{E:()=>R,c:()=>H});var y=S(7574);const R=new y.y(ee=>ee.complete());function H(ee){return ee?function(ee){return new y.y($=>ee.schedule(()=>$.complete()))}(ee):R}},5372:(Pe,de,S)=>{"use strict";S.d(de,{D:()=>Le});var y=S(7574),R=S(5905),H=S(5319),ge=S(6554),$=S(4531),ne=S(4087),Y=S(377),K=S(4072),z=S(9489);function Le(Ae,Ue){return Ue?function(Ae,Ue){if(null!=Ae){if(function(Ae){return Ae&&"function"==typeof Ae[ge.L]}(Ae))return function(Ae,Ue){return new y.y(Ce=>{const Fe=new H.w;return Fe.add(Ue.schedule(()=>{const ae=Ae[ge.L]();Fe.add(ae.subscribe({next(Ye){Fe.add(Ue.schedule(()=>Ce.next(Ye)))},error(Ye){Fe.add(Ue.schedule(()=>Ce.error(Ye)))},complete(){Fe.add(Ue.schedule(()=>Ce.complete()))}}))})),Fe})}(Ae,Ue);if((0,K.t)(Ae))return(0,$.c)(Ae,Ue);if((0,z.z)(Ae))return(0,ne.r)(Ae,Ue);if(function(Ae){return Ae&&"function"==typeof Ae[Y.hZ]}(Ae)||"string"==typeof Ae)return function(Ae,Ue){if(!Ae)throw new Error("Iterable cannot be null");return new y.y(Ce=>{const Fe=new H.w;let ae;return Fe.add(()=>{ae&&"function"==typeof ae.return&&ae.return()}),Fe.add(Ue.schedule(()=>{ae=Ae[Y.hZ](),Fe.add(Ue.schedule(function(){if(Ce.closed)return;let Ye,Qe;try{const St=ae.next();Ye=St.value,Qe=St.done}catch(St){return void Ce.error(St)}Qe?Ce.complete():(Ce.next(Ye),this.schedule())}))})),Fe})}(Ae,Ue)}throw new TypeError((null!==Ae&&typeof Ae||Ae)+" is not observable")}(Ae,Ue):Ae instanceof y.y?Ae:new y.y((0,R.s)(Ae))}},6693:(Pe,de,S)=>{"use strict";S.d(de,{n:()=>ge});var y=S(7574),R=S(5015),H=S(4087);function ge(ee,$){return $?(0,H.r)(ee,$):new y.y((0,R.V)(ee))}},6682:(Pe,de,S)=>{"use strict";S.d(de,{T:()=>ee});var y=S(7574),R=S(4869),H=S(3282),ge=S(6693);function ee(...$){let ne=Number.POSITIVE_INFINITY,Y=null,q=$[$.length-1];return(0,R.K)(q)?(Y=$.pop(),$.length>1&&"number"==typeof $[$.length-1]&&(ne=$.pop())):"number"==typeof q&&(ne=$.pop()),null===Y&&1===$.length&&$[0]instanceof y.y?$[0]:(0,H.J)(ne)((0,ge.n)($,Y))}},5917:(Pe,de,S)=>{"use strict";S.d(de,{of:()=>ge});var y=S(4869),R=S(6693),H=S(4087);function ge(...ee){let $=ee[ee.length-1];return(0,y.K)($)?(ee.pop(),(0,H.r)(ee,$)):(0,R.n)(ee)}},205:(Pe,de,S)=>{"use strict";S.d(de,{_:()=>R});var y=S(7574);function R(ge,ee){return new y.y(ee?$=>ee.schedule(H,0,{error:ge,subscriber:$}):$=>$.error(ge))}function H({error:ge,subscriber:ee}){ee.error(ge)}},5304:(Pe,de,S)=>{"use strict";S.d(de,{K:()=>R});var y=S(5345);function R(ee){return function(ne){const Y=new H(ee),q=ne.lift(Y);return Y.caught=q}}class H{constructor($){this.selector=$}call($,ne){return ne.subscribe(new ge($,this.selector,this.caught))}}class ge extends y.Ds{constructor($,ne,Y){super($),this.selector=ne,this.caught=Y}error($){if(!this.isStopped){let ne;try{ne=this.selector($,this.caught)}catch(G){return void super.error(G)}this._unsubscribeAndRecycle();const Y=new y.IY(this);this.add(Y);const q=(0,y.ft)(ne,Y);q!==Y&&this.add(q)}}}},4612:(Pe,de,S)=>{"use strict";S.d(de,{b:()=>R});var y=S(9773);function R(H,ge){return(0,y.zg)(H,ge,1)}},4395:(Pe,de,S)=>{"use strict";S.d(de,{b:()=>H});var y=S(7393),R=S(3637);function H(ne,Y=R.P){return q=>q.lift(new ge(ne,Y))}class ge{constructor(Y,q){this.dueTime=Y,this.scheduler=q}call(Y,q){return q.subscribe(new ee(Y,this.dueTime,this.scheduler))}}class ee extends y.L{constructor(Y,q,G){super(Y),this.dueTime=q,this.scheduler=G,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(Y){this.clearDebounce(),this.lastValue=Y,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule($,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:Y}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(Y)}}clearDebounce(){const Y=this.debouncedSubscription;null!==Y&&(this.remove(Y),Y.unsubscribe(),this.debouncedSubscription=null)}}function $(ne){ne.debouncedNext()}},5242:(Pe,de,S)=>{"use strict";S.d(de,{d:()=>R});var y=S(7393);function R(ee=null){return $=>$.lift(new H(ee))}class H{constructor($){this.defaultValue=$}call($,ne){return ne.subscribe(new ge($,this.defaultValue))}}class ge extends y.L{constructor($,ne){super($),this.defaultValue=ne,this.isEmpty=!0}_next($){this.isEmpty=!1,this.destination.next($)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(Pe,de,S)=>{"use strict";S.d(de,{x:()=>R});var y=S(7393);function R(ee,$){return ne=>ne.lift(new H(ee,$))}class H{constructor($,ne){this.compare=$,this.keySelector=ne}call($,ne){return ne.subscribe(new ge($,this.compare,this.keySelector))}}class ge extends y.L{constructor($,ne,Y){super($),this.keySelector=Y,this.hasKey=!1,"function"==typeof ne&&(this.compare=ne)}compare($,ne){return $===ne}_next($){let ne;try{const{keySelector:q}=this;ne=q?q($):$}catch(q){return this.destination.error(q)}let Y=!1;if(this.hasKey)try{const{compare:q}=this;Y=q(this.key,ne)}catch(q){return this.destination.error(q)}else this.hasKey=!0;Y||(this.key=ne,this.destination.next($))}}},5435:(Pe,de,S)=>{"use strict";S.d(de,{h:()=>R});var y=S(7393);function R(ee,$){return function(Y){return Y.lift(new H(ee,$))}}class H{constructor($,ne){this.predicate=$,this.thisArg=ne}call($,ne){return ne.subscribe(new ge($,this.predicate,this.thisArg))}}class ge extends y.L{constructor($,ne,Y){super($),this.predicate=ne,this.thisArg=Y,this.count=0}_next($){let ne;try{ne=this.predicate.call(this.thisArg,$,this.count++)}catch(Y){return void this.destination.error(Y)}ne&&this.destination.next($)}}},8049:(Pe,de,S)=>{"use strict";S.d(de,{P:()=>ne});var y=S(3410),R=S(5435),H=S(5257),ge=S(5242),ee=S(4635),$=S(4487);function ne(Y,q){const G=arguments.length>=2;return K=>K.pipe(Y?(0,R.h)((z,oe)=>Y(z,oe,K)):$.y,(0,H.q)(1),G?(0,ge.d)(q):(0,ee.T)(()=>new y.K))}},304:(Pe,de,S)=>{"use strict";S.d(de,{v:()=>ee});var y=S(7393),R=S(5319),H=S(7574),ge=S(9765);function ee(K,z,oe,He){return Le=>Le.lift(new $(K,z,oe,He))}class ${constructor(z,oe,He,Le){this.keySelector=z,this.elementSelector=oe,this.durationSelector=He,this.subjectSelector=Le}call(z,oe){return oe.subscribe(new ne(z,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class ne extends y.L{constructor(z,oe,He,Le,Ae){super(z),this.keySelector=oe,this.elementSelector=He,this.durationSelector=Le,this.subjectSelector=Ae,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(z){let oe;try{oe=this.keySelector(z)}catch(He){return void this.error(He)}this._group(z,oe)}_group(z,oe){let He=this.groups;He||(He=this.groups=new Map);let Ae,Le=He.get(oe);if(this.elementSelector)try{Ae=this.elementSelector(z)}catch(Ue){this.error(Ue)}else Ae=z;if(!Le){Le=this.subjectSelector?this.subjectSelector():new ge.xQ,He.set(oe,Le);const Ue=new q(oe,Le,this);if(this.destination.next(Ue),this.durationSelector){let Ce;try{Ce=this.durationSelector(new q(oe,Le))}catch(Fe){return void this.error(Fe)}this.add(Ce.subscribe(new Y(oe,Le,this)))}}Le.closed||Le.next(Ae)}_error(z){const oe=this.groups;oe&&(oe.forEach((He,Le)=>{He.error(z)}),oe.clear()),this.destination.error(z)}_complete(){const z=this.groups;z&&(z.forEach((oe,He)=>{oe.complete()}),z.clear()),this.destination.complete()}removeGroup(z){this.groups.delete(z)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Y extends y.L{constructor(z,oe,He){super(oe),this.key=z,this.group=oe,this.parent=He}_next(z){this.complete()}_unsubscribe(){const{parent:z,key:oe}=this;this.key=this.parent=null,z&&z.removeGroup(oe)}}class q extends H.y{constructor(z,oe,He){super(),this.key=z,this.groupSubject=oe,this.refCountSubscription=He}_subscribe(z){const oe=new R.w,{refCountSubscription:He,groupSubject:Le}=this;return He&&!He.closed&&oe.add(new G(He)),oe.add(Le.subscribe(z)),oe}}class G extends R.w{constructor(z){super(),this.parent=z,z.count++}unsubscribe(){const z=this.parent;!z.closed&&!this.closed&&(super.unsubscribe(),z.count-=1,0===z.count&&z.attemptedToUnsubscribe&&z.unsubscribe())}}},8002:(Pe,de,S)=>{"use strict";S.d(de,{U:()=>R});var y=S(7393);function R(ee,$){return function(Y){if("function"!=typeof ee)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Y.lift(new H(ee,$))}}class H{constructor($,ne){this.project=$,this.thisArg=ne}call($,ne){return ne.subscribe(new ge($,this.project,this.thisArg))}}class ge extends y.L{constructor($,ne,Y){super($),this.project=ne,this.count=0,this.thisArg=Y||this}_next($){let ne;try{ne=this.project.call(this.thisArg,$,this.count++)}catch(Y){return void this.destination.error(Y)}this.destination.next(ne)}}},3282:(Pe,de,S)=>{"use strict";S.d(de,{J:()=>H});var y=S(9773),R=S(4487);function H(ge=Number.POSITIVE_INFINITY){return(0,y.zg)(R.y,ge)}},9773:(Pe,de,S)=>{"use strict";S.d(de,{zg:()=>ge});var y=S(8002),R=S(5372),H=S(5345);function ge(Y,q,G=Number.POSITIVE_INFINITY){return"function"==typeof q?K=>K.pipe(ge((z,oe)=>(0,R.D)(Y(z,oe)).pipe((0,y.U)((He,Le)=>q(z,He,oe,Le))),G)):("number"==typeof q&&(G=q),K=>K.lift(new ee(Y,G)))}class ee{constructor(q,G=Number.POSITIVE_INFINITY){this.project=q,this.concurrent=G}call(q,G){return G.subscribe(new $(q,this.project,this.concurrent))}}class $ extends H.Ds{constructor(q,G,K=Number.POSITIVE_INFINITY){super(q),this.project=G,this.concurrent=K,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(q){this.active<this.concurrent?this._tryNext(q):this.buffer.push(q)}_tryNext(q){let G;const K=this.index++;try{G=this.project(q,K)}catch(z){return void this.destination.error(z)}this.active++,this._innerSub(G)}_innerSub(q){const G=new H.IY(this),K=this.destination;K.add(G);const z=(0,H.ft)(q,G);z!==G&&K.add(z)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(q){this.destination.next(q)}notifyComplete(){const q=this.buffer;this.active--,q.length>0?this._next(q.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Pe,de,S)=>{"use strict";S.d(de,{QV:()=>H,ht:()=>ee});var y=S(7393),R=S(3098);function H(ne,Y=0){return function(G){return G.lift(new ge(ne,Y))}}class ge{constructor(Y,q=0){this.scheduler=Y,this.delay=q}call(Y,q){return q.subscribe(new ee(Y,this.scheduler,this.delay))}}class ee extends y.L{constructor(Y,q,G=0){super(Y),this.scheduler=q,this.delay=G}static dispatch(Y){const{notification:q,destination:G}=Y;q.observe(G),this.unsubscribe()}scheduleMessage(Y){this.destination.add(this.scheduler.schedule(ee.dispatch,this.delay,new $(Y,this.destination)))}_next(Y){this.scheduleMessage(R.P.createNext(Y))}_error(Y){this.scheduleMessage(R.P.createError(Y)),this.unsubscribe()}_complete(){this.scheduleMessage(R.P.createComplete()),this.unsubscribe()}}class ${constructor(Y,q){this.notification=Y,this.destination=q}}},1307:(Pe,de,S)=>{"use strict";S.d(de,{x:()=>R});var y=S(7393);function R(){return function($){return $.lift(new H($))}}class H{constructor($){this.connectable=$}call($,ne){const{connectable:Y}=this;Y._refCount++;const q=new ge($,Y),G=ne.subscribe(q);return q.closed||(q.connection=Y.connect()),G}}class ge extends y.L{constructor($,ne){super($),this.connectable=ne}_unsubscribe(){const{connectable:$}=this;if(!$)return void(this.connection=null);this.connectable=null;const ne=$._refCount;if(ne<=0)return void(this.connection=null);if($._refCount=ne-1,ne>1)return void(this.connection=null);const{connection:Y}=this,q=$._connection;this.connection=null,q&&(!Y||q===Y)&&q.unsubscribe()}}},2145:(Pe,de,S)=>{"use strict";S.d(de,{R:()=>R});var y=S(7393);function R(ee,$){let ne=!1;return arguments.length>=2&&(ne=!0),function(q){return q.lift(new H(ee,$,ne))}}class H{constructor($,ne,Y=!1){this.accumulator=$,this.seed=ne,this.hasSeed=Y}call($,ne){return ne.subscribe(new ge($,this.accumulator,this.seed,this.hasSeed))}}class ge extends y.L{constructor($,ne,Y,q){super($),this.accumulator=ne,this._seed=Y,this.hasSeed=q,this.index=0}get seed(){return this._seed}set seed($){this.hasSeed=!0,this._seed=$}_next($){if(this.hasSeed)return this._tryNext($);this.seed=$,this.destination.next($)}_tryNext($){const ne=this.index++;let Y;try{Y=this.accumulator(this.seed,$,ne)}catch(q){this.destination.error(q)}this.seed=Y,this.destination.next(Y)}}},8819:(Pe,de,S)=>{"use strict";S.d(de,{B:()=>ne});var y=S(2441);var ge=S(1307),ee=S(9765);function $(){return new ee.xQ}function ne(){return Y=>(0,ge.x)()(function(Y,q){return function(K){let z;z="function"==typeof Y?Y:function(){return Y};const oe=Object.create(K,y.N);return oe.source=K,oe.subjectFactory=z,oe}}($)(Y))}},3653:(Pe,de,S)=>{"use strict";S.d(de,{T:()=>R});var y=S(7393);function R(ee){return $=>$.lift(new H(ee))}class H{constructor($){this.total=$}call($,ne){return ne.subscribe(new ge($,this.total))}}class ge extends y.L{constructor($,ne){super($),this.total=ne,this.count=0}_next($){++this.count>this.total&&this.destination.next($)}}},9761:(Pe,de,S)=>{"use strict";S.d(de,{O:()=>H});var y=S(8071),R=S(4869);function H(...ge){const ee=ge[ge.length-1];return(0,R.K)(ee)?(ge.pop(),$=>(0,y.z)(ge,$,ee)):$=>(0,y.z)(ge,$)}},3101:(Pe,de,S)=>{"use strict";S.d(de,{R:()=>Ue});var y=S(7574);let R=1;const H=Promise.resolve(),ge={};function ee(Fe){return Fe in ge&&(delete ge[Fe],!0)}const $={setImmediate(Fe){const ae=R++;return ge[ae]=!0,H.then(()=>ee(ae)&&Fe()),ae},clearImmediate(Fe){ee(Fe)}};var Y=S(6465),G=S(6102);const oe=new class extends G.v{flush(ae){this.active=!0,this.scheduled=void 0;const{actions:Ye}=this;let Qe,St=-1,lt=Ye.length;ae=ae||Ye.shift();do{if(Qe=ae.execute(ae.state,ae.delay))break}while(++St<lt&&(ae=Ye.shift()));if(this.active=!1,Qe){for(;++St<lt&&(ae=Ye.shift());)ae.unsubscribe();throw Qe}}}(class extends Y.o{constructor(ae,Ye){super(ae,Ye),this.scheduler=ae,this.work=Ye}requestAsyncId(ae,Ye,Qe=0){return null!==Qe&&Qe>0?super.requestAsyncId(ae,Ye,Qe):(ae.actions.push(this),ae.scheduled||(ae.scheduled=$.setImmediate(ae.flush.bind(ae,null))))}recycleAsyncId(ae,Ye,Qe=0){if(null!==Qe&&Qe>0||null===Qe&&this.delay>0)return super.recycleAsyncId(ae,Ye,Qe);0===ae.actions.length&&($.clearImmediate(Ye),ae.scheduled=void 0)}});var He=S(9796);class Ae extends y.y{constructor(ae,Ye=0,Qe=oe){var Fe;super(),this.source=ae,this.delayTime=Ye,this.scheduler=Qe,(!(!(0,He.k)(Fe=Ye)&&Fe-parseFloat(Fe)+1>=0)||Ye<0)&&(this.delayTime=0),(!Qe||"function"!=typeof Qe.schedule)&&(this.scheduler=oe)}static create(ae,Ye=0,Qe=oe){return new Ae(ae,Ye,Qe)}static dispatch(ae){const{source:Ye,subscriber:Qe}=ae;return this.add(Ye.subscribe(Qe))}_subscribe(ae){return this.scheduler.schedule(Ae.dispatch,this.delayTime,{source:this.source,subscriber:ae})}}function Ue(Fe,ae=0){return function(Qe){return Qe.lift(new Ce(Fe,ae))}}class Ce{constructor(ae,Ye){this.scheduler=ae,this.delay=Ye}call(ae,Ye){return new Ae(Ye,this.delay,this.scheduler).subscribe(ae)}}},3190:(Pe,de,S)=>{"use strict";S.d(de,{w:()=>ge});var y=S(8002),R=S(5372),H=S(5345);function ge(ne,Y){return"function"==typeof Y?q=>q.pipe(ge((G,K)=>(0,R.D)(ne(G,K)).pipe((0,y.U)((z,oe)=>Y(G,z,K,oe))))):q=>q.lift(new ee(ne))}class ee{constructor(Y){this.project=Y}call(Y,q){return q.subscribe(new $(Y,this.project))}}class $ extends H.Ds{constructor(Y,q){super(Y),this.project=q,this.index=0}_next(Y){let q;const G=this.index++;try{q=this.project(Y,G)}catch(K){return void this.destination.error(K)}this._innerSub(q)}_innerSub(Y){const q=this.innerSubscription;q&&q.unsubscribe();const G=new H.IY(this),K=this.destination;K.add(G),this.innerSubscription=(0,H.ft)(Y,G),this.innerSubscription!==G&&K.add(this.innerSubscription)}_complete(){const{innerSubscription:Y}=this;(!Y||Y.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Y){this.destination.next(Y)}}},5257:(Pe,de,S)=>{"use strict";S.d(de,{q:()=>ge});var y=S(7393),R=S(7108),H=S(9193);function ge(ne){return Y=>0===ne?(0,H.c)():Y.lift(new ee(ne))}class ee{constructor(Y){if(this.total=Y,this.total<0)throw new R.W}call(Y,q){return q.subscribe(new $(Y,this.total))}}class $ extends y.L{constructor(Y,q){super(Y),this.total=q,this.count=0}_next(Y){const q=this.total,G=++this.count;G<=q&&(this.destination.next(Y),G===q&&(this.destination.complete(),this.unsubscribe()))}}},6782:(Pe,de,S)=>{"use strict";S.d(de,{R:()=>R});var y=S(5345);function R(ee){return $=>$.lift(new H(ee))}class H{constructor($){this.notifier=$}call($,ne){const Y=new ge($),q=(0,y.ft)(this.notifier,new y.IY(Y));return q&&!Y.seenValue?(Y.add(q),ne.subscribe(Y)):Y}}class ge extends y.Ds{constructor($){super($),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},3342:(Pe,de,S)=>{"use strict";S.d(de,{b:()=>ge});var y=S(7393);function R(){}var H=S(9105);function ge(ne,Y,q){return function(K){return K.lift(new ee(ne,Y,q))}}class ee{constructor(Y,q,G){this.nextOrObserver=Y,this.error=q,this.complete=G}call(Y,q){return q.subscribe(new $(Y,this.nextOrObserver,this.error,this.complete))}}class $ extends y.L{constructor(Y,q,G,K){super(Y),this._tapNext=R,this._tapError=R,this._tapComplete=R,this._tapError=G||R,this._tapComplete=K||R,(0,H.m)(q)?(this._context=this,this._tapNext=q):q&&(this._context=q,this._tapNext=q.next||R,this._tapError=q.error||R,this._tapComplete=q.complete||R)}_next(Y){try{this._tapNext.call(this._context,Y)}catch(q){return void this.destination.error(q)}this.destination.next(Y)}_error(Y){try{this._tapError.call(this._context,Y)}catch(q){return void this.destination.error(q)}this.destination.error(Y)}_complete(){try{this._tapComplete.call(this._context)}catch(Y){return void this.destination.error(Y)}return this.destination.complete()}}},4635:(Pe,de,S)=>{"use strict";S.d(de,{T:()=>H});var y=S(3410),R=S(7393);function H(ne=$){return Y=>Y.lift(new ge(ne))}class ge{constructor(Y){this.errorFactory=Y}call(Y,q){return q.subscribe(new ee(Y,this.errorFactory))}}class ee extends R.L{constructor(Y,q){super(Y),this.errorFactory=q,this.hasValue=!1}_next(Y){this.hasValue=!0,this.destination.next(Y)}_complete(){if(this.hasValue)return this.destination.complete();{let Y;try{Y=this.errorFactory()}catch(q){Y=q}this.destination.error(Y)}}}function $(){return new y.K}},1483:(Pe,de,S)=>{"use strict";S.d(de,{V:()=>G});var y=S(3637);const H=(()=>{function K(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return K.prototype=Object.create(Error.prototype),K})();var ee=S(5345);class ne{constructor(z,oe,He,Le){this.waitFor=z,this.absoluteTimeout=oe,this.withObservable=He,this.scheduler=Le}call(z,oe){return oe.subscribe(new Y(z,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Y extends ee.Ds{constructor(z,oe,He,Le,Ae){super(z),this.absoluteTimeout=oe,this.waitFor=He,this.withObservable=Le,this.scheduler=Ae,this.scheduleTimeout()}static dispatchTimeout(z){const{withObservable:oe}=z;z._unsubscribeAndRecycle(),z.add((0,ee.ft)(oe,new ee.IY(z)))}scheduleTimeout(){const{action:z}=this;z?this.action=z.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Y.dispatchTimeout,this.waitFor,this))}_next(z){this.absoluteTimeout||this.scheduleTimeout(),super._next(z)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var q=S(205);function G(K,z=y.P){return function(K,z,oe=y.P){return He=>{let Le=function(K){return K instanceof Date&&!isNaN(+K)}(K),Ae=Le?+K-oe.now():Math.abs(K);return He.lift(new ne(Ae,Le,z,oe))}}(K,(0,q._)(new H),z)}},7057:(Pe,de,S)=>{"use strict";S.d(de,{M:()=>H});var y=S(5197),R=S(509);function H(...$){return ne=>{let Y;return"function"==typeof $[$.length-1]&&(Y=$.pop()),ne.lift(new ge($,Y))}}class ge{constructor(ne,Y){this.observables=ne,this.project=Y}call(ne,Y){return Y.subscribe(new ee(ne,this.observables,this.project))}}class ee extends y.L{constructor(ne,Y,q){super(ne),this.observables=Y,this.project=q,this.toRespond=[];const G=Y.length;this.values=new Array(G);for(let K=0;K<G;K++)this.toRespond.push(K);for(let K=0;K<G;K++)this.add((0,R.D)(this,Y[K],void 0,K))}notifyNext(ne,Y,q){this.values[q]=Y;const G=this.toRespond;if(G.length>0){const K=G.indexOf(q);-1!==K&&G.splice(K,1)}}notifyComplete(){}_next(ne){if(0===this.toRespond.length){const Y=[ne,...this.values];this.project?this._tryProject(Y):this.destination.next(Y)}}_tryProject(ne){let Y;try{Y=this.project.apply(this,ne)}catch(q){return void this.destination.error(q)}this.destination.next(Y)}}},4087:(Pe,de,S)=>{"use strict";S.d(de,{r:()=>H});var y=S(7574),R=S(5319);function H(ge,ee){return new y.y($=>{const ne=new R.w;let Y=0;return ne.add(ee.schedule(function(){Y!==ge.length?($.next(ge[Y++]),$.closed||ne.add(this.schedule())):$.complete()})),ne})}},4531:(Pe,de,S)=>{"use strict";S.d(de,{c:()=>H});var y=S(7574),R=S(5319);function H(ge,ee){return new y.y($=>{const ne=new R.w;return ne.add(ee.schedule(()=>ge.then(Y=>{ne.add(ee.schedule(()=>{$.next(Y),ne.add(ee.schedule(()=>$.complete()))}))},Y=>{ne.add(ee.schedule(()=>$.error(Y)))}))),ne})}},6465:(Pe,de,S)=>{"use strict";S.d(de,{o:()=>H});var y=S(5319);class R extends y.w{constructor(ee,$){super()}schedule(ee,$=0){return this}}class H extends R{constructor(ee,$){super(ee,$),this.scheduler=ee,this.work=$,this.pending=!1}schedule(ee,$=0){if(this.closed)return this;this.state=ee;const ne=this.id,Y=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(Y,ne,$)),this.pending=!0,this.delay=$,this.id=this.id||this.requestAsyncId(Y,this.id,$),this}requestAsyncId(ee,$,ne=0){return setInterval(ee.flush.bind(ee,this),ne)}recycleAsyncId(ee,$,ne=0){if(null!==ne&&this.delay===ne&&!1===this.pending)return $;clearInterval($)}execute(ee,$){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(ee,$);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,$){let Y,ne=!1;try{this.work(ee)}catch(q){ne=!0,Y=!!q&&q||new Error(q)}if(ne)return this.unsubscribe(),Y}_unsubscribe(){const ee=this.id,$=this.scheduler,ne=$.actions,Y=ne.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Y&&ne.splice(Y,1),null!=ee&&(this.id=this.recycleAsyncId($,ee,null)),this.delay=null}}},6102:(Pe,de,S)=>{"use strict";S.d(de,{v:()=>R});let y=(()=>{class H{constructor(ee,$=H.now){this.SchedulerAction=ee,this.now=$}schedule(ee,$=0,ne){return new this.SchedulerAction(this,ee).schedule(ne,$)}}return H.now=()=>Date.now(),H})();class R extends y{constructor(ge,ee=y.now){super(ge,()=>R.delegate&&R.delegate!==this?R.delegate.now():ee()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ge,ee=0,$){return R.delegate&&R.delegate!==this?R.delegate.schedule(ge,ee,$):super.schedule(ge,ee,$)}flush(ge){const{actions:ee}=this;if(this.active)return void ee.push(ge);let $;this.active=!0;do{if($=ge.execute(ge.state,ge.delay))break}while(ge=ee.shift());if(this.active=!1,$){for(;ge=ee.shift();)ge.unsubscribe();throw $}}}},3637:(Pe,de,S)=>{"use strict";S.d(de,{z:()=>H,P:()=>ge});var y=S(6465);const H=new(S(6102).v)(y.o),ge=H},7771:(Pe,de,S)=>{"use strict";S.d(de,{c:()=>$,N:()=>ee});var y=S(6465),H=S(6102);const ee=new class extends H.v{}(class extends y.o{constructor(Y,q){super(Y,q),this.scheduler=Y,this.work=q}schedule(Y,q=0){return q>0?super.schedule(Y,q):(this.delay=q,this.state=Y,this.scheduler.flush(this),this)}execute(Y,q){return q>0||this.closed?super.execute(Y,q):this._execute(Y,q)}requestAsyncId(Y,q,G=0){return null!==G&&G>0||null===G&&this.delay>0?super.requestAsyncId(Y,q,G):Y.flush(this)}}),$=ee},377:(Pe,de,S)=>{"use strict";S.d(de,{hZ:()=>R});const R="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Pe,de,S)=>{"use strict";S.d(de,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Pe,de,S)=>{"use strict";S.d(de,{b:()=>y});const y="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Pe,de,S)=>{"use strict";S.d(de,{W:()=>R});const R=(()=>{function H(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return H.prototype=Object.create(Error.prototype),H})()},3410:(Pe,de,S)=>{"use strict";S.d(de,{K:()=>R});const R=(()=>{function H(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return H.prototype=Object.create(Error.prototype),H})()},7971:(Pe,de,S)=>{"use strict";S.d(de,{N:()=>R});const R=(()=>{function H(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return H.prototype=Object.create(Error.prototype),H})()},4449:(Pe,de,S)=>{"use strict";function y(R){setTimeout(()=>{throw R},0)}S.d(de,{z:()=>y})},4487:(Pe,de,S)=>{"use strict";function y(R){return R}S.d(de,{y:()=>y})},9796:(Pe,de,S)=>{"use strict";S.d(de,{k:()=>y});const y=Array.isArray||(R=>R&&"number"==typeof R.length)},9489:(Pe,de,S)=>{"use strict";S.d(de,{z:()=>y});const y=R=>R&&"number"==typeof R.length&&"function"!=typeof R},9105:(Pe,de,S)=>{"use strict";function y(R){return"function"==typeof R}S.d(de,{m:()=>y})},1555:(Pe,de,S)=>{"use strict";function y(R){return null!==R&&"object"==typeof R}S.d(de,{K:()=>y})},4072:(Pe,de,S)=>{"use strict";function y(R){return!!R&&"function"!=typeof R.subscribe&&"function"==typeof R.then}S.d(de,{t:()=>y})},4869:(Pe,de,S)=>{"use strict";function y(R){return R&&"function"==typeof R.schedule}S.d(de,{K:()=>y})},5905:(Pe,de,S)=>{"use strict";S.d(de,{s:()=>G});var y=S(5015),R=S(5104),H=S(377),ee=S(6554),ne=S(9489),Y=S(4072),q=S(1555);const G=K=>{if(K&&"function"==typeof K[ee.L])return(K=>z=>{const oe=K[ee.L]();if("function"!=typeof oe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return oe.subscribe(z)})(K);if((0,ne.z)(K))return(0,y.V)(K);if((0,Y.t)(K))return(0,R.A)(K);if(K&&"function"==typeof K[H.hZ])return(K=>z=>{const oe=K[H.hZ]();for(;;){let He;try{He=oe.next()}catch(Le){return z.error(Le),z}if(He.done){z.complete();break}if(z.next(He.value),z.closed)break}return"function"==typeof oe.return&&z.add(()=>{oe.return&&oe.return()}),z})(K);{const oe=`You provided ${(0,q.K)(K)?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(oe)}}},5015:(Pe,de,S)=>{"use strict";S.d(de,{V:()=>y});const y=R=>H=>{for(let ge=0,ee=R.length;ge<ee&&!H.closed;ge++)H.next(R[ge]);H.complete()}},5104:(Pe,de,S)=>{"use strict";S.d(de,{A:()=>R});var y=S(4449);const R=H=>ge=>(H.then(ee=>{ge.closed||(ge.next(ee),ge.complete())},ee=>ge.error(ee)).then(null,y.z),ge)},509:(Pe,de,S)=>{"use strict";S.d(de,{D:()=>ee});var y=S(7393);class R extends y.L{constructor(ne,Y,q){super(),this.parent=ne,this.outerValue=Y,this.outerIndex=q,this.index=0}_next(ne){this.parent.notifyNext(this.outerValue,ne,this.outerIndex,this.index++,this)}_error(ne){this.parent.notifyError(ne,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var H=S(5905),ge=S(7574);function ee($,ne,Y,q,G=new R($,Y,q)){if(!G.closed)return ne instanceof ge.y?ne.subscribe(G):(0,H.s)(ne)(G)}},4762:(Pe,de,S)=>{"use strict";function ge(le,qe){var be={};for(var fe in le)Object.prototype.hasOwnProperty.call(le,fe)&&qe.indexOf(fe)<0&&(be[fe]=le[fe]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(fe=Object.getOwnPropertySymbols(le);Oe<fe.length;Oe++)qe.indexOf(fe[Oe])<0&&Object.prototype.propertyIsEnumerable.call(le,fe[Oe])&&(be[fe[Oe]]=le[fe[Oe]])}return be}function Y(le,qe,be,fe){return new(be||(be=Promise))(function(se,et){function gt(Tt){try{mt(fe.next(Tt))}catch(Mt){et(Mt)}}function Vt(Tt){try{mt(fe.throw(Tt))}catch(Mt){et(Mt)}}function mt(Tt){Tt.done?se(Tt.value):function(se){return se instanceof be?se:new be(function(et){et(se)})}(Tt.value).then(gt,Vt)}mt((fe=fe.apply(le,qe||[])).next())})}function q(le,qe){var fe,Oe,se,et,be={label:0,sent:function(){if(1&se[0])throw se[1];return se[1]},trys:[],ops:[]};return et={next:gt(0),throw:gt(1),return:gt(2)},"function"==typeof Symbol&&(et[Symbol.iterator]=function(){return this}),et;function gt(mt){return function(Tt){return function(mt){if(fe)throw new TypeError("Generator is already executing.");for(;be;)try{if(fe=1,Oe&&(se=2&mt[0]?Oe.return:mt[0]?Oe.throw||((se=Oe.return)&&se.call(Oe),0):Oe.next)&&!(se=se.call(Oe,mt[1])).done)return se;switch(Oe=0,se&&(mt=[2&mt[0],se.value]),mt[0]){case 0:case 1:se=mt;break;case 4:return be.label++,{value:mt[1],done:!1};case 5:be.label++,Oe=mt[1],mt=[0];continue;case 7:mt=be.ops.pop(),be.trys.pop();continue;default:if(!(se=(se=be.trys).length>0&&se[se.length-1])&&(6===mt[0]||2===mt[0])){be=0;continue}if(3===mt[0]&&(!se||mt[1]>se[0]&&mt[1]<se[3])){be.label=mt[1];break}if(6===mt[0]&&be.label<se[1]){be.label=se[1],se=mt;break}if(se&&be.label<se[2]){be.label=se[2],be.ops.push(mt);break}se[2]&&be.ops.pop(),be.trys.pop();continue}mt=qe.call(le,be)}catch(Tt){mt=[6,Tt],Oe=0}finally{fe=se=0}if(5&mt[0])throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}([mt,Tt])}}}function z(le){var qe="function"==typeof Symbol&&Symbol.iterator,be=qe&&le[qe],fe=0;if(be)return be.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&fe>=le.length&&(le=void 0),{value:le&&le[fe++],done:!le}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(le,qe){var be="function"==typeof Symbol&&le[Symbol.iterator];if(!be)return le;var Oe,et,fe=be.call(le),se=[];try{for(;(void 0===qe||qe-- >0)&&!(Oe=fe.next()).done;)se.push(Oe.value)}catch(gt){et={error:gt}}finally{try{Oe&&!Oe.done&&(be=fe.return)&&be.call(fe)}finally{if(et)throw et.error}}return se}function Ae(le,qe,be){if(be||2===arguments.length)for(var se,fe=0,Oe=qe.length;fe<Oe;fe++)(se||!(fe in qe))&&(se||(se=Array.prototype.slice.call(qe,0,fe)),se[fe]=qe[fe]);return le.concat(se||Array.prototype.slice.call(qe))}S.d(de,{_T:()=>ge,mG:()=>Y,Jh:()=>q,XA:()=>z,CR:()=>oe,ev:()=>Ae})},4553:(Pe,de,S)=>{"use strict";function y(H,ge,ee,$,ne,Y,q){try{var G=H[Y](q),K=G.value}catch(z){return void ee(z)}G.done?ge(K):Promise.resolve(K).then($,ne)}function R(H){return function(){var ge=this,ee=arguments;return new Promise(function($,ne){var Y=H.apply(ge,ee);function q(K){y(Y,$,ne,q,G,"next",K)}function G(K){y(Y,$,ne,q,G,"throw",K)}q(void 0)})}}S.d(de,{Z:()=>R})}},Pe=>{Pe(Pe.s=6754)}]);